(self.webpackChunku3_tarea2=self.webpackChunku3_tarea2||[]).push([[179],{8255:e=>{function t(e){return Promise.resolve().then(()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=()=>[],t.resolve=t,t.id=8255,e.exports=t},1116:(e,t,n)=>{"use strict";n.d(t,{mr:()=>w,ez:()=>Oe,H9:()=>ke,K0:()=>u,uU:()=>Ce,JJ:()=>Ae,Do:()=>I,V_:()=>h,Ye:()=>T,S$:()=>v,i8:()=>Ee,sg:()=>ve,O5:()=>we,b0:()=>b,lw:()=>c,gd:()=>Se,EM:()=>Pe,JF:()=>Fe,PM:()=>Re,w_:()=>a,bD:()=>De,q:()=>s,Mx:()=>me,HT:()=>o});var r=n(7368);let i=null;function s(){return i}function o(e){i||(i=e)}class a{}const u=new r.OlP("DocumentToken");let c=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:l,token:e,providedIn:"platform"}),e})();function l(){return(0,r.LFG)(d)}const h=new r.OlP("Location Initialized");let d=(()=>{class e extends c{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(e){const t=s().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),()=>t.removeEventListener("popstate",e)}onHashChange(e){const t=s().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),()=>t.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){f()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){f()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(u))},e.\u0275prov=(0,r.Yz7)({factory:p,token:e,providedIn:"platform"}),e})();function f(){return!!window.history.pushState}function p(){return new d((0,r.LFG)(u))}function g(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function m(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function y(e){return e&&"?"!==e[0]?"?"+e:e}let v=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:_,token:e,providedIn:"root"}),e})();function _(e){const t=(0,r.LFG)(u).location;return new b((0,r.LFG)(c),t&&t.origin||"")}const w=new r.OlP("appBaseHref");let b=(()=>{class e extends v{constructor(e,t){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return g(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+y(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(c),r.LFG(w,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),I=(()=>{class e extends v{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=t&&(this._baseHref=t)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=g(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(c),r.LFG(w,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),T=(()=>{class e{constructor(e,t){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=m(S(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+y(t))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,S(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+y(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+y(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformStrategy).historyGo)||void 0===n||n.call(t,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)}))}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(v),r.LFG(c))},e.normalizeQueryParams=y,e.joinWithSlash=g,e.stripTrailingSlash=m,e.\u0275prov=(0,r.Yz7)({factory:E,token:e,providedIn:"root"}),e})();function E(){return new T((0,r.LFG)(v),(0,r.LFG)(c))}function S(e){return e.replace(/\/index.html$/,"")}const C={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var A=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}({}),k=function(e){return e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other",e}({}),x=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}({}),N=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}({}),O=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}({}),D=function(e){return e[e.Decimal=0]="Decimal",e[e.Group=1]="Group",e[e.List=2]="List",e[e.PercentSign=3]="PercentSign",e[e.PlusSign=4]="PlusSign",e[e.MinusSign=5]="MinusSign",e[e.Exponential=6]="Exponential",e[e.SuperscriptingExponent=7]="SuperscriptingExponent",e[e.PerMille=8]="PerMille",e[e[1/0]=9]="Infinity",e[e.NaN=10]="NaN",e[e.TimeSeparator=11]="TimeSeparator",e[e.CurrencyDecimal=12]="CurrencyDecimal",e[e.CurrencyGroup=13]="CurrencyGroup",e}({});function R(e,t){return j((0,r.cg1)(e)[r.wAp.DateFormat],t)}function P(e,t){return j((0,r.cg1)(e)[r.wAp.TimeFormat],t)}function L(e,t){return j((0,r.cg1)(e)[r.wAp.DateTimeFormat],t)}function M(e,t){const n=(0,r.cg1)(e),i=n[r.wAp.NumberSymbols][t];if(void 0===i){if(t===D.CurrencyDecimal)return n[r.wAp.NumberSymbols][D.Decimal];if(t===D.CurrencyGroup)return n[r.wAp.NumberSymbols][D.Group]}return i}function F(e,t){return(0,r.cg1)(e)[r.wAp.NumberFormats][t]}const U=r.kL8;function V(e){if(!e[r.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[r.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function j(e,t){for(let n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function q(e){const[t,n]=e.split(":");return{hours:+t,minutes:+n}}const Z=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,z={},B=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var $=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}({}),H=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}({}),G=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}({});function K(e,t,n,r){let i=function(e){if(ae(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[t,n=1,r=1]=e.split("-").map(e=>+e);return W(t,n-1,r)}const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let n;if(n=e.match(Z))return function(e){const t=new Date(0);let n=0,r=0;const i=e[8]?t.setUTCFullYear:t.setFullYear,s=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));const o=Number(e[4]||0)-n,a=Number(e[5]||0)-r,u=Number(e[6]||0),c=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return s.call(t,o,a,u,c),t}(n)}const t=new Date(e);if(!ae(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=Y(n,t)||t;let s,o=[];for(;t;){if(s=B.exec(t),!s){o.push(t);break}{o=o.concat(s.slice(1));const e=o.pop();if(!e)break;t=e}}let a=i.getTimezoneOffset();r&&(a=oe(r,a),i=function(e,t,n){const r=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(oe(t,r)-r))}(i,r));let u="";return o.forEach(e=>{const t=function(e){if(se[e])return se[e];let t;switch(e){case"G":case"GG":case"GGG":t=ee(G.Eras,N.Abbreviated);break;case"GGGG":t=ee(G.Eras,N.Wide);break;case"GGGGG":t=ee(G.Eras,N.Narrow);break;case"y":t=X(H.FullYear,1,0,!1,!0);break;case"yy":t=X(H.FullYear,2,0,!0,!0);break;case"yyy":t=X(H.FullYear,3,0,!1,!0);break;case"yyyy":t=X(H.FullYear,4,0,!1,!0);break;case"Y":t=ie(1);break;case"YY":t=ie(2,!0);break;case"YYY":t=ie(3);break;case"YYYY":t=ie(4);break;case"M":case"L":t=X(H.Month,1,1);break;case"MM":case"LL":t=X(H.Month,2,1);break;case"MMM":t=ee(G.Months,N.Abbreviated);break;case"MMMM":t=ee(G.Months,N.Wide);break;case"MMMMM":t=ee(G.Months,N.Narrow);break;case"LLL":t=ee(G.Months,N.Abbreviated,x.Standalone);break;case"LLLL":t=ee(G.Months,N.Wide,x.Standalone);break;case"LLLLL":t=ee(G.Months,N.Narrow,x.Standalone);break;case"w":t=re(1);break;case"ww":t=re(2);break;case"W":t=re(1,!0);break;case"d":t=X(H.Date,1);break;case"dd":t=X(H.Date,2);break;case"c":case"cc":t=X(H.Day,1);break;case"ccc":t=ee(G.Days,N.Abbreviated,x.Standalone);break;case"cccc":t=ee(G.Days,N.Wide,x.Standalone);break;case"ccccc":t=ee(G.Days,N.Narrow,x.Standalone);break;case"cccccc":t=ee(G.Days,N.Short,x.Standalone);break;case"E":case"EE":case"EEE":t=ee(G.Days,N.Abbreviated);break;case"EEEE":t=ee(G.Days,N.Wide);break;case"EEEEE":t=ee(G.Days,N.Narrow);break;case"EEEEEE":t=ee(G.Days,N.Short);break;case"a":case"aa":case"aaa":t=ee(G.DayPeriods,N.Abbreviated);break;case"aaaa":t=ee(G.DayPeriods,N.Wide);break;case"aaaaa":t=ee(G.DayPeriods,N.Narrow);break;case"b":case"bb":case"bbb":t=ee(G.DayPeriods,N.Abbreviated,x.Standalone,!0);break;case"bbbb":t=ee(G.DayPeriods,N.Wide,x.Standalone,!0);break;case"bbbbb":t=ee(G.DayPeriods,N.Narrow,x.Standalone,!0);break;case"B":case"BB":case"BBB":t=ee(G.DayPeriods,N.Abbreviated,x.Format,!0);break;case"BBBB":t=ee(G.DayPeriods,N.Wide,x.Format,!0);break;case"BBBBB":t=ee(G.DayPeriods,N.Narrow,x.Format,!0);break;case"h":t=X(H.Hours,1,-12);break;case"hh":t=X(H.Hours,2,-12);break;case"H":t=X(H.Hours,1);break;case"HH":t=X(H.Hours,2);break;case"m":t=X(H.Minutes,1);break;case"mm":t=X(H.Minutes,2);break;case"s":t=X(H.Seconds,1);break;case"ss":t=X(H.Seconds,2);break;case"S":t=X(H.FractionalSeconds,1);break;case"SS":t=X(H.FractionalSeconds,2);break;case"SSS":t=X(H.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=te($.Short);break;case"ZZZZZ":t=te($.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=te($.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=te($.Long);break;default:return null}return se[e]=t,t}(e);u+=t?t(i,n,a):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function W(e,t,n){const r=new Date(0);return r.setFullYear(e,t,n),r.setHours(0,0,0),r}function Y(e,t){const n=function(e){return(0,r.cg1)(e)[r.wAp.LocaleId]}(e);if(z[n]=z[n]||{},z[n][t])return z[n][t];let i="";switch(t){case"shortDate":i=R(e,O.Short);break;case"mediumDate":i=R(e,O.Medium);break;case"longDate":i=R(e,O.Long);break;case"fullDate":i=R(e,O.Full);break;case"shortTime":i=P(e,O.Short);break;case"mediumTime":i=P(e,O.Medium);break;case"longTime":i=P(e,O.Long);break;case"fullTime":i=P(e,O.Full);break;case"short":const t=Y(e,"shortTime"),n=Y(e,"shortDate");i=Q(L(e,O.Short),[t,n]);break;case"medium":const r=Y(e,"mediumTime"),s=Y(e,"mediumDate");i=Q(L(e,O.Medium),[r,s]);break;case"long":const o=Y(e,"longTime"),a=Y(e,"longDate");i=Q(L(e,O.Long),[o,a]);break;case"full":const u=Y(e,"fullTime"),c=Y(e,"fullDate");i=Q(L(e,O.Full),[u,c])}return i&&(z[n][t]=i),i}function Q(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(e,n){return null!=t&&n in t?t[n]:e})),e}function J(e,t,n="-",r,i){let s="";(e<0||i&&e<=0)&&(i?e=1-e:(e=-e,s=n));let o=String(e);for(;o.length<t;)o="0"+o;return r&&(o=o.substr(o.length-t)),s+o}function X(e,t,n=0,r=!1,i=!1){return function(s,o){let a=function(e,t){switch(e){case H.FullYear:return t.getFullYear();case H.Month:return t.getMonth();case H.Date:return t.getDate();case H.Hours:return t.getHours();case H.Minutes:return t.getMinutes();case H.Seconds:return t.getSeconds();case H.FractionalSeconds:return t.getMilliseconds();case H.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,s);if((n>0||a>-n)&&(a+=n),e===H.Hours)0===a&&-12===n&&(a=12);else if(e===H.FractionalSeconds)return u=t,J(a,3).substr(0,u);var u;const c=M(o,D.MinusSign);return J(a,t,c,r,i)}}function ee(e,t,n=x.Format,i=!1){return function(s,o){return function(e,t,n,i,s,o){switch(n){case G.Months:return function(e,t,n){const i=(0,r.cg1)(e),s=j([i[r.wAp.MonthsFormat],i[r.wAp.MonthsStandalone]],t);return j(s,n)}(t,s,i)[e.getMonth()];case G.Days:return function(e,t,n){const i=(0,r.cg1)(e),s=j([i[r.wAp.DaysFormat],i[r.wAp.DaysStandalone]],t);return j(s,n)}(t,s,i)[e.getDay()];case G.DayPeriods:const a=e.getHours(),u=e.getMinutes();if(o){const e=function(e){const t=(0,r.cg1)(e);return V(t),(t[r.wAp.ExtraData][2]||[]).map(e=>"string"==typeof e?q(e):[q(e[0]),q(e[1])])}(t),n=function(e,t,n){const i=(0,r.cg1)(e);V(i);const s=j([i[r.wAp.ExtraData][0],i[r.wAp.ExtraData][1]],t)||[];return j(s,n)||[]}(t,s,i),o=e.findIndex(e=>{if(Array.isArray(e)){const[t,n]=e,r=a>=t.hours&&u>=t.minutes,i=a<n.hours||a===n.hours&&u<n.minutes;if(t.hours<n.hours){if(r&&i)return!0}else if(r||i)return!0}else if(e.hours===a&&e.minutes===u)return!0;return!1});if(-1!==o)return n[o]}return function(e,t,n){const i=(0,r.cg1)(e),s=j([i[r.wAp.DayPeriodsFormat],i[r.wAp.DayPeriodsStandalone]],t);return j(s,n)}(t,s,i)[a<12?0:1];case G.Eras:return function(e,t){return j((0,r.cg1)(e)[r.wAp.Eras],t)}(t,i)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(s,o,e,t,n,i)}}function te(e){return function(t,n,r){const i=-1*r,s=M(n,D.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case $.Short:return(i>=0?"+":"")+J(o,2,s)+J(Math.abs(i%60),2,s);case $.ShortGMT:return"GMT"+(i>=0?"+":"")+J(o,1,s);case $.Long:return"GMT"+(i>=0?"+":"")+J(o,2,s)+":"+J(Math.abs(i%60),2,s);case $.Extended:return 0===r?"Z":(i>=0?"+":"")+J(o,2,s)+":"+J(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${e}"`)}}}function ne(e){return W(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function re(e,t=!1){return function(n,r){let i;if(t){const e=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,t=n.getDate();i=1+Math.floor((t+e)/7)}else{const e=ne(n),t=function(e){const t=W(e,0,1).getDay();return W(e,0,1+(t<=4?4:11)-t)}(e.getFullYear()),r=e.getTime()-t.getTime();i=1+Math.round(r/6048e5)}return J(i,e,M(r,D.MinusSign))}}function ie(e,t=!1){return function(n,r){return J(ne(n).getFullYear(),e,M(r,D.MinusSign),t)}}const se={};function oe(e,t){e=e.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function ae(e){return e instanceof Date&&!isNaN(e.valueOf())}const ue=/^(\d+)?\.((\d+)(-(\d+))?)?$/,ce=".",le="0";function he(e,t,n,r,i,s,o=!1){let a="",u=!1;if(isFinite(e)){let c=function(e){let t,n,r,i,s,o=Math.abs(e)+"",a=0;for((n=o.indexOf(ce))>-1&&(o=o.replace(ce,"")),(r=o.search(/e/i))>0?(n<0&&(n=r),n+=+o.slice(r+1),o=o.substring(0,r)):n<0&&(n=o.length),r=0;o.charAt(r)===le;r++);if(r===(s=o.length))t=[0],n=1;else{for(s--;o.charAt(s)===le;)s--;for(n-=r,t=[],i=0;r<=s;r++,i++)t[i]=Number(o.charAt(r))}return n>22&&(t=t.splice(0,21),a=n-1,n=1),{digits:t,exponent:a,integerLen:n}}(e);o&&(c=function(e){if(0===e.digits[0])return e;const t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(c));let l=t.minInt,h=t.minFrac,d=t.maxFrac;if(s){const e=s.match(ue);if(null===e)throw new Error(`${s} is not a valid digit info`);const t=e[1],n=e[3],r=e[5];null!=t&&(l=fe(t)),null!=n&&(h=fe(n)),null!=r?d=fe(r):null!=n&&h>d&&(d=h)}!function(e,t,n){if(t>n)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${n}).`);let r=e.digits,i=r.length-e.integerLen;const s=Math.min(Math.max(t,i),n);let o=s+e.integerLen,a=r[o];if(o>0){r.splice(Math.max(e.integerLen,o));for(let e=o;e<r.length;e++)r[e]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let e=1;e<o;e++)r[e]=0}if(a>=5)if(o-1<0){for(let t=0;t>o;t--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let u=0!==s;const c=t+e.integerLen,l=r.reduceRight(function(e,t,n,r){return r[n]=(t+=e)<10?t:t-10,u&&(0===r[n]&&n>=c?r.pop():u=!1),t>=10?1:0},0);l&&(r.unshift(l),e.integerLen++)}(c,h,d);let f=c.digits,p=c.integerLen;const g=c.exponent;let m=[];for(u=f.every(e=>!e);p<l;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?m=f.splice(p,f.length):(m=f,f=[0]);const y=[];for(f.length>=t.lgSize&&y.unshift(f.splice(-t.lgSize,f.length).join(""));f.length>t.gSize;)y.unshift(f.splice(-t.gSize,f.length).join(""));f.length&&y.unshift(f.join("")),a=y.join(M(n,r)),m.length&&(a+=M(n,i)+m.join("")),g&&(a+=M(n,D.Exponential)+"+"+g)}else a=M(n,D.Infinity);return a=e<0&&!u?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf,a}function de(e,t="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(ce)?i.split(ce):[i.substring(0,i.lastIndexOf(le)+1),i.substring(i.lastIndexOf(le)+1)],a=o[0],u=o[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let l=0;l<u.length;l++){const e=u.charAt(l);e===le?n.minFrac=n.maxFrac=l+1:"#"===e?n.maxFrac=l+1:n.posSuf+=e}const c=a.split(",");if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const e=i.length-n.posPre.length-n.posSuf.length,t=s.indexOf("#");n.negPre=s.substr(0,t).replace(/'/g,""),n.negSuf=s.substr(t+e).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}function fe(e){const t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}class pe{}let ge=(()=>{class e extends pe{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(U(t||this.locale)(e)){case k.Zero:return"zero";case k.One:return"one";case k.Two:return"two";case k.Few:return"few";case k.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.soG))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();function me(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[r,i]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(r.trim()===t)return decodeURIComponent(i)}return null}class ye{constructor(e,t,n,r){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ve=(()=>{class e{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${n}' of type '${e=n,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,r)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new ye(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new _e(e,n);t.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new _e(e,i);t.push(s)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=r,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();class _e{constructor(e,t){this.record=e,this.view=t}}let we=(()=>{class e{constructor(e,t){this._viewContainer=e,this._context=new be,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Ie("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Ie("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.Rgc))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class be{constructor(){this.$implicit=null,this.ngIf=null}}function Ie(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${(0,r.AaK)(t)}'.`)}function Te(e,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${(0,r.AaK)(e)}'`)}let Ee=(()=>{class e{transform(t){if(null==t)return null;if("string"!=typeof t)throw Te(e,t);return t.toLowerCase()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r.Yjl({name:"lowercase",type:e,pure:!0}),e})(),Se=(()=>{class e{transform(t){if(null==t)return null;if("string"!=typeof t)throw Te(e,t);return t.toUpperCase()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r.Yjl({name:"uppercase",type:e,pure:!0}),e})(),Ce=(()=>{class e{constructor(e){this.locale=e}transform(t,n="mediumDate",r,i){if(null==t||""===t||t!=t)return null;try{return K(t,n,i||this.locale,r)}catch(s){throw Te(e,s.message)}}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.soG,16))},e.\u0275pipe=r.Yjl({name:"date",type:e,pure:!0}),e})(),Ae=(()=>{class e{constructor(e){this._locale=e}transform(t,n,r){if(!xe(t))return null;r=r||this._locale;try{return function(e,t,n){return he(e,de(F(t,A.Decimal),M(t,D.MinusSign)),t,D.Group,D.Decimal,n)}(Ne(t),r,n)}catch(i){throw Te(e,i.message)}}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.soG,16))},e.\u0275pipe=r.Yjl({name:"number",type:e,pure:!0}),e})(),ke=(()=>{class e{constructor(e,t="USD"){this._locale=e,this._defaultCurrencyCode=t}transform(t,n=this._defaultCurrencyCode,i="symbol",s,o){if(!xe(t))return null;o=o||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let a=n||this._defaultCurrencyCode;"code"!==i&&(a="symbol"===i||"symbol-narrow"===i?function(e,t,n="en"){const i=function(e){return(0,r.cg1)(e)[r.wAp.Currencies]}(n)[e]||C[e]||[],s=i[1];return"narrow"===t&&"string"==typeof s?s:i[0]||e}(a,"symbol"===i?"wide":"narrow",o):i);try{return function(e,t,n,r,i){const s=de(F(t,A.Currency),M(t,D.MinusSign));return s.minFrac=function(e){let t;const n=C[e];return n&&(t=n[2]),"number"==typeof t?t:2}(r),s.maxFrac=s.minFrac,he(e,s,t,D.CurrencyGroup,D.CurrencyDecimal,i).replace("\xa4",n).replace("\xa4","").trim()}(Ne(t),o,a,n,s)}catch(u){throw Te(e,u.message)}}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.soG,16),r.Y36(r.EJc,16))},e.\u0275pipe=r.Yjl({name:"currency",type:e,pure:!0}),e})();function xe(e){return!(null==e||""===e||e!=e)}function Ne(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(`${e} is not a number`);return e}let Oe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[{provide:pe,useClass:ge}]}),e})();const De="browser";function Re(e){return"server"===e}let Pe=(()=>{class e{}return e.\u0275prov=(0,r.Yz7)({token:e,providedIn:"root",factory:()=>new Le((0,r.LFG)(u),window)}),e})();class Le{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const e=r.shadowRoot;if(e){const n=e.getElementById(t)||e.querySelector(`[name="${t}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Me(this.window.history)||Me(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Me(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class Fe{}},7368:(e,t,n)=>{"use strict";n.d(t,{deG:()=>En,tb:()=>ef,AFp:()=>Wd,ip1:()=>Gd,CZH:()=>Kd,hGG:()=>Kf,z2F:()=>Uf,sBO:()=>Th,Sil:()=>df,_Vd:()=>Gl,EJc:()=>rf,SBq:()=>Ql,qLn:()=>mi,vpe:()=>Id,gxx:()=>bo,tBr:()=>er,XFs:()=>D,GSi:()=>xa,OlP:()=>Tn,zs3:()=>Mo,ZZ4:()=>mh,aQg:()=>vh,soG:()=>nf,LVF:()=>$d,YKP:()=>Rh,v3s:()=>jf,h0i:()=>Dh,PXZ:()=>Rf,R0b:()=>gf,FiY:()=>tr,Lbi:()=>Xd,g9A:()=>Jd,Qsj:()=>eh,FYo:()=>Xl,JOm:()=>Ei,Tiy:()=>nh,q3G:()=>ti,tp0:()=>rr,EAV:()=>zf,Rgc:()=>kh,dDg:()=>If,DyG:()=>Cn,q4F:()=>ih,GfV:()=>rh,s_b:()=>Lh,ifc:()=>U,eFA:()=>Pf,G48:()=>Of,Gpc:()=>g,X6Q:()=>Nf,_c5:()=>Hf,VLi:()=>Sf,c2e:()=>tf,zSh:()=>To,wAp:()=>Nc,vHH:()=>v,EiD:()=>Xr,mCW:()=>Lr,qzn:()=>Tr,JVY:()=>Sr,pB0:()=>xr,eBb:()=>Ar,L6k:()=>Cr,LAX:()=>kr,cg1:()=>Ac,Tjo:()=>$f,kL8:()=>kc,yhl:()=>Er,dqk:()=>z,sIi:()=>Yo,CqO:()=>Ba,QGY:()=>Za,F4k:()=>za,zlt:()=>Gh,RDi:()=>Ne,AaK:()=>d,z3N:()=>Ir,qOj:()=>Vo,TTD:()=>Ie,_Bn:()=>Bl,xp6:()=>ws,uIk:()=>ia,ekj:()=>Iu,Suo:()=>Md,Xpm:()=>ee,lG2:()=>ue,Yz7:()=>T,cJS:()=>E,oAB:()=>se,Yjl:()=>ce,Y36:()=>Oa,_UZ:()=>Fa,qZA:()=>Ma,TgZ:()=>La,EpF:()=>qa,n5z:()=>fn,Ikx:()=>Ic,LFG:()=>Yn,$8M:()=>gn,NdJ:()=>$a,CRH:()=>Fd,oxw:()=>Ya,ALo:()=>fd,lcZ:()=>pd,xi3:()=>gd,Q6J:()=>Ra,VKq:()=>Jh,iGM:()=>Pd,CHM:()=>Qe,LSH:()=>ii,kYT:()=>oe,YNc:()=>Ta,_uU:()=>Uu,Oqu:()=>Vu,hij:()=>ju});var r=n(5959),i=n(7570),s=n(8318),o=n(1906),a=n(2875),u=n(1564);function c(){return new r.xQ}function l(e){for(let t in e)if(e[t]===l)return t;throw Error("Could not find renamed property on target object.")}function h(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function d(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(d).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function f(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const p=l({__forward_ref__:l});function g(e){return e.__forward_ref__=g,e.toString=function(){return d(this())},e}function m(e){return y(e)?e():e}function y(e){return"function"==typeof e&&e.hasOwnProperty(p)&&e.__forward_ref__===g}class v extends Error{constructor(e,t){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(e,t)),this.code=e}}function _(e){return"string"==typeof e?e:null==e?"":String(e)}function w(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():_(e)}function b(e,t){const n=t?` in ${t}`:"";throw new v("201",`No provider for ${w(e)} found${n}`)}function I(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}function T(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function E(e){return{providers:e.providers||[],imports:e.imports||[]}}function S(e){return C(e,k)||C(e,N)}function C(e,t){return e.hasOwnProperty(t)?e[t]:null}function A(e){return e&&(e.hasOwnProperty(x)||e.hasOwnProperty(O))?e[x]:null}const k=l({"\u0275prov":l}),x=l({"\u0275inj":l}),N=l({ngInjectableDef:l}),O=l({ngInjectorDef:l});var D=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});let R;function P(e){const t=R;return R=e,t}function L(e,t,n){const r=S(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&D.Optional?null:void 0!==t?t:void b(d(e),"Injector")}function M(e){return{toString:e}.toString()}var F=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}({}),U=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}({});const V="undefined"!=typeof globalThis&&globalThis,j="undefined"!=typeof window&&window,q="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Z="undefined"!=typeof global&&global,z=V||Z||j||q,B={},$=[],H=l({"\u0275cmp":l}),G=l({"\u0275dir":l}),K=l({"\u0275pipe":l}),W=l({"\u0275mod":l}),Y=l({"\u0275loc":l}),Q=l({"\u0275fac":l}),J=l({__NG_ELEMENT_ID__:l});let X=0;function ee(e){return M(()=>{const t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===F.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||$,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||U.Emulated,id:"c",styles:e.styles||$,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,i=e.features,s=e.pipes;return n.id+=X++,n.inputs=ae(e.inputs,t),n.outputs=ae(e.outputs),i&&i.forEach(e=>e(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(ne):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(re):null,n})}function te(e,t,n){const r=e.\u0275cmp;r.directiveDefs=()=>t.map(ne),r.pipeDefs=()=>n.map(re)}function ne(e){return le(e)||function(e){return e[G]||null}(e)}function re(e){return function(e){return e[K]||null}(e)}const ie={};function se(e){return M(()=>{const t={type:e.type,bootstrap:e.bootstrap||$,declarations:e.declarations||$,imports:e.imports||$,exports:e.exports||$,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(ie[e.id]=e.type),t})}function oe(e,t){return M(()=>{const n=he(e,!0);n.declarations=t.declarations||$,n.imports=t.imports||$,n.exports=t.exports||$})}function ae(e,t){if(null==e)return B;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,t&&(t[i]=s)}return n}const ue=ee;function ce(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function le(e){return e[H]||null}function he(e,t){const n=e[W]||null;if(!n&&!0===t)throw new Error(`Type ${d(e)} does not have '\u0275mod' property.`);return n}const de=20,fe=10;function pe(e){return Array.isArray(e)&&"object"==typeof e[1]}function ge(e){return Array.isArray(e)&&!0===e[1]}function me(e){return 0!=(8&e.flags)}function ye(e){return 2==(2&e.flags)}function ve(e){return 1==(1&e.flags)}function _e(e){return null!==e.template}function we(e,t){return e.hasOwnProperty(Q)?e[Q]:null}class be{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function Ie(){return Te}function Te(e){return e.type.prototype.ngOnChanges&&(e.setInput=Se),Ee}function Ee(){const e=Ce(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===B)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}}function Se(e,t,n,r){const i=Ce(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:B,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new be(u&&u.currentValue,t,o===B),e[r]=t}function Ce(e){return e.__ngSimpleChanges__||null}Ie.ngInherit=!0;const Ae="http://www.w3.org/2000/svg",ke="http://www.w3.org/1998/MathML/";let xe;function Ne(e){xe=e}function Oe(){return void 0!==xe?xe:"undefined"!=typeof document?document:void 0}function De(e){return!!e.listen}const Re={createRenderer:(e,t)=>Oe()};function Pe(e){for(;Array.isArray(e);)e=e[0];return e}function Le(e,t){return Pe(t[e])}function Me(e,t){return Pe(t[e.index])}function Fe(e,t){return e.data[t]}function Ue(e,t){return e[t]}function Ve(e,t){const n=t[e];return pe(n)?n:n[0]}function je(e){return 4==(4&e[2])}function qe(e){return 128==(128&e[2])}function Ze(e,t){return null==t?null:e[t]}function ze(e){e[18]=0}function Be(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const $e={lFrame:bt(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function He(){return $e.bindingsEnabled}function Ge(){$e.bindingsEnabled=!0}function Ke(){$e.bindingsEnabled=!1}function We(){return $e.lFrame.lView}function Ye(){return $e.lFrame.tView}function Qe(e){return $e.lFrame.contextLView=e,e[8]}function Je(){let e=Xe();for(;null!==e&&64===e.type;)e=e.parent;return e}function Xe(){return $e.lFrame.currentTNode}function et(){const e=$e.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function tt(e,t){const n=$e.lFrame;n.currentTNode=e,n.isParent=t}function nt(){return $e.lFrame.isParent}function rt(){$e.lFrame.isParent=!1}function it(){return $e.isInCheckNoChangesMode}function st(e){$e.isInCheckNoChangesMode=e}function ot(){const e=$e.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function at(){return $e.lFrame.bindingIndex}function ut(e){return $e.lFrame.bindingIndex=e}function ct(){return $e.lFrame.bindingIndex++}function lt(e){const t=$e.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function ht(e){$e.lFrame.inI18n=e}function dt(e,t){const n=$e.lFrame;n.bindingIndex=n.bindingRootIndex=e,ft(t)}function ft(e){$e.lFrame.currentDirectiveIndex=e}function pt(e){const t=$e.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function gt(){return $e.lFrame.currentQueryIndex}function mt(e){$e.lFrame.currentQueryIndex=e}function yt(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function vt(e,t,n){if(n&D.SkipSelf){let r=t,i=e;for(;r=r.parent,!(null!==r||n&D.Host||(r=yt(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;t=r,e=i}const r=$e.lFrame=wt();return r.currentTNode=t,r.lView=e,!0}function _t(e){const t=wt(),n=e[1];$e.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function wt(){const e=$e.lFrame,t=null===e?null:e.child;return null===t?bt(e):t}function bt(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function It(){const e=$e.lFrame;return $e.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Tt=It;function Et(){const e=It();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function St(){return $e.lFrame.selectedIndex}function Ct(e){$e.lFrame.selectedIndex=e}function At(){const e=$e.lFrame;return Fe(e.tView,e.selectedIndex)}function kt(){$e.lFrame.currentNamespace=Ae}function xt(){$e.lFrame.currentNamespace=ke}function Nt(){$e.lFrame.currentNamespace=null}function Ot(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const t=e.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=t;r&&(e.contentHooks||(e.contentHooks=[])).push(-n,r),i&&((e.contentHooks||(e.contentHooks=[])).push(n,i),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,i)),s&&(e.viewHooks||(e.viewHooks=[])).push(-n,s),o&&((e.viewHooks||(e.viewHooks=[])).push(n,o),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,o)),null!=a&&(e.destroyHooks||(e.destroyHooks=[])).push(n,a)}}function Dt(e,t,n){Lt(e,t,3,n)}function Rt(e,t,n,r){(3&e[2])===n&&Lt(e,t,n,r)}function Pt(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Lt(e,t,n,r){const i=null!=r?r:-1,s=t.length-1;let o=0;for(let a=void 0!==r?65535&e[18]:0;a<s;a++)if("number"==typeof t[a+1]){if(o=t[a],null!=r&&o>=r)break}else t[a]<0&&(e[18]+=65536),(o<i||-1==i)&&(Mt(e,n,t,a),e[18]=(4294901760&e[18])+a+2),a++}function Mt(e,t,n,r){const i=n[r]<0,s=n[r+1],o=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}const Ft=-1;class Ut{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function Vt(e,t,n){const r=De(e);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?e.setAttribute(t,a,u,o):t.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];qt(o)?r&&e.setProperty(t,o,a):r?e.setAttribute(t,o,a):t.setAttribute(o,a),i++}}return i}function jt(e){return 3===e||4===e||6===e}function qt(e){return 64===e.charCodeAt(0)}function Zt(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||zt(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function zt(e,t,n,r,i){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){const n=e[s++];if("number"==typeof n){if(n===t){o=-1;break}if(n>t){o=s-1;break}}}for(;s<e.length;){const t=e[s];if("number"==typeof t)break;if(t===n){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}function Bt(e){return e!==Ft}function $t(e){return 32767&e}function Ht(e,t){let n=e>>16,r=t;for(;n>0;)r=r[15],n--;return r}let Gt=!0;function Kt(e){const t=Gt;return Gt=e,t}let Wt=0;function Yt(e,t){const n=Jt(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Qt(r.data,e),Qt(t,null),Qt(r.blueprint,null));const i=Xt(e,t),s=e.injectorIndex;if(Bt(i)){const e=$t(i),n=Ht(i,t),r=n[1].data;for(let i=0;i<8;i++)t[s+i]=n[e+i]|r[e+i]}return t[s+8]=i,s}function Qt(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Jt(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Xt(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){const e=i[1],t=e.type;if(r=2===t?e.declTNode:1===t?i[6]:null,null===r)return Ft;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ft}function en(e,t,n){!function(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(J)&&(r=n[J]),null==r&&(r=n[J]=Wt++);const i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function tn(e,t,n){if(n&D.Optional)return e;b(t,"NodeInjector")}function nn(e,t,n,r){if(n&D.Optional&&void 0===r&&(r=null),0==(n&(D.Self|D.Host))){const i=e[9],s=P(void 0);try{return i?i.get(t,r,n&D.Optional):L(t,r,n&D.Optional)}finally{P(s)}}return tn(r,t,n)}function rn(e,t,n,r=D.Default,i){if(null!==e){const s=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(J)?e[J]:void 0;return"number"==typeof t?t>=0?255&t:on:t}(n);if("function"==typeof s){if(!vt(t,e,r))return r&D.Host?tn(i,n,r):nn(t,n,r,i);try{const e=s(r);if(null!=e||r&D.Optional)return e;b(n)}finally{Tt()}}else if("number"==typeof s){let i=null,o=Jt(e,t),a=Ft,u=r&D.Host?t[16][6]:null;for((-1===o||r&D.SkipSelf)&&(a=-1===o?Xt(e,t):t[o+8],a!==Ft&&hn(r,!1)?(i=t[1],o=$t(a),t=Ht(a,t)):o=-1);-1!==o;){const e=t[1];if(ln(s,o,e.data)){const e=an(o,t,n,i,r,u);if(e!==sn)return e}a=t[o+8],a!==Ft&&hn(r,t[1].data[o+8]===u)&&ln(s,o,t)?(i=e,o=$t(a),t=Ht(a,t)):o=-1}}}return nn(t,n,r,i)}const sn={};function on(){return new dn(Je(),We())}function an(e,t,n,r,i,s){const o=t[1],a=o.data[e+8],u=un(a,o,n,null==r?ye(a)&&Gt:r!=o&&0!=(3&a.type),i&D.Host&&s===a);return null!==u?cn(t,o,u,a):sn}function un(e,t,n,r,i){const s=e.providerIndexes,o=t.data,a=1048575&s,u=e.directiveStart,c=s>>20,l=i?a+c:e.directiveEnd;for(let h=r?a:a+c;h<l;h++){const e=o[h];if(h<u&&n===e||h>=u&&e.type===n)return h}if(i){const e=o[u];if(e&&_e(e)&&e.type===n)return u}return null}function cn(e,t,n,r){let i=e[n];const s=t.data;if(i instanceof Ut){const o=i;o.resolving&&function(e,t){throw new v("200",`Circular dependency in DI detected for ${e}`)}(w(s[n]));const a=Kt(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?P(o.injectImpl):null;vt(e,r,D.Default);try{i=e[n]=o.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){const r=Te(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s))}(n,s[n],t)}finally{null!==u&&P(u),Kt(a),o.resolving=!1,Tt()}}return i}function ln(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function hn(e,t){return!(e&D.Self||e&D.Host&&t)}class dn{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return rn(this._tNode,this._lView,e,void 0,t)}}function fn(e){return M(()=>{const t=e.prototype.constructor,n=t[Q]||pn(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const e=i[Q]||pn(i);if(e&&e!==n)return e;i=Object.getPrototypeOf(i)}return e=>new e})}function pn(e){return y(e)?()=>{const t=pn(m(e));return t&&t()}:we(e)}function gn(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const e=n.length;let r=0;for(;r<e;){const i=n[r];if(jt(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<e&&"string"==typeof n[r];)r++;else{if(i===t)return n[r+1];r+=2}}}return null}(Je(),e)}const mn="__annotations__",yn="__parameters__",vn="__prop__metadata__";function _n(e,t,n,r,i){return M(()=>{const s=wn(t);function o(...e){if(this instanceof o)return s.call(this,...e),this;const t=new o(...e);return function(n){return i&&i(n,...e),(n.hasOwnProperty(mn)?n[mn]:Object.defineProperty(n,mn,{value:[]})[mn]).push(t),r&&r(n),n}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}function wn(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}function bn(e,t,n){return M(()=>{const r=wn(t);function i(...e){if(this instanceof i)return r.apply(this,e),this;const t=new i(...e);return n.annotation=t,n;function n(e,n,r){const i=e.hasOwnProperty(yn)?e[yn]:Object.defineProperty(e,yn,{value:[]})[yn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(t),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}const In=function(){return bn("Attribute",e=>({attributeName:e,__NG_ELEMENT_ID__:()=>gn(e)}))}();class Tn{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=T({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const En=new Tn("AnalyzeForEntryComponents");function Sn(){const e=z.ng;if(!e||!e.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return e.\u0275compilerFacade}const Cn=Function;function An(e){return"function"==typeof e}function kn(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),kn(r,t)):t!==e&&t.push(r)}return t}function xn(e,t){e.forEach(e=>Array.isArray(e)?xn(e,t):t(e))}function Nn(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function On(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Dn(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function Rn(e,t,n){let r=Ln(e,t);return r>=0?e[1|r]=n:(r=~r,function(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Pn(e,t){const n=Ln(e,t);if(n>=0)return e[1|n]}function Ln(e,t){return function(e,t,n){let r=0,i=e.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=e[n<<1];if(t===s)return n<<1;s>t?i=n:r=n+1}return~(i<<1)}(e,t)}const Mn=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\))\)/,Fn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Un=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Vn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s*super\(\.\.\.arguments\)/;class jn{constructor(e){this._reflect=e||z.Reflect}isReflectionEnabled(){return!0}factory(e){return(...t)=>new e(...t)}_zipTypesAndAnnotations(e,t){let n;n=Dn(void 0===e?t.length:e.length);for(let r=0;r<n.length;r++)n[r]=void 0===e?[]:e[r]&&e[r]!=Object?[e[r]]:[],t&&null!=t[r]&&(n[r]=n[r].concat(t[r]));return n}_ownParameters(e,t){if(n=e.toString(),Mn.test(n)||Vn.test(n)||Fn.test(n)&&!Un.test(n))return null;var n;if(e.parameters&&e.parameters!==t.parameters)return e.parameters;const r=e.ctorParameters;if(r&&r!==t.ctorParameters){const e="function"==typeof r?r():r,t=e.map(e=>e&&e.type),n=e.map(e=>e&&qn(e.decorators));return this._zipTypesAndAnnotations(t,n)}const i=e.hasOwnProperty(yn)&&e[yn],s=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",e);return s||i?this._zipTypesAndAnnotations(s,i):Dn(e.length)}parameters(e){if(!An(e))return[];const t=Zn(e);let n=this._ownParameters(e,t);return n||t===Object||(n=this.parameters(t)),n||[]}_ownAnnotations(e,t){if(e.annotations&&e.annotations!==t.annotations){let t=e.annotations;return"function"==typeof t&&t.annotations&&(t=t.annotations),t}return e.decorators&&e.decorators!==t.decorators?qn(e.decorators):e.hasOwnProperty(mn)?e[mn]:null}annotations(e){if(!An(e))return[];const t=Zn(e),n=this._ownAnnotations(e,t)||[];return(t!==Object?this.annotations(t):[]).concat(n)}_ownPropMetadata(e,t){if(e.propMetadata&&e.propMetadata!==t.propMetadata){let t=e.propMetadata;return"function"==typeof t&&t.propMetadata&&(t=t.propMetadata),t}if(e.propDecorators&&e.propDecorators!==t.propDecorators){const t=e.propDecorators,n={};return Object.keys(t).forEach(e=>{n[e]=qn(t[e])}),n}return e.hasOwnProperty(vn)?e[vn]:null}propMetadata(e){if(!An(e))return{};const t=Zn(e),n={};if(t!==Object){const e=this.propMetadata(t);Object.keys(e).forEach(t=>{n[t]=e[t]})}const r=this._ownPropMetadata(e,t);return r&&Object.keys(r).forEach(e=>{const t=[];n.hasOwnProperty(e)&&t.push(...n[e]),t.push(...r[e]),n[e]=t}),n}ownPropMetadata(e){return An(e)&&this._ownPropMetadata(e,Zn(e))||{}}hasLifecycleHook(e,t){return e instanceof Cn&&t in e.prototype}guards(e){return{}}getter(e){return new Function("o","return o."+e+";")}setter(e){return new Function("o","v","return o."+e+" = v;")}method(e){return new Function("o","args",`if (!o.${e}) throw new Error('"${e}" is undefined');\n        return o.${e}.apply(o, args);`)}importUri(e){return"object"==typeof e&&e.filePath?e.filePath:`./${d(e)}`}resourceUri(e){return`./${d(e)}`}resolveIdentifier(e,t,n,r){return r}resolveEnum(e,t){return e[t]}}function qn(e){return e?e.map(e=>new(0,e.type.annotationCls)(...e.args?e.args:[])):[]}function Zn(e){const t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}const zn={},Bn=/\n/gm,$n="__source",Hn=l({provide:String,useValue:l});let Gn;function Kn(e){const t=Gn;return Gn=e,t}function Wn(e,t=D.Default){if(void 0===Gn)throw new Error("inject() must be called from an injection context");return null===Gn?L(e,void 0,t):Gn.get(e,t&D.Optional?null:void 0,t)}function Yn(e,t=D.Default){return(R||Wn)(m(e),t)}function Qn(e){throw new Error("invalid")}function Jn(e){const t=[];for(let n=0;n<e.length;n++){const r=m(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let e,n=D.Default;for(let t=0;t<r.length;t++){const i=r[t],s=i.__NG_DI_FLAG__;"number"==typeof s?-1===s?e=i.token:n|=s:e=i}t.push(Yn(e,n))}else t.push(Yn(r))}return t}function Xn(e,t){return e.__NG_DI_FLAG__=t,e.prototype.__NG_DI_FLAG__=t,e}const er=Xn(bn("Inject",e=>({token:e})),-1),tr=Xn(bn("Optional"),8),nr=Xn(bn("Self"),2),rr=Xn(bn("SkipSelf"),4),ir=Xn(bn("Host"),1);let sr,or,ar=null;function ur(e){return cr((ar=ar||new jn).parameters(e))}function cr(e){return e.map(e=>function(e){const t={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(e)&&e.length>0)for(let n=0;n<e.length;n++){const r=e[n];if(void 0===r)continue;const i=Object.getPrototypeOf(r);if(r instanceof tr||"Optional"===i.ngMetadataName)t.optional=!0;else if(r instanceof rr||"SkipSelf"===i.ngMetadataName)t.skipSelf=!0;else if(r instanceof nr||"Self"===i.ngMetadataName)t.self=!0;else if(r instanceof ir||"Host"===i.ngMetadataName)t.host=!0;else if(r instanceof er)t.token=r.token;else if(r instanceof In){if(void 0===r.attributeName)throw new Error("Attribute name must be defined.");t.attribute=r.attributeName}else t.token=r}else t.token=void 0===e||Array.isArray(e)&&0===e.length?null:e;return t}(e))}function lr(){if(void 0===sr&&(sr=null,z.trustedTypes))try{sr=z.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return sr}function hr(e){var t;return(null===(t=lr())||void 0===t?void 0:t.createHTML(e))||e}function dr(){if(void 0===or&&(or=null,z.trustedTypes))try{or=z.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return or}function fr(e){var t;return(null===(t=dr())||void 0===t?void 0:t.createHTML(e))||e}function pr(e){var t;return(null===(t=dr())||void 0===t?void 0:t.createScript(e))||e}function gr(e){var t;return(null===(t=dr())||void 0===t?void 0:t.createScriptURL(e))||e}class mr{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class yr extends mr{getTypeName(){return"HTML"}}class vr extends mr{getTypeName(){return"Style"}}class _r extends mr{getTypeName(){return"Script"}}class wr extends mr{getTypeName(){return"URL"}}class br extends mr{getTypeName(){return"ResourceURL"}}function Ir(e){return e instanceof mr?e.changingThisBreaksApplicationSecurity:e}function Tr(e,t){const n=Er(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function Er(e){return e instanceof mr&&e.getTypeName()||null}function Sr(e){return new yr(e)}function Cr(e){return new vr(e)}function Ar(e){return new _r(e)}function kr(e){return new wr(e)}function xr(e){return new br(e)}function Nr(e){const t=new Dr(e);return function(){try{return!!(new window.DOMParser).parseFromString(hr(""),"text/html")}catch(e){return!1}}()?new Or(t):t}class Or{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(hr(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class Dr{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const t=this.inertDocument.createElement("body");e.appendChild(t)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=hr(e),t;const n=this.inertDocument.createElement("body");return n.innerHTML=hr(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const n=t.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Rr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Pr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Lr(e){return(e=String(e)).match(Rr)||e.match(Pr)?e:"unsafe:"+e}function Mr(e){return(e=String(e)).split(",").map(e=>Lr(e.trim())).join(", ")}function Fr(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Ur(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const Vr=Fr("area,br,col,hr,img,wbr"),jr=Fr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),qr=Fr("rp,rt"),Zr=Ur(qr,jr),zr=Ur(Vr,Ur(jr,Fr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ur(qr,Fr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Zr),Br=Fr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),$r=Fr("srcset"),Hr=Ur(Br,$r,Fr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Fr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Gr=Fr("script,style,template");class Kr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!zr.hasOwnProperty(t))return this.sanitizedSomething=!0,!Gr.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let r=0;r<n.length;r++){const e=n.item(r),t=e.name,i=t.toLowerCase();if(!Hr.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let s=e.value;Br[i]&&(s=Lr(s)),$r[i]&&(s=Mr(s)),this.buf.push(" ",t,'="',Qr(s),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();zr.hasOwnProperty(t)&&!Vr.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Qr(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const Wr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Yr=/([^\#-~ |!])/g;function Qr(e){return e.replace(/&/g,"&amp;").replace(Wr,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Yr,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Jr;function Xr(e,t){let n=null;try{Jr=Jr||Nr(e);let r=t?String(t):"";n=Jr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Jr.getInertBodyElement(r)}while(r!==s);return hr((new Kr).sanitizeChildren(ei(n)||n))}finally{if(n){const e=ei(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function ei(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var ti=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}({});function ni(e){const t=li();return t?fr(t.sanitize(ti.HTML,e)||""):Tr(e,"HTML")?fr(Ir(e)):Xr(Oe(),_(e))}function ri(e){const t=li();return t?t.sanitize(ti.STYLE,e)||"":Tr(e,"Style")?Ir(e):_(e)}function ii(e){const t=li();return t?t.sanitize(ti.URL,e)||"":Tr(e,"URL")?Ir(e):Lr(_(e))}function si(e){const t=li();if(t)return gr(t.sanitize(ti.RESOURCE_URL,e)||"");if(Tr(e,"ResourceURL"))return gr(Ir(e));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function oi(e){const t=li();if(t)return pr(t.sanitize(ti.SCRIPT,e)||"");if(Tr(e,"Script"))return pr(Ir(e));throw new Error("unsafe value used in a script context")}function ai(e){return hr(e[0])}function ui(e){return function(e){var t;return(null===(t=lr())||void 0===t?void 0:t.createScriptURL(e))||e}(e[0])}function ci(e,t,n){return function(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?si:ii}(t,n)(e)}function li(){const e=We();return e&&e[12]}function hi(e,t){e.__ngContext__=t}function di(e){const t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function fi(e){return e.ngDebugContext}function pi(e){return e.ngOriginalError}function gi(e,...t){e.error(...t)}class mi{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e.ngErrorLogger||gi}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?fi(e)?fi(e):this._findContext(pi(e)):null}_findOriginalError(e){let t=pi(e);for(;t&&pi(t);)t=pi(t);return t}}const yi=/^>|^->|<!--|-->|--!>|<!-$/g,vi=/(<|>)/,_i=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(z))();function wi(e){return e.ownerDocument.defaultView}function bi(e){return e.ownerDocument}function Ii(e){return e.ownerDocument.body}function Ti(e){return e instanceof Function?e():e}var Ei=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}({});let Si;function Ci(e,t){return Si(e,t)}function Ai(e){const t=e[3];return ge(t)?t[3]:t}function ki(e){return Ni(e[13])}function xi(e){return Ni(e[4])}function Ni(e){for(;null!==e&&!ge(e);)e=e[4];return e}function Oi(e,t,n,r,i){if(null!=r){let s,o=!1;ge(r)?s=r:pe(r)&&(o=!0,r=r[0]);const a=Pe(r);0===e&&null!==n?null==i?zi(t,n,a):Zi(t,n,a,i||null,!0):1===e&&null!==n?Zi(t,n,a,i||null,!0):2===e?ts(t,a,o):3===e&&t.destroyNode(a),null!=s&&function(e,t,n,r,i){const s=n[7];s!==Pe(n)&&Oi(t,e,r,s,i);for(let o=fe;o<n.length;o++){const i=n[o];rs(i[1],i,e,t,r,s)}}(t,e,s,n,i)}}function Di(e,t){return De(e)?e.createText(t):e.createTextNode(t)}function Ri(e,t,n){De(e)?e.setValue(t,n):t.textContent=n}function Pi(e,t){return e.createComment(function(e){return e.replace(yi,e=>e.replace(vi,"\u200b$1\u200b"))}(t))}function Li(e,t,n){return De(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Mi(e,t){const n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,Be(i,-1)),n.splice(r,1)}function Fi(e,t){if(e.length<=fe)return;const n=fe+t,r=e[n];if(r){const s=r[17];null!==s&&s!==e&&Mi(s,r),t>0&&(e[n-1][4]=r[4]);const o=On(e,fe+t);rs(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Ui(e,t){if(!(256&t[2])){const n=t[11];De(n)&&n.destroyNode&&rs(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return Vi(e[1],e);for(;t;){let n=null;if(pe(t))n=t[13];else{const e=t[10];e&&(n=e)}if(!n){for(;t&&!t[4]&&t!==e;)pe(t)&&Vi(t[1],t),t=t[3];null===t&&(t=e),pe(t)&&Vi(t[1],t),n=t&&t[4]}t=n}}(t)}}function Vi(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const e=t[n[r]];if(!(e instanceof Ut)){const t=n[r+1];if(Array.isArray(t))for(let n=0;n<t.length;n+=2){const r=e[t[n]],i=t[n+1];try{i.call(r)}finally{}}else try{t.call(e)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,r=t[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const e=n[s+1],o="function"==typeof e?e(t):Pe(t[e]),a=r[i=n[s+2]],u=n[s+3];"boolean"==typeof u?o.removeEventListener(n[s],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),s+=2}else{const e=r[i=n[s+1]];n[s].call(e)}if(null!==r){for(let e=i+1;e<r.length;e++)(0,r[e])();t[7]=null}}(e,t),1===t[1].type&&De(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&ge(t[3])){n!==t[3]&&Mi(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function ji(e,t,n){return qi(e,t.parent,n)}function qi(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const t=e.data[r.directiveStart].encapsulation;if(t===U.None||t===U.Emulated)return null}return Me(r,n)}function Zi(e,t,n,r,i){De(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function zi(e,t,n){De(e)?e.appendChild(t,n):t.appendChild(n)}function Bi(e,t,n,r,i){null!==r?Zi(e,t,n,r,i):zi(e,t,n)}function $i(e,t){return De(e)?e.parentNode(t):t.parentNode}function Hi(e,t,n){return Wi(e,t,n)}function Gi(e,t,n){return 40&e.type?Me(e,n):null}let Ki,Wi=Gi;function Yi(e,t){Wi=e,Ki=t}function Qi(e,t,n,r){const i=ji(e,r,t),s=t[11],o=Hi(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Bi(s,i,n[a],o,!1);else Bi(s,i,n,o,!1);void 0!==Ki&&Ki(s,r,t,n,i)}function Ji(e,t){if(null!==t){const n=t.type;if(3&n)return Me(t,e);if(4&n)return es(-1,e[t.index]);if(8&n){const n=t.child;if(null!==n)return Ji(e,n);{const n=e[t.index];return ge(n)?es(-1,n):Pe(n)}}if(32&n)return Ci(t,e)()||Pe(e[t.index]);{const n=Xi(e,t);return null!==n?Array.isArray(n)?n[0]:Ji(Ai(e[16]),n):Ji(e,t.next)}}return null}function Xi(e,t){return null!==t?e[16][6].projection[t.projection]:null}function es(e,t){const n=fe+e+1;if(n<t.length){const e=t[n],r=e[1].firstChild;if(null!==r)return Ji(e,r)}return t[7]}function ts(e,t,n){const r=$i(e,t);r&&function(e,t,n,r){De(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}function ns(e,t,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===t&&(a&&hi(Pe(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)ns(e,t,n.child,r,i,s,!1),Oi(t,e,i,a,s);else if(32&u){const o=Ci(n,r);let u;for(;u=o();)Oi(t,e,i,u,s);Oi(t,e,i,a,s)}else 16&u?is(e,t,r,n,i,s):Oi(t,e,i,a,s);n=o?n.projectionNext:n.next}}function rs(e,t,n,r,i,s){ns(n,r,e.firstChild,t,i,s,!1)}function is(e,t,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Oi(t,e,i,a[u],s);else ns(e,t,a,o[3],i,s,!0)}function ss(e,t,n){De(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function os(e,t,n){De(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function as(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const n=t.length;if(i+n===r||e.charCodeAt(i+n)<=32)return i}n=i+1}}const us="ng-template";function cs(e,t,n){let r=0;for(;r<e.length;){let i=e[r++];if(n&&"class"===i){if(i=e[r],-1!==as(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function ls(e){return 4===e.type&&e.value!==us}function hs(e,t,n){return t===(4!==e.type||n?e.value:us)}function ds(e,t,n){let r=4;const i=e.attrs||[],s=function(e){for(let t=0;t<e.length;t++)if(jt(e[t]))return t;return e.length}(i);let o=!1;for(let a=0;a<t.length;a++){const u=t[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!hs(e,u,n)||""===u&&1===t.length){if(fs(r))return!1;o=!0}}else{const c=8&r?u:t[++a];if(8&r&&null!==e.attrs){if(!cs(e.attrs,c,n)){if(fs(r))return!1;o=!0}continue}const l=ps(8&r?"class":u,i,ls(e),n);if(-1===l){if(fs(r))return!1;o=!0;continue}if(""!==c){let e;e=l>s?"":i[l+1].toLowerCase();const t=8&r?e:null;if(t&&-1!==as(t,c,0)||2&r&&c!==e){if(fs(r))return!1;o=!0}}}}else{if(!o&&!fs(r)&&!fs(u))return!1;if(o&&fs(u))continue;o=!1,r=u|1&r}}return fs(r)||o}function fs(e){return 0==(1&e)}function ps(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let n=!1;for(;i<t.length;){const r=t[i];if(r===e)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let e=t[++i];for(;"string"==typeof e;)e=t[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function gs(e,t,n=!1){for(let r=0;r<t.length;r++)if(ds(e,t[r],n))return!0;return!1}function ms(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let t=0;t<e.length;t++)if(e[t]!==r[t])continue e;return!0}}return!1}function ys(e,t){return e?":not("+t.trim()+")":t}function vs(e){let t=e[0],n=1,r=2,i="",s=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&r){const t=e[++n];i+="["+o+(t.length>0?'="'+t+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||fs(o)||(t+=ys(s,i),i=""),r=o,s=s||!fs(r);n++}return""!==i&&(t+=ys(s,i)),t}const _s={};function ws(e){bs(Ye(),We(),St()+e,it())}function bs(e,t,n,r){if(!r)if(3==(3&t[2])){const r=e.preOrderCheckHooks;null!==r&&Dt(t,r,n)}else{const r=e.preOrderHooks;null!==r&&Rt(t,r,0,n)}Ct(n)}function Is(e,t){return e<<17|t<<2}function Ts(e){return e>>17&32767}function Es(e){return 2|e}function Ss(e){return(131068&e)>>2}function Cs(e,t){return-131069&e|t<<2}function As(e){return 1|e}function ks(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=e.data[s];mt(i),n.contentQueries(2,t[s],s)}}}function xs(e,t,n,r,i,s,o,a,u,c){const l=t.blueprint.slice();return l[0]=i,l[2]=140|r,ze(l),l[3]=l[15]=e,l[8]=n,l[10]=o||e&&e[10],l[11]=a||e&&e[11],l[12]=u||e&&e[12]||null,l[9]=c||e&&e[9]||null,l[6]=s,l[16]=2==t.type?e[16]:l,l}function Ns(e,t,n,r,i){let s=e.data[t];if(null===s)s=Os(e,t,n,r,i),$e.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const e=et();s.injectorIndex=null===e?-1:e.injectorIndex}return tt(s,!0),s}function Os(e,t,n,r,i){const s=Xe(),o=nt(),a=e.data[t]=function(e,t,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}function Ds(e,t,n,r){if(0===n)return-1;const i=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Rs(e,t,n){_t(t);try{const r=e.viewQuery;null!==r&&ho(1,r,n);const i=e.template;null!==i&&Ms(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&ks(e,t),e.staticViewQueries&&ho(2,e.viewQuery,n);const s=e.components;null!==s&&function(e,t){for(let n=0;n<t.length;n++)oo(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),r}finally{t[2]&=-5,Et()}}function Ps(e,t,n,r){const i=t[2];if(256==(256&i))return;_t(t);const s=it();try{ze(t),ut(e.bindingStartIndex),null!==n&&Ms(e,t,n,2,r);const o=3==(3&i);if(!s)if(o){const n=e.preOrderCheckHooks;null!==n&&Dt(t,n,null)}else{const n=e.preOrderHooks;null!==n&&Rt(t,n,0,null),Pt(t,0)}if(function(e){for(let t=ki(e);null!==t;t=xi(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const n=e[t],r=n[3];0==(1024&n[2])&&Be(r,1),n[2]|=1024}}}(t),function(e){for(let t=ki(e);null!==t;t=xi(t))for(let e=fe;e<t.length;e++){const n=t[e],r=n[1];qe(n)&&Ps(r,n,r.template,n[8])}}(t),null!==e.contentQueries&&ks(e,t),!s)if(o){const n=e.contentCheckHooks;null!==n&&Dt(t,n)}else{const n=e.contentHooks;null!==n&&Rt(t,n,1),Pt(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let e=0;e<n.length;e++){const r=n[e];if(r<0)Ct(~r);else{const i=r,s=n[++e],o=n[++e];dt(s,i),o(2,t[i])}}}finally{Ct(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)io(e,t[n])}(t,a);const u=e.viewQuery;if(null!==u&&ho(2,u,r),!s)if(o){const n=e.viewCheckHooks;null!==n&&Dt(t,n)}else{const n=e.viewHooks;null!==n&&Rt(t,n,2),Pt(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),s||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Be(t[3],-1))}finally{Et()}}function Ls(e,t,n,r){const i=t[10],s=!it(),o=je(t);try{s&&!o&&i.begin&&i.begin(),o&&Rs(e,t,r),Ps(e,t,n,r)}finally{s&&!o&&i.end&&i.end()}}function Ms(e,t,n,r,i){const s=St(),o=2&r;try{Ct(-1),o&&t.length>de&&bs(e,t,de,it()),n(r,i)}finally{Ct(s)}}function Fs(e,t,n){if(me(t)){const r=t.directiveEnd;for(let i=t.directiveStart;i<r;i++){const t=e.data[i];t.contentQueries&&t.contentQueries(1,n[i],i)}}}function Us(e,t,n){He()&&(function(e,t,n,r){const i=n.directiveStart,s=n.directiveEnd;e.firstCreatePass||Yt(n,t),hi(r,t);const o=n.initialInputs;for(let a=i;a<s;a++){const r=e.data[a],s=_e(r);s&&Js(t,n,r);const u=cn(t,e,a,n);hi(u,t),null!==o&&to(0,a-i,u,r,0,o),s&&(Ve(n.index,t)[8]=u)}}(e,t,n,Me(n,t)),128==(128&n.flags)&&function(e,t,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=$e.lFrame.currentDirectiveIndex;try{Ct(s);for(let n=r;n<i;n++){const r=e.data[n],i=t[n];ft(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Gs(r,i)}}finally{Ct(-1),ft(o)}}(e,t,n))}function Vs(e,t,n=Me){const r=t.localNames;if(null!==r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(t,e):e[o];e[i++]=a}}}function js(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=qs(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function qs(e,t,n,r,i,s,o,a,u,c){const l=de+r,h=l+i,d=function(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:_s);return n}(l,h),f="function"==typeof c?c():c;return d[1]={type:e,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function Zs(e,t,n,r){const i=po(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&go(e).push(r,i.length-1))}function zs(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function Bs(e,t,n,r,i,s,o,a){const u=Me(t,n);let c,l=t.inputs;var h;!a&&null!=l&&(c=l[r])?(vo(e,n,c,r,i),ye(t)&&function(e,t){const n=Ve(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,t.value||"",r):i,De(s)?s.setProperty(u,r,i):qt(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function $s(e,t,n,r){let i=!1;if(He()){const s=function(e,t,n){const r=e.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];gs(n,o.selectors,!1)&&(i||(i=[]),en(Yt(n,t),e,o.type),_e(o)?(Ks(e,n),i.unshift(o)):i.push(o))}return i}(e,t,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Ys(n,e.data.length,s.length);for(let e=0;e<s.length;e++){const t=s[e];t.providersResolver&&t.providersResolver(t)}let r=!1,a=!1,u=Ds(e,t,s.length,null);for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=Zt(n.mergedAttrs,c.hostAttrs),Qs(e,n,t,u,c),Ws(u,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(e,t){const n=t.directiveEnd,r=e.data,i=t.attrs,s=[];let o=null,a=null;for(let u=t.directiveStart;u<n;u++){const e=r[u],n=e.inputs,c=null===i||ls(t)?null:no(n,i);s.push(c),o=zs(n,u,o),a=zs(e.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=o,t.outputs=a}(e,n)}o&&function(e,t,n){if(t){const r=e.localNames=[];for(let e=0;e<t.length;e+=2){const i=n[t[e+1]];if(null==i)throw new v("301",`Export of name '${t[e+1]}' not found!`);r.push(t[e],i)}}}(n,r,o)}return n.mergedAttrs=Zt(n.mergedAttrs,n.attrs),i}function Hs(e,t,n,r,i,s){const o=s.hostBindings;if(o){let n=e.hostBindingOpCodes;null===n&&(n=e.hostBindingOpCodes=[]);const s=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function Gs(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Ks(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Ws(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;_e(t)&&(n[""]=e)}}function Ys(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Qs(e,t,n,r,i){e.data[r]=i;const s=i.factory||(i.factory=we(i.type)),o=new Ut(s,_e(i),null);e.blueprint[r]=o,n[r]=o,Hs(e,t,0,r,Ds(e,n,i.hostVars,_s),i)}function Js(e,t,n){const r=Me(t,e),i=js(n),s=e[10],o=ao(e,xs(e,i,null,n.onPush?64:16,r,t,s,s.createRenderer(r,n),null,null));e[t.index]=o}function Xs(e,t,n,r,i,s){const o=Me(e,t);eo(t[11],o,s,e.value,n,r,i)}function eo(e,t,n,r,i,s,o){if(null==s)De(e)?e.removeAttribute(t,i,n):t.removeAttribute(i);else{const a=null==o?_(s):o(s,r||"",i);De(e)?e.setAttribute(t,i,a,n):n?t.setAttributeNS(n,i,a):t.setAttribute(i,a)}}function to(e,t,n,r,i,s){const o=s[t];if(null!==o){const e=r.setInput;for(let t=0;t<o.length;){const i=o[t++],s=o[t++],a=o[t++];null!==e?r.setInput(n,a,i,s):n[s]=a}}}function no(e,t){let n=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function ro(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function io(e,t){const n=Ve(t,e);if(qe(n)){const e=n[1];80&n[2]?Ps(e,n,e.template,n[8]):n[5]>0&&so(n)}}function so(e){for(let n=ki(e);null!==n;n=xi(n))for(let e=fe;e<n.length;e++){const t=n[e];if(1024&t[2]){const e=t[1];Ps(e,t,e.template,t[8])}else t[5]>0&&so(t)}const t=e[1].components;if(null!==t)for(let n=0;n<t.length;n++){const r=Ve(t[n],e);qe(r)&&r[5]>0&&so(r)}}function oo(e,t){const n=Ve(t,e),r=n[1];!function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),Rs(r,n,n[8])}function ao(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function uo(e){for(;e;){e[2]|=64;const t=Ai(e);if(0!=(512&e[2])&&!t)return e;e=t}return null}function co(e,t,n){const r=t[10];r.begin&&r.begin();try{Ps(e,t,e.template,n)}catch(i){throw yo(t,i),i}finally{r.end&&r.end()}}function lo(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=di(n),i=r[1];Ls(i,r,i.template,n)}}(e[8])}function ho(e,t,n){mt(0),t(e,n)}const fo=(()=>Promise.resolve(null))();function po(e){return e[7]||(e[7]=[])}function go(e){return e.cleanup||(e.cleanup=[])}function mo(e,t,n){return(null===e||_e(e))&&(n=function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}function yo(e,t){const n=e[9],r=n?n.get(mi,null):null;r&&r.handleError(t)}function vo(e,t,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=t[o],c=e.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function _o(e,t,n){const r=Le(t,e);Ri(e[11],r,n)}function wo(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const e=t[o];"number"==typeof e?s=e:1==s?i=f(i,e):2==s&&(r=f(r,e+": "+t[++o]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}const bo=new Tn("INJECTOR",-1);class Io{get(e,t=zn){if(t===zn){const t=new Error(`NullInjectorError: No provider for ${d(e)}!`);throw t.name="NullInjectorError",t}return t}}const To=new Tn("Set Injector scope."),Eo={},So={};let Co;function Ao(){return void 0===Co&&(Co=new Io),Co}function ko(e,t=null,n=null,r){return new xo(e,n,t||Ao(),r)}class xo{constructor(e,t,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];t&&xn(t,n=>this.processProvider(n,e,t)),xn([e],e=>this.processInjectorType(e,[],i)),this.records.set(bo,Do(void 0,this));const s=this.records.get(To);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof e?null:d(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=zn,n=D.Default){this.assertNotDestroyed();const r=Kn(this);try{if(!(n&D.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(i=e)||"object"==typeof i&&i instanceof Tn)&&S(e);t=n&&this.injectableDefInScope(n)?Do(No(e),Eo):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(n&D.Self?Ao():this.parent).get(e,t=n&D.Optional&&t===zn?null:t)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(d(e)),r)throw s;return function(e,t,n,r){const i=e.ngTempTokenPath;throw t[$n]&&i.unshift(t[$n]),e.message=function(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let i=d(t);if(Array.isArray(t))i=t.map(d).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push(n+":"+("string"==typeof r?JSON.stringify(r):d(r)))}i=`{${e.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(Bn,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(s,e,"R3InjectorError",this.source)}throw s}finally{Kn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,n)=>e.push(d(n))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=m(e)))return!1;let r=A(e);const i=null==r&&e.ngModule||void 0,s=void 0===i?e:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=A(i)),null==r)return!1;if(null!=r.imports&&!o){let e;n.push(s);try{xn(r.imports,r=>{this.processInjectorType(r,t,n)&&(void 0===e&&(e=[]),e.push(r))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:n,providers:r}=e[t];xn(r,e=>this.processProvider(e,n,r||$))}}this.injectorDefTypes.add(s);const a=we(s)||(()=>new s);this.records.set(s,Do(a,Eo));const u=r.providers;if(null!=u&&!o){const t=e;xn(u,e=>this.processProvider(e,t,u))}return void 0!==i&&void 0!==e.providers}processProvider(e,t,n){let r=Po(e=m(e))?e:m(e&&e.provide);const i=function(e,t,n){return Ro(e)?Do(void 0,e.useValue):Do(Oo(e),Eo)}(e);if(Po(e)||!0!==e.multi)this.records.get(r);else{let t=this.records.get(r);t||(t=Do(void 0,Eo,!0),t.factory=()=>Jn(t.multi),this.records.set(r,t)),r=e,t.multi.push(e)}this.records.set(r,i)}hydrate(e,t){var n;return t.value===Eo&&(t.value=So,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=m(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function No(e){const t=S(e),n=null!==t?t.factory:we(e);if(null!==n)return n;if(e instanceof Tn)throw new Error(`Token ${d(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const n=Dn(t,"?");throw new Error(`Can't resolve all parameters for ${d(e)}: (${n.join(", ")}).`)}const n=function(e){const t=e&&(e[k]||e[N]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function Oo(e,t,n){let r;if(Po(e)){const t=m(e);return we(t)||No(t)}if(Ro(e))r=()=>m(e.useValue);else if((i=e)&&i.useFactory)r=()=>e.useFactory(...Jn(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))r=()=>Yn(m(e.useExisting));else{const t=m(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return we(t)||No(t);r=()=>new t(...Jn(e.deps))}var i;return r}function Do(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Ro(e){return null!==e&&"object"==typeof e&&Hn in e}function Po(e){return"function"==typeof e}const Lo=function(e,t,n){return function(e,t=null,n=null,r){const i=ko(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)};let Mo=(()=>{class e{static create(e,t){return Array.isArray(e)?Lo(e,t,""):Lo(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=zn,e.NULL=new Io,e.\u0275prov=T({token:e,providedIn:"any",factory:()=>Yn(bo)}),e.__NG_ELEMENT_ID__=-1,e})();function Fo(e,t){Ot(di(e)[1],Je())}function Uo(e){return Object.getPrototypeOf(e.prototype).constructor}function Vo(e){let t=Uo(e.type),n=!0;const r=[e];for(;t;){let i;if(_e(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);const t=e;t.inputs=jo(e.inputs),t.declaredInputs=jo(e.declaredInputs),t.outputs=jo(e.outputs);const n=i.hostBindings;n&&zo(e,n);const s=i.viewQuery,o=i.contentQueries;if(s&&qo(e,s),o&&Zo(e,o),h(e.inputs,i.inputs),h(e.declaredInputs,i.declaredInputs),h(e.outputs,i.outputs),_e(i)&&i.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(i.data.animation)}}const t=i.features;if(t)for(let r=0;r<t.length;r++){const i=t[r];i&&i.ngInherit&&i(e),i===Vo&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Zt(i.hostAttrs,n=Zt(n,i.hostAttrs))}}(r)}function jo(e){return e===B?{}:e===$?[]:e}function qo(e,t){const n=e.viewQuery;e.viewQuery=n?(e,r)=>{t(e,r),n(e,r)}:t}function Zo(e,t){const n=e.contentQueries;e.contentQueries=n?(e,r,i)=>{t(e,r,i),n(e,r,i)}:t}function zo(e,t){const n=e.hostBindings;e.hostBindings=n?(e,r)=>{t(e,r),n(e,r)}:t}const Bo=["providersResolver"],$o=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function Ho(e){let t,n=Uo(e.type);t=_e(e)?n.\u0275cmp:n.\u0275dir;const r=e;for(const i of Bo)r[i]=t[i];if(_e(t))for(const i of $o)r[i]=t[i]}let Go=null;function Ko(){if(!Go){const e=z.Symbol;if(e&&e.iterator)Go=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Go=n)}}}return Go}class Wo{constructor(e){this.wrapped=e}static wrap(e){return new Wo(e)}static unwrap(e){return Wo.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof Wo}}function Yo(e){return!!Qo(e)&&(Array.isArray(e)||!(e instanceof Map)&&Ko()in e)}function Qo(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Jo(e,t,n){return e[t]=n}function Xo(e,t){return e[t]}function ea(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function ta(e,t,n,r){const i=ea(e,t,n);return ea(e,t+1,r)||i}function na(e,t,n,r,i){const s=ta(e,t,n,r);return ea(e,t+2,i)||s}function ra(e,t,n,r,i,s){const o=ta(e,t,n,r);return ta(e,t+2,i,s)||o}function ia(e,t,n,r){const i=We();return ea(i,ct(),t)&&(Ye(),Xs(At(),i,e,t,n,r)),ia}function sa(e,t){let n=!1,r=at();for(let s=1;s<t.length;s+=2)n=ea(e,r++,t[s])||n;if(ut(r),!n)return _s;let i=t[0];for(let s=1;s<t.length;s+=2)i+=_(t[s])+t[s+1];return i}function oa(e,t,n,r){return ea(e,ct(),n)?t+_(n)+r:_s}function aa(e,t,n,r,i,s){const o=ta(e,at(),n,i);return lt(2),o?t+_(n)+r+_(i)+s:_s}function ua(e,t,n,r,i,s,o,a){const u=na(e,at(),n,i,o);return lt(3),u?t+_(n)+r+_(i)+s+_(o)+a:_s}function ca(e,t,n,r,i,s,o,a,u,c){const l=ra(e,at(),n,i,o,u);return lt(4),l?t+_(n)+r+_(i)+s+_(o)+a+_(u)+c:_s}function la(e,t,n,r,i,s,o,a,u,c,l,h){const d=at();let f=ra(e,d,n,i,o,u);return f=ea(e,d+4,l)||f,lt(5),f?t+_(n)+r+_(i)+s+_(o)+a+_(u)+c+_(l)+h:_s}function ha(e,t,n,r,i,s,o,a,u,c,l,h,d,f){const p=at();let g=ra(e,p,n,i,o,u);return g=ta(e,p+4,l,d)||g,lt(6),g?t+_(n)+r+_(i)+s+_(o)+a+_(u)+c+_(l)+h+_(d)+f:_s}function da(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g){const m=at();let y=ra(e,m,n,i,o,u);return y=na(e,m+4,l,d,p)||y,lt(7),y?t+_(n)+r+_(i)+s+_(o)+a+_(u)+c+_(l)+h+_(d)+f+_(p)+g:_s}function fa(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m,y){const v=at();let w=ra(e,v,n,i,o,u);return w=ra(e,v+4,l,d,p,m)||w,lt(8),w?t+_(n)+r+_(i)+s+_(o)+a+_(u)+c+_(l)+h+_(d)+f+_(p)+g+_(m)+y:_s}function pa(e,t,n,r,i,s){const o=We(),a=oa(o,t,n,r);return a!==_s&&Xs(At(),o,e,a,i,s),pa}function ga(e,t,n,r,i,s,o,a){const u=We(),c=aa(u,t,n,r,i,s);return c!==_s&&Xs(At(),u,e,c,o,a),ga}function ma(e,t,n,r,i,s,o,a,u,c){const l=We(),h=ua(l,t,n,r,i,s,o,a);return h!==_s&&Xs(At(),l,e,h,u,c),ma}function ya(e,t,n,r,i,s,o,a,u,c,l,h){const d=We(),f=ca(d,t,n,r,i,s,o,a,u,c);return f!==_s&&Xs(At(),d,e,f,l,h),ya}function va(e,t,n,r,i,s,o,a,u,c,l,h,d,f){const p=We(),g=la(p,t,n,r,i,s,o,a,u,c,l,h);return g!==_s&&Xs(At(),p,e,g,d,f),va}function _a(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g){const m=We(),y=ha(m,t,n,r,i,s,o,a,u,c,l,h,d,f);return y!==_s&&Xs(At(),m,e,y,p,g),_a}function wa(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m,y){const v=We(),_=da(v,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g);return _!==_s&&Xs(At(),v,e,_,m,y),wa}function ba(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m,y,v,_){const w=We(),b=fa(w,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m,y);return b!==_s&&Xs(At(),w,e,b,v,_),ba}function Ia(e,t,n,r){const i=We(),s=sa(i,t);return s!==_s&&Xs(At(),i,e,s,n,r),Ia}function Ta(e,t,n,r,i,s,o,a){const u=We(),c=Ye(),l=e+de,h=c.firstCreatePass?function(e,t,n,r,i,s,o,a,u){const c=t.consts,l=Ns(t,e,4,o||null,Ze(c,a));$s(t,n,l,Ze(c,u)),Ot(t,l);const h=l.tViews=qs(2,l,r,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,l),h.queries=t.queries.embeddedTView(l)),l}(l,c,u,t,n,r,i,s,o):c.data[l];tt(h,!1);const d=u[11].createComment("");Qi(c,u,d,h),hi(d,u),ao(u,u[l]=ro(d,u,d,h)),ve(h)&&Us(c,u,h),null!=o&&Vs(u,h,a)}function Ea(e){return Ue($e.lFrame.contextLView,de+e)}const Sa={"\u0275\u0275defineInjectable":T,"\u0275\u0275defineInjector":E,"\u0275\u0275inject":Yn,"\u0275\u0275invalidFactoryDep":Qn,resolveForwardRef:m},Ca=l({provide:String,useValue:l});function Aa(e){return void 0!==e.useClass}function ka(e){return void 0!==e.useFactory}const xa=_n("Injectable",void 0,void 0,void 0,(e,t)=>Na(e,t)),Na=function(e,t){let n=null,r=null;e.hasOwnProperty(k)||Object.defineProperty(e,k,{get:()=>(null===n&&(n=Sn().compileInjectable(Sa,`ng:///${e.name}/\u0275prov.js`,function(e,t){const n=t||{providedIn:null},r={name:e.name,type:e,typeArgumentCount:0,providedIn:n.providedIn};return(Aa(n)||ka(n))&&void 0!==n.deps&&(r.deps=cr(n.deps)),Aa(n)?r.useClass=n.useClass:function(e){return Ca in e}(n)?r.useValue=n.useValue:ka(n)?r.useFactory=n.useFactory:function(e){return void 0!==e.useExisting}(n)&&(r.useExisting=n.useExisting),r}(e,t))),n)}),e.hasOwnProperty(Q)||Object.defineProperty(e,Q,{get:()=>{if(null===r){const t=Sn();r=t.compileFactory(Sa,`ng:///${e.name}/\u0275fac.js`,{name:e.name,type:e,typeArgumentCount:0,deps:ur(e),target:t.FactoryTarget.Injectable})}return r},configurable:!0})};function Oa(e,t=D.Default){const n=We();return null===n?Yn(e,t):rn(Je(),n,m(e),t)}function Da(){throw new Error("invalid")}function Ra(e,t,n){const r=We();return ea(r,ct(),t)&&Bs(Ye(),At(),r,e,t,r[11],n,!1),Ra}function Pa(e,t,n,r,i){const s=i?"class":"style";vo(e,n,t.inputs[s],s,r)}function La(e,t,n,r){const i=We(),s=Ye(),o=de+e,a=i[11],u=i[o]=Li(a,t,$e.lFrame.currentNamespace),c=s.firstCreatePass?function(e,t,n,r,i,s,o){const a=t.consts,u=Ns(t,e,2,i,Ze(a,s));return $s(t,n,u,Ze(a,o)),null!==u.attrs&&wo(u,u.attrs,!1),null!==u.mergedAttrs&&wo(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(o,s,i,0,t,n,r):s.data[o];tt(c,!0);const l=c.mergedAttrs;null!==l&&Vt(a,u,l);const h=c.classes;null!==h&&os(a,u,h);const d=c.styles;null!==d&&ss(a,u,d),64!=(64&c.flags)&&Qi(s,i,u,c),0===$e.lFrame.elementDepthCount&&hi(u,i),$e.lFrame.elementDepthCount++,ve(c)&&(Us(s,i,c),Fs(s,c,i)),null!==r&&Vs(i,c)}function Ma(){let e=Je();nt()?rt():(e=e.parent,tt(e,!1));const t=e;$e.lFrame.elementDepthCount--;const n=Ye();n.firstCreatePass&&(Ot(n,e),me(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Pa(n,t,We(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Pa(n,t,We(),t.stylesWithoutHost,!1)}function Fa(e,t,n,r){La(e,t,n,r),Ma()}function Ua(e,t,n){const r=We(),i=Ye(),s=e+de,o=i.firstCreatePass?function(e,t,n,r,i){const s=t.consts,o=Ze(s,r),a=Ns(t,e,8,"ng-container",o);return null!==o&&wo(a,o,!0),$s(t,n,a,Ze(s,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,i,r,t,n):i.data[s];tt(o,!0);const a=r[s]=r[11].createComment("");Qi(i,r,a,o),hi(a,r),ve(o)&&(Us(i,r,o),Fs(i,o,r)),null!=n&&Vs(r,o)}function Va(){let e=Je();const t=Ye();nt()?rt():(e=e.parent,tt(e,!1)),t.firstCreatePass&&(Ot(t,e),me(e)&&t.queries.elementEnd(e))}function ja(e,t,n){Ua(e,t,n),Va()}function qa(){return We()}function Za(e){return!!e&&"function"==typeof e.then}function za(e){return!!e&&"function"==typeof e.subscribe}const Ba=za;function $a(e,t,n,r){const i=We(),s=Ye(),o=Je();return Ga(s,i,i[11],o,e,t,!!n,r),$a}function Ha(e,t){const n=Je(),r=We(),i=Ye();return Ga(i,r,mo(pt(i.data),n,r),n,e,t,!1),Ha}function Ga(e,t,n,r,i,s,o,a){const u=ve(r),c=e.firstCreatePass&&go(e),l=po(t);let h=!0;if(3&r.type||a){const d=Me(r,t),f=a?a(d):d,p=l.length,g=a?e=>a(Pe(e[r.index])):r.index;if(De(n)){let o=null;if(!a&&u&&(o=function(e,t,n,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const e=i[s];if(e===n&&i[s+1]===r){const e=t[7],n=i[s+2];return e.length>n?e[n]:null}"string"==typeof e&&(s+=2)}return null}(e,t,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Wa(r,t,0,s,!1);const e=n.listen(f,i,s);l.push(s,e),c&&c.push(i,g,p,p+1)}}else s=Wa(r,t,0,s,!0),f.addEventListener(i,s,o),l.push(s),c&&c.push(i,g,p,o)}else s=Wa(r,t,0,s,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const e=f.length;if(e)for(let n=0;n<e;n+=2){const e=t[f[n]][f[n+1]].subscribe(s),o=l.length;l.push(s,e),c&&c.push(i,r.index,o,-(o+1))}}}function Ka(e,t,n,r){try{return!1!==n(r)}catch(i){return yo(e,i),!1}}function Wa(e,t,n,r,i){return function n(s){if(s===Function)return r;const o=2&e.flags?Ve(e.index,t):t;0==(32&t[2])&&uo(o);let a=Ka(t,0,r,s),u=n.__ngNextListenerFn__;for(;u;)a=Ka(t,0,u,s)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Ya(e=1){return function(e){return($e.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,$e.lFrame.contextLView))[8]}(e)}function Qa(e,t){let n=null;const r=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let i=0;i<t.length;i++){const s=t[i];if("*"!==s){if(null===r?gs(e,s,!0):ms(r,s))return i}else n=i}return n}function Ja(e){const t=We()[16][6];if(!t.projection){const n=t.projection=Dn(e?e.length:1,null),r=n.slice();let i=t.child;for(;null!==i;){const t=e?Qa(i,e):0;null!==t&&(r[t]?r[t].projectionNext=i:n[t]=i,r[t]=i),i=i.next}}}function Xa(e,t=0,n){const r=We(),i=Ye(),s=Ns(i,de+e,16,null,n||null);null===s.projection&&(s.projection=t),rt(),64!=(64&s.flags)&&function(e,t,n){is(t[11],0,t,n,ji(e,n,t),Hi(n.parent||t[6],n,t))}(i,r,s)}function eu(e,t,n){return tu(e,"",t,"",n),eu}function tu(e,t,n,r,i){const s=We(),o=oa(s,t,n,r);return o!==_s&&Bs(Ye(),At(),s,e,o,s[11],i,!1),tu}function nu(e,t,n,r,i,s,o){const a=We(),u=aa(a,t,n,r,i,s);return u!==_s&&Bs(Ye(),At(),a,e,u,a[11],o,!1),nu}function ru(e,t,n,r,i,s,o,a,u){const c=We(),l=ua(c,t,n,r,i,s,o,a);return l!==_s&&Bs(Ye(),At(),c,e,l,c[11],u,!1),ru}function iu(e,t,n,r,i,s,o,a,u,c,l){const h=We(),d=ca(h,t,n,r,i,s,o,a,u,c);return d!==_s&&Bs(Ye(),At(),h,e,d,h[11],l,!1),iu}function su(e,t,n,r,i,s,o,a,u,c,l,h,d){const f=We(),p=la(f,t,n,r,i,s,o,a,u,c,l,h);return p!==_s&&Bs(Ye(),At(),f,e,p,f[11],d,!1),su}function ou(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p){const g=We(),m=ha(g,t,n,r,i,s,o,a,u,c,l,h,d,f);return m!==_s&&Bs(Ye(),At(),g,e,m,g[11],p,!1),ou}function au(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m){const y=We(),v=da(y,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g);return v!==_s&&Bs(Ye(),At(),y,e,v,y[11],m,!1),au}function uu(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m,y,v){const _=We(),w=fa(_,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m,y);return w!==_s&&Bs(Ye(),At(),_,e,w,_[11],v,!1),uu}function cu(e,t,n){const r=We(),i=sa(r,t);return i!==_s&&Bs(Ye(),At(),r,e,i,r[11],n,!1),cu}function lu(e,t,n,r,i){const s=e[n+1],o=null===t;let a=r?Ts(s):Ss(s),u=!1;for(;0!==a&&(!1===u||o);){const n=e[a+1];hu(e[a],t)&&(u=!0,e[a+1]=r?As(n):Es(n)),a=r?Ts(n):Ss(n)}u&&(e[n+1]=r?Es(s):As(s))}function hu(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Ln(e,t)>=0}const du={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function fu(e){return e.substring(du.key,du.keyEnd)}function pu(e){return e.substring(du.value,du.valueEnd)}function gu(e,t){const n=du.textEnd;return n===t?-1:(t=du.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,du.key=t,n),vu(e,t,n))}function mu(e,t){const n=du.textEnd;let r=du.key=vu(e,t,n);return n===r?-1:(r=du.keyEnd=function(e,t,n){let r;for(;t<n&&(45===(r=e.charCodeAt(t))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)t++;return t}(e,r,n),r=_u(e,r,n),r=du.value=vu(e,r,n),r=du.valueEnd=function(e,t,n){let r=-1,i=-1,s=-1,o=t,a=o;for(;o<n;){const u=e.charCodeAt(o++);if(59===u)return a;34===u||39===u?a=o=wu(e,u,o,n):t===o-4&&85===s&&82===i&&76===r&&40===u?a=o=wu(e,41,o,n):u>32&&(a=o),s=i,i=r,r=-33&u}return a}(e,r,n),_u(e,r,n))}function yu(e){du.key=0,du.keyEnd=0,du.value=0,du.valueEnd=0,du.textEnd=e.length}function vu(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function _u(e,t,n,r){return(t=vu(e,t,n))<n&&t++,t}function wu(e,t,n,r){let i=-1,s=n;for(;s<r;){const n=e.charCodeAt(s++);if(n==t&&92!==i)return s;i=92==n&&92===i?0:n}throw new Error}function bu(e,t,n){return Au(e,t,n,!1),bu}function Iu(e,t){return Au(e,t,null,!0),Iu}function Tu(e){ku(Ru,Eu,e,!1)}function Eu(e,t){for(let n=function(e){return yu(e),mu(e,vu(e,0,du.textEnd))}(t);n>=0;n=mu(t,n))Ru(e,fu(t),pu(t))}function Su(e){ku(Rn,Cu,e,!0)}function Cu(e,t){for(let n=function(e){return yu(e),gu(e,vu(e,0,du.textEnd))}(t);n>=0;n=gu(t,n))Rn(e,fu(t),!0)}function Au(e,t,n,r){const i=We(),s=Ye(),o=lt(2);s.firstUpdatePass&&Nu(s,e,o,r),t!==_s&&ea(i,o,t)&&Pu(s,s.data[St()],i,i[11],e,i[o+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=d(Ir(e)))),e}(t,n),r,o)}function ku(e,t,n,r){const i=Ye(),s=lt(2);i.firstUpdatePass&&Nu(i,null,s,r);const o=We();if(n!==_s&&ea(o,s,n)){const a=i.data[St()];if(Fu(a,r)&&!xu(i,s)){let e=r?a.classesWithoutHost:a.stylesWithoutHost;null!==e&&(n=f(e,n||"")),Pa(i,a,o,n,r)}else!function(e,t,n,r,i,s,o,a){i===_s&&(i=$);let u=0,c=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const d=u<i.length?i[u+1]:void 0,f=c<s.length?s[c+1]:void 0;let p,g=null;l===h?(u+=2,c+=2,d!==f&&(g=h,p=f)):null===h||null!==l&&l<h?(u+=2,g=l):(c+=2,g=h,p=f),null!==g&&Pu(e,t,n,r,g,p,o,a),l=u<i.length?i[u]:null,h=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(e,t,n){if(null==n||""===n)return $;const r=[],i=Ir(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)e(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&e(r,s,i[s]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,s)}}function xu(e,t){return t>=e.expandoStartIndex}function Nu(e,t,n,r){const i=e.data;if(null===i[n+1]){const s=i[St()],o=xu(e,n);Fu(s,r)&&null===t&&!o&&(t=!1),t=function(e,t,n,r){const i=pt(e);let s=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Du(n=Ou(null,e,t,n,r),t.attrs,r),s=null);else{const o=t.directiveStylingLast;if(-1===o||e[o]!==i)if(n=Ou(i,e,t,n,r),null===s){let n=function(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Ss(r))return e[Ts(r)]}(e,t,r);void 0!==n&&Array.isArray(n)&&(n=Ou(null,e,t,n[1],r),n=Du(n,t.attrs,r),function(e,t,n,r){e[Ts(n?t.classBindings:t.styleBindings)]=r}(e,t,r,n))}else s=function(e,t,n){let r;const i=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<i;s++)r=Du(r,e[s].hostAttrs,n);return Du(r,t.attrs,n)}(e,t,r)}return void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s),n}(i,s,t,r),function(e,t,n,r,i,s){let o=s?t.classBindings:t.styleBindings,a=Ts(o),u=Ss(o);e[r]=n;let c,l=!1;if(Array.isArray(n)){const e=n;c=e[1],(null===c||Ln(e,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const t=Ts(e[a+1]);e[r+1]=Is(t,a),0!==t&&(e[t+1]=Cs(e[t+1],r)),e[a+1]=131071&e[a+1]|r<<17}else e[r+1]=Is(a,0),0!==a&&(e[a+1]=Cs(e[a+1],r)),a=r;else e[r+1]=Is(u,0),0===a?a=r:e[u+1]=Cs(e[u+1],r),u=r;l&&(e[r+1]=Es(e[r+1])),lu(e,c,r,!0),lu(e,c,r,!1),function(e,t,n,r,i){const s=i?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&Ln(s,t)>=0&&(n[r+1]=As(n[r+1]))}(t,c,e,r,s),o=Is(a,u),s?t.classBindings=o:t.styleBindings=o}(i,s,t,n,o,r)}}function Ou(e,t,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=t[a],r=Du(r,s.hostAttrs,i),s!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function Du(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?i=o:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Rn(e,o,!!n||t[++s]))}return void 0===e?null:e}function Ru(e,t,n){Rn(e,t,Ir(n))}function Pu(e,t,n,r,i,s,o,a){if(!(3&t.type))return;const u=e.data,c=u[a+1];Mu(1==(1&c)?Lu(u,t,n,i,Ss(c),o):void 0)||(Mu(s)||2==(2&c)&&(s=Lu(u,null,n,i,a,o)),function(e,t,n,r,i){const s=De(e);if(t)i?s?e.addClass(n,r):n.classList.add(r):s?e.removeClass(n,r):n.classList.remove(r);else{let t=-1===r.indexOf("-")?void 0:Ei.DashCase;if(null==i)s?e.removeStyle(n,r,t):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),t|=Ei.Important),s?e.setStyle(n,r,i,t):n.style.setProperty(r,i,o?"important":"")}}}(r,o,Le(St(),n),i,s))}function Lu(e,t,n,r,i,s){const o=null===t;let a;for(;i>0;){const t=e[i],s=Array.isArray(t),u=s?t[1]:t,c=null===u;let l=n[i+1];l===_s&&(l=c?$:void 0);let h=c?Pn(l,r):u===r?l:void 0;if(s&&!Mu(h)&&(h=Pn(t,r)),Mu(h)&&(a=h,o))return a;const d=e[i+1];i=o?Ts(d):Ss(d)}if(null!==t){let e=s?t.residualClasses:t.residualStyles;null!=e&&(a=Pn(e,r))}return a}function Mu(e){return void 0!==e}function Fu(e,t){return 0!=(e.flags&(t?16:32))}function Uu(e,t=""){const n=We(),r=Ye(),i=e+de,s=r.firstCreatePass?Ns(r,i,1,t,null):r.data[i],o=n[i]=Di(n[11],t);Qi(r,n,o,s),tt(s,!1)}function Vu(e){return ju("",e,""),Vu}function ju(e,t,n){const r=We(),i=oa(r,e,t,n);return i!==_s&&_o(r,St(),i),ju}function qu(e,t,n,r,i){const s=We(),o=aa(s,e,t,n,r,i);return o!==_s&&_o(s,St(),o),qu}function Zu(e,t,n,r,i,s,o){const a=We(),u=ua(a,e,t,n,r,i,s,o);return u!==_s&&_o(a,St(),u),Zu}function zu(e,t,n,r,i,s,o,a,u){const c=We(),l=ca(c,e,t,n,r,i,s,o,a,u);return l!==_s&&_o(c,St(),l),zu}function Bu(e,t,n,r,i,s,o,a,u,c,l){const h=We(),d=la(h,e,t,n,r,i,s,o,a,u,c,l);return d!==_s&&_o(h,St(),d),Bu}function $u(e,t,n,r,i,s,o,a,u,c,l,h,d){const f=We(),p=ha(f,e,t,n,r,i,s,o,a,u,c,l,h,d);return p!==_s&&_o(f,St(),p),$u}function Hu(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p){const g=We(),m=da(g,e,t,n,r,i,s,o,a,u,c,l,h,d,f,p);return m!==_s&&_o(g,St(),m),Hu}function Gu(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m){const y=We(),v=fa(y,e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m);return v!==_s&&_o(y,St(),v),Gu}function Ku(e){const t=We(),n=sa(t,e);return n!==_s&&_o(t,St(),n),Ku}function Wu(e,t,n){ku(Rn,Cu,oa(We(),e,t,n),!0)}function Yu(e,t,n,r,i){ku(Rn,Cu,aa(We(),e,t,n,r,i),!0)}function Qu(e,t,n,r,i,s,o){ku(Rn,Cu,ua(We(),e,t,n,r,i,s,o),!0)}function Ju(e,t,n,r,i,s,o,a,u){ku(Rn,Cu,ca(We(),e,t,n,r,i,s,o,a,u),!0)}function Xu(e,t,n,r,i,s,o,a,u,c,l){ku(Rn,Cu,la(We(),e,t,n,r,i,s,o,a,u,c,l),!0)}function ec(e,t,n,r,i,s,o,a,u,c,l,h,d){ku(Rn,Cu,ha(We(),e,t,n,r,i,s,o,a,u,c,l,h,d),!0)}function tc(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p){ku(Rn,Cu,da(We(),e,t,n,r,i,s,o,a,u,c,l,h,d,f,p),!0)}function nc(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m){ku(Rn,Cu,fa(We(),e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m),!0)}function rc(e){ku(Rn,Cu,sa(We(),e),!0)}function ic(e,t,n){Tu(oa(We(),e,t,n))}function sc(e,t,n,r,i){Tu(aa(We(),e,t,n,r,i))}function oc(e,t,n,r,i,s,o){Tu(ua(We(),e,t,n,r,i,s,o))}function ac(e,t,n,r,i,s,o,a,u){Tu(ca(We(),e,t,n,r,i,s,o,a,u))}function uc(e,t,n,r,i,s,o,a,u,c,l){Tu(la(We(),e,t,n,r,i,s,o,a,u,c,l))}function cc(e,t,n,r,i,s,o,a,u,c,l,h,d){Tu(ha(We(),e,t,n,r,i,s,o,a,u,c,l,h,d))}function lc(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p){Tu(da(We(),e,t,n,r,i,s,o,a,u,c,l,h,d,f,p))}function hc(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m){Tu(fa(We(),e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m))}function dc(e){Tu(sa(We(),e))}function fc(e,t,n,r,i){return Au(e,oa(We(),t,n,r),i,!1),fc}function pc(e,t,n,r,i,s,o){return Au(e,aa(We(),t,n,r,i,s),o,!1),pc}function gc(e,t,n,r,i,s,o,a,u){return Au(e,ua(We(),t,n,r,i,s,o,a),u,!1),gc}function mc(e,t,n,r,i,s,o,a,u,c,l){return Au(e,ca(We(),t,n,r,i,s,o,a,u,c),l,!1),mc}function yc(e,t,n,r,i,s,o,a,u,c,l,h,d){return Au(e,la(We(),t,n,r,i,s,o,a,u,c,l,h),d,!1),yc}function vc(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p){return Au(e,ha(We(),t,n,r,i,s,o,a,u,c,l,h,d,f),p,!1),vc}function _c(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m){return Au(e,da(We(),t,n,r,i,s,o,a,u,c,l,h,d,f,p,g),m,!1),_c}function wc(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m,y,v){return Au(e,fa(We(),t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m,y),v,!1),wc}function bc(e,t,n){return Au(e,sa(We(),t),n,!1),bc}function Ic(e,t,n){const r=We();return ea(r,ct(),t)&&Bs(Ye(),At(),r,e,t,r[11],n,!0),Ic}function Tc(e,t,n){const r=We();if(ea(r,ct(),t)){const i=Ye(),s=At();Bs(i,s,r,e,t,mo(pt(i.data),s,r),n,!0)}return Tc}const Ec=void 0;var Sc=["en",[["a","p"],["AM","PM"],Ec],[["AM","PM"],Ec,Ec],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ec,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ec,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ec,"{1} 'at' {0}",Ec],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let Cc={};function Ac(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=xc(t);if(n)return n;const r=t.split("-")[0];if(n=xc(r),n)return n;if("en"===r)return Sc;throw new Error(`Missing locale data for the locale "${e}".`)}function kc(e){return Ac(e)[Nc.PluralCase]}function xc(e){return e in Cc||(Cc[e]=z.ng&&z.ng.common&&z.ng.common.locales&&z.ng.common.locales[e]),Cc[e]}var Nc=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}({});const Oc=["zero","one","two","few","many"],Dc="en-US",Rc={marker:"element"},Pc={marker:"ICU"};var Lc=function(e){return e[e.SHIFT=2]="SHIFT",e[e.APPEND_EAGERLY=1]="APPEND_EAGERLY",e[e.COMMENT=2]="COMMENT",e}({});let Mc=Dc;function Fc(e){var t;null==(t=e)&&I("Expected localeId to be defined",t,null,"!="),"string"==typeof e&&(Mc=e.toLowerCase().replace(/_/g,"-"))}function Uc(e,t,n){const r=t.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?Gi(e,0,n):Pe(n[i])}function Vc(e,t,n,r,i){const s=t.insertBeforeIndex;if(Array.isArray(s)){let o=r,a=null;if(3&t.type||(a=o,o=i),null!==o&&0==(2&t.flags))for(let t=1;t<s.length;t++)Zi(e,o,n[s[t]],a,!1)}}function jc(e,t){if(e.push(t),e.length>1)for(let n=e.length-2;n>=0;n--){const r=e[n];qc(r)||Zc(r,t)&&null===zc(r)&&Bc(r,t.index)}}function qc(e){return!(64&e.type)}function Zc(e,t){return qc(t)||e.index>t.index}function zc(e){const t=e.insertBeforeIndex;return Array.isArray(t)?t[0]:t}function Bc(e,t){const n=e.insertBeforeIndex;Array.isArray(n)?n[0]=t:(Yi(Uc,Vc),e.insertBeforeIndex=t)}function $c(e,t){const n=e.data[t];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function Hc(e,t,n){const r=Os(e,n,64,null,null);return jc(t,r),r}function Gc(e,t){const n=t[e.currentCaseLViewIndex];return null===n?n:n<0?~n:n}let Kc=0,Wc=0;function Yc(e,t,n,r){const i=n[11];let s,o=null;for(let a=0;a<t.length;a++){const u=t[a];if("string"==typeof u){const e=t[++a];null===n[e]&&(n[e]=Di(i,u))}else if("number"==typeof u)switch(1&u){case 0:const c=u>>>17;let l,h;if(null===o&&(o=c,s=$i(i,r)),c===o?(l=r,h=s):(l=null,h=Pe(n[c])),null!==h){const t=(131070&u)>>>1;Zi(i,h,n[t],l,!1);const r=$c(e,t);if(null!==r&&"object"==typeof r){const t=Gc(r,n);null!==t&&Yc(e,r.create[t],n,n[r.anchorIdx])}}break;case 1:const d=t[++a],f=t[++a];eo(i,Le(u>>>1,n),null,null,d,f,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${u}"`)}else switch(u){case Pc:const e=t[++a],r=t[++a];null===n[r]&&hi(n[r]=Pi(i,e),n);break;case Rc:const s=t[++a],o=t[++a];null===n[o]&&hi(n[o]=Li(i,s,null),n)}}}function Qc(e,t,n,r,i){for(let s=0;s<n.length;s++){const o=n[s],a=n[++s];if(o&i){let i="";for(let o=s+1;o<=s+a;o++){const s=n[o];if("string"==typeof s)i+=s;else if("number"==typeof s)if(s<0)i+=_(t[r-s]);else{const a=s>>>2;switch(3&s){case 1:const s=n[++o],u=n[++o],c=e.data[a];"string"==typeof c?eo(t[11],t[a],null,c,s,i,u):Bs(e,c,t,s,i,t[11],u,!1);break;case 0:const l=t[a];null!==l&&Ri(t[11],l,i);break;case 2:Xc(e,$c(e,a),t,i);break;case 3:Jc(e,$c(e,a),r,t)}}}}else{const i=n[s+1];if(i>0&&3==(3&i)){const n=$c(e,i>>>2);t[n.currentCaseLViewIndex]<0&&Jc(e,n,r,t)}}s+=a}}function Jc(e,t,n,r){let i=r[t.currentCaseLViewIndex];if(null!==i){let s=Kc;i<0&&(i=r[t.currentCaseLViewIndex]=~i,s=-1),Qc(e,r,t.update[i],n,s)}}function Xc(e,t,n,r){const i=function(e,t){let n=e.cases.indexOf(t);if(-1===n)switch(e.type){case 1:{const r=function(e,t){const n=kc(t)(parseInt(e,10)),r=Oc[n];return void 0!==r?r:"other"}(t,Mc);n=e.cases.indexOf(r),-1===n&&"other"!==r&&(n=e.cases.indexOf("other"));break}case 0:n=e.cases.indexOf("other")}return-1===n?null:n}(t,r);if(Gc(t,n)!==i&&(el(e,t,n),n[t.currentCaseLViewIndex]=null===i?null:~i,null!==i)){const r=n[t.anchorIdx];r&&Yc(e,t.create[i],n,r)}}function el(e,t,n){let r=Gc(t,n);if(null!==r){const i=t.remove[r];for(let t=0;t<i.length;t++){const r=i[t];if(r>0){const e=Le(r,n);null!==e&&ts(n[11],e)}else el(e,$c(e,~r),n)}}}const tl=/\ufffd(\d+):?\d*\ufffd/gi,nl=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,rl=/\ufffd(\d+)\ufffd/,il=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,sl=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,ol=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,al=/\uE500/g;function ul(e,t,n,r,i,s,o){const a=Ds(e,r,1,null);let u=a<<Lc.SHIFT,c=et();t===c&&(c=null),null===c&&(u|=Lc.APPEND_EAGERLY),o&&(u|=Lc.COMMENT,void 0===Si&&(Si=function(){const e=[];let t,n,r=-1;function i(e,t){r=0;const i=Gc(e,t);n=null!==i?e.remove[i]:$}function s(){if(r<n.length){const o=n[r++];return o>0?t[o]:(e.push(r,n),i(t[1].data[~o],t),s())}return 0===e.length?null:(n=e.pop(),r=e.pop(),s())}return function(n,r){for(t=r;e.length;)e.pop();return i(n.value,r),s}}())),i.push(u,null===s?"":s);const l=Os(e,a,o?32:1,null===s?"":s,null);jc(n,l);const h=l.index;return tt(l,!1),null!==c&&t!==c&&function(e,t){let n=e.insertBeforeIndex;var r;null===n?(Yi(Uc,Vc),n=e.insertBeforeIndex=[null,t]):("Expecting array here",(r=Array.isArray(n))!=!0&&I("Expecting array here",r,true,"=="),n.push(t))}(c,h),l}function cl(e,t,n,r,i,s,o){const a=o.match(tl),u=ul(e,t,n,s,r,a?null:o,!1);a&&ll(i,o,u.index,null,0,null)}function ll(e,t,n,r,i,s){const o=e.length,a=o+1;e.push(null,null);const u=o+2,c=t.split(tl);let l=0;for(let h=0;h<c.length;h++){const t=c[h];if(1&h){const n=i+parseInt(t,10);e.push(-1-n),l|=dl(n)}else""!==t&&e.push(t)}return e.push(n<<2|(r?1:0)),r&&e.push(r,s),e[o]=l,e[a]=e.length-u,l}function hl(e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];"number"==typeof r&&r<0&&t++}return t}function dl(e){return 1<<Math.min(e,31)}function fl(e){let t,n,r="",i=0,s=!1;for(;null!==(t=sl.exec(e));)s?t[0]===`\ufffd/*${n}\ufffd`&&(i=t.index,s=!1):(r+=e.substring(i,t.index+t[0].length),n=t[1],s=!0);return r+=e.substr(i),r}function pl(e,t,n,r,i,s){let o=0;const a={type:i.type,currentCaseLViewIndex:Ds(e,t,1,null),anchorIdx:s,cases:[],create:[],remove:[],update:[]};!function(e,t,n){e.push(dl(t.mainBinding),2,-1-t.mainBinding,n<<2|2)}(n,i,s),function(e,t,n){const r=e.data[t];null===r?e.data[t]=n:r.value=n}(e,s,a);const u=i.values;for(let c=0;c<u.length;c++){const s=u[c],l=[];for(let e=0;e<s.length;e++){const t=s[e];if("string"!=typeof t){const n=l.push(t)-1;s[e]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}o=yl(e,a,t,n,r,i.cases[c],s.join(""),l)|o}o&&function(e,t,n){e.push(t,1,n<<2|3)}(n,o,s)}function gl(e){const t=[],n=[];let r=1,i=0;const s=ml(e=e.replace(il,function(e,t,n){return r="select"===n?0:1,i=parseInt(t.substr(1),10),""}));for(let o=0;o<s.length;){let e=s[o++].trim();1===r&&(e=e.replace(/\s*(?:=)?(\w+)\s*/,"$1")),e.length&&t.push(e);const i=ml(s[o++]);t.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:t,values:n}}function ml(e){if(!e)return[];let t=0;const n=[],r=[],i=/[{}]/g;let s;for(i.lastIndex=0;s=i.exec(e);){const i=s.index;if("}"==s[0]){if(n.pop(),0==n.length){const n=e.substring(t,i);il.test(n)?r.push(gl(n)):r.push(n),t=i+1}}else{if(0==n.length){const n=e.substring(t,i);r.push(n),t=i+1}n.push("{")}}const o=e.substring(t);return r.push(o),r}function yl(e,t,n,r,i,s,o,a){const u=[],c=[],l=[];t.cases.push(s),t.create.push(u),t.remove.push(c),t.update.push(l);const h=Nr(Oe()).getInertBodyElement(o),d=ei(h)||h;return d?vl(e,t,n,r,u,c,l,d,i,a,0):0}function vl(e,t,n,r,i,s,o,a,u,c,l){let h=0,d=a.firstChild;for(;d;){const a=Ds(e,n,1,null);switch(d.nodeType){case Node.ELEMENT_NODE:const f=d,p=f.tagName.toLowerCase();if(zr.hasOwnProperty(p)){bl(i,Rc,p,u,a),e.data[a]=p;const g=f.attributes;for(let e=0;e<g.length;e++){const t=g.item(e),n=t.name.toLowerCase();t.value.match(tl)?Hr.hasOwnProperty(n)&&ll(o,t.value,a,t.name,0,Br[n]?Lr:$r[n]?Mr:null):Il(i,a,t)}h=vl(e,t,n,r,i,s,o,d,a,c,l+1)|h,_l(s,a,l)}break;case Node.TEXT_NODE:const g=d.textContent||"",m=g.match(tl);bl(i,null,m?"":g,u,a),_l(s,a,l),m&&(h=ll(o,g,a,null,0,null)|h);break;case Node.COMMENT_NODE:const y=rl.exec(d.textContent||"");if(y){const t=c[parseInt(y[1],10)];bl(i,Pc,"",u,a),pl(e,n,r,u,t,a),wl(s,a,l)}}d=d.nextSibling}return h}function _l(e,t,n){0===n&&e.push(t)}function wl(e,t,n){0===n&&(e.push(~t),e.push(t))}function bl(e,t,n,r,i){null!==t&&e.push(t),e.push(n,i,0|r<<17|i<<1)}function Il(e,t,n){e.push(t<<1|1,n.name,n.value)}const Tl=/\[(\ufffd.+?\ufffd?)\]/,El=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,Sl=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,Cl=/{([A-Z0-9_]+)}/g,Al=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,kl=/\/\*/,xl=/\d+\:(\d+)/;function Nl(e,t,n=-1){const r=Ye(),i=We(),s=de+e,o=Ze(r.consts,t),a=et();r.firstCreatePass&&function(e,t,n,r,i,s){const o=et(),a=[],u=[],c=[[]],l=(h=i=function(e,t){if(function(e){return-1===e}(t))return fl(e);{const n=e.indexOf(`:${t}\ufffd`)+2+t.toString().length,r=e.search(new RegExp(`\ufffd\\/\\*\\d+:${t}\ufffd`));return fl(e.substring(n,r))}}(i,s),h.replace(al," ")).split(ol);var h;for(let d=0;d<l.length;d++){let r=l[d];if(0==(1&d)){const s=ml(r);for(let r=0;r<s.length;r++){let l=s[r];if(0==(1&r)){const t=l;""!==t&&cl(e,o,c[0],a,u,n,t)}else{const r=l;if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${i}" message.`);pl(e,n,u,t,r,ul(e,o,c[0],n,a,"",!0).index)}}}else{const t=47===r.charCodeAt(0),n=(r.charCodeAt(t?1:0),de+Number.parseInt(r.substring(t?2:1)));if(t)c.shift(),tt(et(),!1);else{const t=Hc(e,c[0],n);c.unshift([]),tt(t,!0)}}}e.data[r]={create:a,update:u}}(r,null===a?0:a.index,i,s,o,n);const u=r.data[s],c=qi(r,a===i[6]?null:a,i);!function(e,t,n,r){const i=e[11];for(let s=0;s<t.length;s++){const o=t[s++],a=t[s],u=(o&Lc.COMMENT)===Lc.COMMENT,c=(o&Lc.APPEND_EAGERLY)===Lc.APPEND_EAGERLY,l=o>>>Lc.SHIFT;let h=e[l];null===h&&(h=e[l]=u?i.createComment(a):Di(i,a)),c&&null!==n&&Zi(i,n,h,r,!1)}}(i,u.create,c,a&&8&a.type?i[a.index]:null),ht(!0)}function Ol(){ht(!1)}function Dl(e,t,n){Nl(e,t,n),Ol()}function Rl(e,t){const n=Ye(),r=Ze(n.consts,t);!function(e,t,n){const r=Je().index,i=[];if(e.firstCreatePass&&null===e.data[t]){for(let e=0;e<n.length;e+=2){const t=n[e],s=n[e+1];if(""!==s){if(nl.test(s))throw new Error(`ICU expressions are not supported in attributes. Message: "${s}".`);ll(i,s,r,t,hl(i),null)}}e.data[t]=i}}(n,e+de,r)}function Pl(e){return ea(We(),ct(),e)&&(Kc|=1<<Math.min(Wc,31)),Wc++,Pl}function Ll(e){!function(e,t,n){if(Wc>0){const r=e.data[n];Qc(e,t,Array.isArray(r)?r:r.update,at()-Wc-1,Kc)}Kc=0,Wc=0}(Ye(),We(),e+de)}function Ml(e,t={}){return function(e,t={}){let n=e;if(Tl.test(e)){const e={},t=[0];n=n.replace(El,(n,r,i)=>{const s=r||i,o=e[s]||[];if(o.length||(s.split("|").forEach(e=>{const t=e.match(xl),n=t?parseInt(t[1],10):0,r=kl.test(e);o.push([n,r,e])}),e[s]=o),!o.length)throw new Error(`i18n postprocess: unmatched placeholder - ${s}`);const a=t[t.length-1];let u=0;for(let e=0;e<o.length;e++)if(o[e][0]===a){u=e;break}const[c,l,h]=o[u];return l?t.pop():a!==c&&t.push(c),o.splice(u,1),h})}return Object.keys(t).length?(n=n.replace(Sl,(e,n,r,i,s,o)=>t.hasOwnProperty(r)?`${n}${t[r]}${o}`:e),n=n.replace(Cl,(e,n)=>t.hasOwnProperty(n)?t[n]:e),n=n.replace(Al,(e,n)=>{if(t.hasOwnProperty(n)){const r=t[n];if(!r.length)throw new Error(`i18n postprocess: unmatched ICU - ${e} with key: ${n}`);return r.shift()}return e}),n):n}(e,t)}function Fl(e,t,n,r,i){if(e=m(e),Array.isArray(e))for(let s=0;s<e.length;s++)Fl(e[s],t,n,r,i);else{const s=Ye(),o=We();let a=Po(e)?e:m(e.provide),u=Oo(e);const c=Je(),l=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(Po(e)||!e.multi){const r=new Ut(u,i,Oa),f=jl(a,t,i?l:l+d,h);-1===f?(en(Yt(c,o),s,a),Ul(s,e,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=jl(a,t,l+d,h),p=jl(a,t,l,l+d),g=f>=0&&n[f],m=p>=0&&n[p];if(i&&!m||!i&&!g){en(Yt(c,o),s,a);const l=function(e,t,n,r,i){const s=new Ut(e,n,Oa);return s.multi=[],s.index=t,s.componentProviders=0,Vl(s,i,r&&!n),s}(i?Zl:ql,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),Ul(s,e,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),o.push(l)}else Ul(s,e,f>-1?f:p,Vl(n[i?p:f],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Ul(e,t,n,r){const i=Po(t);if(i||t.useClass){const s=(t.useClass||t).prototype.ngOnDestroy;if(s){const o=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const e=o.indexOf(n);-1===e?o.push(n,[r,s]):o[e+1].push(r,s)}else o.push(n,s)}}}function Vl(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function jl(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function ql(e,t,n,r){return zl(this.multi,[])}function Zl(e,t,n,r){const i=this.multi;let s;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=cn(n,n[1],this.providerFactory.index,r);s=t.slice(0,e),zl(i,s);for(let n=e;n<t.length;n++)s.push(t[n])}else s=[],zl(i,s);return s}function zl(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Bl(e,t=[]){return n=>{n.providersResolver=(n,r)=>function(e,t,n){const r=Ye();if(r.firstCreatePass){const i=_e(e);Fl(n,r.data,r.blueprint,i,!0),Fl(t,r.data,r.blueprint,i,!1)}}(n,r?r(e):e,t)}}class $l{}class Hl{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${d(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(e)}}let Gl=(()=>{class e{}return e.NULL=new Hl,e})();function Kl(...e){}function Wl(e,t){return new Ql(Me(e,t))}const Yl=function(){return Wl(Je(),We())};let Ql=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=Yl,e})();function Jl(e){return e instanceof Ql?e.nativeElement:e}class Xl{}let eh=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>th(),e})();const th=function(){const e=We(),t=Ve(Je().index,e);return function(e){return e[11]}(pe(t)?t:e)};let nh=(()=>{class e{}return e.\u0275prov=T({token:e,providedIn:"root",factory:()=>null}),e})();class rh{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const ih=new rh("12.0.5");class sh{constructor(){}supports(e){return Yo(e)}create(e){return new ah(e)}}const oh=(e,t)=>t;class ah{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||oh}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,i=null;for(;t||n;){const s=!n||t&&t.currentIndex<hh(n,r,i)?t:n,o=hh(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{i||(i=[]);const e=o-r,t=a-r;if(e!=t){for(let n=0;n<e;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;t<=s&&s<e&&(i[n]=r+1)}i[s.previousIndex]=t-e}}o!==a&&e(s,o,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Yo(e))throw new Error(`Error trying to diff '${d(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,r,i=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],r=this._trackByFn(t,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,t)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,t),s=!0),i=i._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Ko()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(e,e=>{r=this._trackByFn(t,e),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,e,r,t)),Object.is(i.item,e)||this._addIdentityChange(i,e)):(i=this._mismatch(i,e,r,t),s=!0),i=i._next,t++}),this.length=t;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):e=this._addAfter(new uh(t,n),i,r),e}_verifyReinsertion(e,t,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new lh),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new lh),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class uh{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ch{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class lh{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new ch,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function hh(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class dh{constructor(){}supports(e){return e instanceof Map||Qo(e)}create(){return new fh}}class fh{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Qo(e)))throw new Error(`Error trying to diff '${d(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ph(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class ph{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function gh(){return new mh([new sh])}let mh=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||gh()),deps:[[e,new rr,new tr]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.\u0275prov=T({token:e,providedIn:"root",factory:gh}),e})();function yh(){return new vh([new dh])}let vh=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||yh()),deps:[[e,new rr,new tr]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=T({token:e,providedIn:"root",factory:yh}),e})();function _h(e,t,n,r,i=!1){for(;null!==n;){const s=t[n.index];if(null!==s&&r.push(Pe(s)),ge(s))for(let e=fe;e<s.length;e++){const t=s[e],n=t[1].firstChild;null!==n&&_h(t[1],t,n,r)}const o=n.type;if(8&o)_h(e,t,n.child,r);else if(32&o){const e=Ci(n,t);let i;for(;i=e();)r.push(i)}else if(16&o){const e=Xi(t,n);if(Array.isArray(e))r.push(...e);else{const n=Ai(t[16]);_h(n[1],n,e,r,!0)}}n=i?n.projectionNext:n.next}return r}class wh{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return _h(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(ge(e)){const t=e[8],n=t?t.indexOf(this):-1;n>-1&&(Fi(e,n),On(t,n))}this._attachedToViewContainer=!1}Ui(this._lView[1],this._lView)}onDestroy(e){Zs(this._lView[1],this._lView,null,e)}markForCheck(){uo(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){co(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){st(!0);try{co(e,t,n)}finally{st(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,rs(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class bh extends wh{constructor(e){super(e),this._view=e}detectChanges(){lo(this._view)}checkNoChanges(){!function(e){st(!0);try{lo(e)}finally{st(!1)}}(this._view)}get context(){return null}}const Ih=function(e){return function(e,t,n){if(ye(e)&&!n){const n=Ve(e.index,t);return new wh(n,n)}return 47&e.type?new wh(t[16],t):null}(Je(),We(),16==(16&e))};let Th=(()=>{class e{}return e.__NG_ELEMENT_ID__=Ih,e})();const Eh=[new dh],Sh=new mh([new sh]),Ch=new vh(Eh),Ah=function(){return Oh(Je(),We())};let kh=(()=>{class e{}return e.__NG_ELEMENT_ID__=Ah,e})();const xh=kh,Nh=class extends xh{constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=xs(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),Rs(t,n,e),new wh(n)}};function Oh(e,t){return 4&e.type?new Nh(t,e,Wl(e,t)):null}class Dh{}class Rh{}const Ph=function(){return jh(Je(),We())};let Lh=(()=>{class e{}return e.__NG_ELEMENT_ID__=Ph,e})();const Mh=Lh,Fh=class extends Mh{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return Wl(this._hostTNode,this._hostLView)}get injector(){return new dn(this._hostTNode,this._hostLView)}get parentInjector(){const e=Xt(this._hostTNode,this._hostLView);if(Bt(e)){const t=Ht(e,this._hostLView),n=$t(e);return new dn(t[1].data[n+8],t)}return new dn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=Uh(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-fe}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,i){const s=n||this.parentInjector;if(!i&&null==e.ngModule&&s){const e=s.get(Dh,null);e&&(i=e)}const o=e.create(s,r,void 0,i);return this.insert(o.hostView,t),o}insert(e,t){const n=e._lView,r=n[1];if(ge(n[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=n[3],r=new Fh(t,t[6],t[3]);r.detach(r.indexOf(e))}}const i=this._adjustIndex(t),s=this._lContainer;!function(e,t,n,r){const i=fe+r,s=n.length;r>0&&(n[i-1][4]=t),r<s-fe?(t[4]=n[i],Nn(n,fe+r,t)):(n.push(t),t[4]=null),t[3]=n;const o=t[17];null!==o&&n!==o&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(r,n,s,i);const o=es(i,s),a=n[11],u=$i(a,s[7]);return null!==u&&function(e,t,n,r,i,s){r[0]=i,r[6]=t,rs(e,r,n,1,i,s)}(r,s[6],a,n,u,o),e.attachToViewContainerRef(),Nn(Vh(s),i,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=Uh(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),n=Fi(this._lContainer,t);n&&(On(Vh(this._lContainer),t),Ui(n[1],n))}detach(e){const t=this._adjustIndex(e,-1),n=Fi(this._lContainer,t);return n&&null!=On(Vh(this._lContainer),t)?new wh(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function Uh(e){return e[8]}function Vh(e){return e[8]||(e[8]=[])}function jh(e,t){let n;const r=t[e.index];if(ge(r))n=r;else{let i;if(8&e.type)i=Pe(r);else{const n=t[11];i=n.createComment("");const r=Me(e,t);Zi(n,$i(n,r),i,function(e,t){return De(e)?e.nextSibling(t):t.nextSibling}(n,r),!1)}t[e.index]=n=ro(r,t,i,e),ao(t,n)}return new Fh(n,e,t)}const qh={};class Zh extends Gl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=le(e);return new $h(t,this.ngModule)}}function zh(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const Bh=new Tn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>_i});class $h extends $l{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(vs).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return zh(this.componentDef.inputs)}get outputs(){return zh(this.componentDef.outputs)}create(e,t,n,r){const i=(r=r||this.ngModule)?function(e,t){return{get:(n,r,i)=>{const s=e.get(n,qh,i);return s!==qh||r===qh?s:t.get(n,r,i)}}}(e,r.injector):e,s=i.get(Xl,Re),o=i.get(nh,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(e,t,n){if(De(e))return e.selectRootElement(t,n===U.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Li(s.createRenderer(null,this.componentDef),u,function(e){const t=e.toLowerCase();return"svg"===t?Ae:"math"===t?ke:null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:_i,clean:fo,playerHandler:null,flags:0},d=qs(0,null,null,1,0,null,null,null,null,null),f=xs(null,d,h,l,null,null,s,a,o,i);let p,g;_t(f);try{const e=function(e,t,n,r,i,s){const o=n[1];n[20]=e;const a=Ns(o,20,2,"#host",null),u=a.mergedAttrs=t.hostAttrs;null!==u&&(wo(a,u,!0),null!==e&&(Vt(i,e,u),null!==a.classes&&os(i,e,a.classes),null!==a.styles&&ss(i,e,a.styles)));const c=r.createRenderer(e,t),l=xs(n,js(t),null,t.onPush?64:16,n[20],a,r,c,null,null);return o.firstCreatePass&&(en(Yt(a,n),o,t.type),Ks(o,a),Ys(a,n.length,1)),ao(n,l),n[20]=l}(c,this.componentDef,f,s,a);if(c)if(n)Vt(a,c,["ng-version",ih.full]);else{const{attrs:e,classes:t}=function(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&t.push(s,e[++r]):8===i&&n.push(s);else{if(!fs(i))break;i=s}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);e&&Vt(a,c,e),t&&t.length>0&&os(a,c,t.join(" "))}if(g=Fe(d,de),void 0!==t){const e=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=t[n];e.push(null!=r?Array.from(r):null)}}p=function(e,t,n,r,i){const s=n[1],o=function(e,t,n){const r=Je();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Qs(e,r,t,Ds(e,t,1,null),n));const i=cn(t,e,r.directiveStart,r);hi(i,t);const s=Me(r,t);return s&&hi(s,t),i}(s,n,t);if(r.components.push(o),e[8]=o,i&&i.forEach(e=>e(o,t)),t.contentQueries){const e=Je();t.contentQueries(1,o,e.directiveStart)}const a=Je();return!s.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Ct(a.index),Hs(n[1],a,0,a.directiveStart,a.directiveEnd,t),Gs(t,o)),o}(e,this.componentDef,f,h,[Fo]),Rs(d,f,null)}finally{Et()}return new Hh(this.componentType,p,Wl(g,f),f,g)}}class Hh extends class{}{constructor(e,t,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=t,this.hostView=this.changeDetectorRef=new bh(r),this.componentType=e}get injector(){return new dn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Gh(e,t,n,r){return M(()=>{const i=e;null!==t&&(i.hasOwnProperty("decorators")&&void 0!==i.decorators?i.decorators.push(...t):i.decorators=t),null!==n&&(i.ctorParameters=n),null!==r&&(i.propDecorators=i.hasOwnProperty("propDecorators")&&void 0!==i.propDecorators?Object.assign(Object.assign({},i.propDecorators),r):r)})}const Kh=new Map;class Wh extends Dh{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Zh(this);const n=he(e),r=e[Y]||null;r&&Fc(r),this._bootstrapComponents=Ti(n.bootstrap),this._r3Injector=ko(e,t,[{provide:Dh,useValue:this},{provide:Gl,useValue:this.componentFactoryResolver}],d(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=Mo.THROW_IF_NOT_FOUND,n=D.Default){return e===Mo||e===Dh||e===bo?this:this._r3Injector.get(e,t,n)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Yh extends Rh{constructor(e){super(),this.moduleType=e,null!==he(e)&&function(e){const t=new Set;!function e(n){const r=he(n,!0),i=r.id;null!==i&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${d(t)} vs ${d(t.name)}`)}(i,Kh.get(i),n),Kh.set(i,n));const s=Ti(r.imports);for(const o of s)t.has(o)||(t.add(o),e(o))}(e)}(e)}create(e){return new Wh(this.moduleType,e)}}function Qh(e,t,n){const r=ot()+e,i=We();return i[r]===_s?Jo(i,r,n?t.call(n):t()):Xo(i,r)}function Jh(e,t,n,r){return ud(We(),ot(),e,t,n,r)}function Xh(e,t,n,r,i){return cd(We(),ot(),e,t,n,r,i)}function ed(e,t,n,r,i,s){return ld(We(),ot(),e,t,n,r,i,s)}function td(e,t,n,r,i,s,o){return hd(We(),ot(),e,t,n,r,i,s,o)}function nd(e,t,n,r,i,s,o,a){const u=ot()+e,c=We(),l=ra(c,u,n,r,i,s);return ea(c,u+4,o)||l?Jo(c,u+5,a?t.call(a,n,r,i,s,o):t(n,r,i,s,o)):Xo(c,u+5)}function rd(e,t,n,r,i,s,o,a,u){const c=ot()+e,l=We(),h=ra(l,c,n,r,i,s);return ta(l,c+4,o,a)||h?Jo(l,c+6,u?t.call(u,n,r,i,s,o,a):t(n,r,i,s,o,a)):Xo(l,c+6)}function id(e,t,n,r,i,s,o,a,u,c){const l=ot()+e,h=We();let d=ra(h,l,n,r,i,s);return na(h,l+4,o,a,u)||d?Jo(h,l+7,c?t.call(c,n,r,i,s,o,a,u):t(n,r,i,s,o,a,u)):Xo(h,l+7)}function sd(e,t,n,r,i,s,o,a,u,c,l){const h=ot()+e,d=We(),f=ra(d,h,n,r,i,s);return ra(d,h+4,o,a,u,c)||f?Jo(d,h+8,l?t.call(l,n,r,i,s,o,a,u,c):t(n,r,i,s,o,a,u,c)):Xo(d,h+8)}function od(e,t,n,r){return dd(We(),ot(),e,t,n,r)}function ad(e,t){const n=e[t];return n===_s?void 0:n}function ud(e,t,n,r,i,s){const o=t+n;return ea(e,o,i)?Jo(e,o+1,s?r.call(s,i):r(i)):ad(e,o+1)}function cd(e,t,n,r,i,s,o){const a=t+n;return ta(e,a,i,s)?Jo(e,a+2,o?r.call(o,i,s):r(i,s)):ad(e,a+2)}function ld(e,t,n,r,i,s,o,a){const u=t+n;return na(e,u,i,s,o)?Jo(e,u+3,a?r.call(a,i,s,o):r(i,s,o)):ad(e,u+3)}function hd(e,t,n,r,i,s,o,a,u){const c=t+n;return ra(e,c,i,s,o,a)?Jo(e,c+4,u?r.call(u,i,s,o,a):r(i,s,o,a)):ad(e,c+4)}function dd(e,t,n,r,i,s){let o=t+n,a=!1;for(let u=0;u<i.length;u++)ea(e,o++,i[u])&&(a=!0);return a?Jo(e,o,r.apply(s,i)):ad(e,o)}function fd(e,t){const n=Ye();let r;const i=e+de;n.firstCreatePass?(r=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}throw new v("302",`The pipe '${e}' could not be found!`)}(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=we(r.type)),o=P(Oa);try{const e=Kt(!1),t=s();return Kt(e),function(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,We(),i,t),t}finally{P(o)}}function pd(e,t,n){const r=e+de,i=We(),s=Ue(i,r);return wd(i,_d(i,r)?ud(i,ot(),t,s.transform,n,s):s.transform(n))}function gd(e,t,n,r){const i=e+de,s=We(),o=Ue(s,i);return wd(s,_d(s,i)?cd(s,ot(),t,o.transform,n,r,o):o.transform(n,r))}function md(e,t,n,r,i){const s=e+de,o=We(),a=Ue(o,s);return wd(o,_d(o,s)?ld(o,ot(),t,a.transform,n,r,i,a):a.transform(n,r,i))}function yd(e,t,n,r,i,s){const o=e+de,a=We(),u=Ue(a,o);return wd(a,_d(a,o)?hd(a,ot(),t,u.transform,n,r,i,s,u):u.transform(n,r,i,s))}function vd(e,t,n){const r=e+de,i=We(),s=Ue(i,r);return wd(i,_d(i,r)?dd(i,ot(),t,s.transform,n,s):s.transform.apply(s,n))}function _d(e,t){return e[1].data[t].pure}function wd(e,t){return Wo.isWrapped(t)&&(t=Wo.unwrap(t),e[at()]=_s),t}function bd(e){return t=>{setTimeout(e,void 0,t)}}const Id=class extends r.xQ{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){var r,s,o;let a=e,u=t||(()=>null),c=n;if(e&&"object"==typeof e){const t=e;a=null===(r=t.next)||void 0===r?void 0:r.bind(t),u=null===(s=t.error)||void 0===s?void 0:s.bind(t),c=null===(o=t.complete)||void 0===o?void 0:o.bind(t)}this.__isAsync&&(u=bd(u),a&&(a=bd(a)),c&&(c=bd(c)));const l=super.subscribe({next:a,error:u,complete:c});return e instanceof i.w&&e.add(l),l}};function Td(){return this._results[Ko()]()}class Ed{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Ko(),n=Ed.prototype;n[t]||(n[t]=Td)}get changes(){return this._changes||(this._changes=new Id)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const n=this;n.dirty=!1;const r=kn(e);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=t[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,t))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Sd{constructor(e){this.queryList=e,this.matches=null}clone(){return new Sd(this.queryList)}setDirty(){this.queryList.setDirty()}}class Cd{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let e=0;e<n;e++){const n=t.getByIndex(e);r.push(this.queries[n.indexInDeclarationView].clone())}return new Cd(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==jd(e,t).matches&&this.queries[t].setDirty()}}class Ad{constructor(e,t,n=null){this.predicate=e,this.flags=t,this.read=n}}class kd{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const r=null!==t?t.length:0,i=this.getByIndex(n).embeddedTView(e,r);i&&(i.indexInDeclarationView=n,null!==t?t.push(i):t=[i])}return null!==t?new kd(t):null}template(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class xd{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new xd(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(e,t,Nd(t,i)),this.matchTNodeWithReadOption(e,t,un(t,e,i,!1,!1))}else n===kh?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,un(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Ql||r===Lh||r===kh&&4&t.type)this.addMatch(t.index,-2);else{const n=un(t,e,r,!1,!1);null!==n&&this.addMatch(t.index,n)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Nd(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function Od(e,t,n,r){return-1===n?function(e,t){return 11&e.type?Wl(e,t):4&e.type?Oh(e,t):null}(t,e):-2===n?function(e,t,n){return n===Ql?Wl(t,e):n===kh?Oh(t,e):n===Lh?jh(t,e):void 0}(e,t,r):cn(e,e[1],n,t)}function Dd(e,t,n,r){const i=t[19].queries[r];if(null===i.matches){const r=e.data,s=n.matches,o=[];for(let e=0;e<s.length;e+=2){const i=s[e];o.push(i<0?null:Od(t,r[i],s[e+1],n.metadata.read))}i.matches=o}return i.matches}function Rd(e,t,n,r){const i=e.queries.getByIndex(n),s=i.matches;if(null!==s){const o=Dd(e,t,i,n);for(let e=0;e<s.length;e+=2){const n=s[e];if(n>0)r.push(o[e/2]);else{const i=s[e+1],o=t[-n];for(let e=fe;e<o.length;e++){const t=o[e];t[17]===t[3]&&Rd(t[1],t,i,r)}if(null!==o[9]){const e=o[9];for(let t=0;t<e.length;t++){const n=e[t];Rd(n[1],n,i,r)}}}}}return r}function Pd(e){const t=We(),n=Ye(),r=gt();mt(r+1);const i=jd(n,r);if(e.dirty&&je(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const s=i.crossesNgTemplate?Rd(n,t,r,[]):Dd(n,t,i,r);e.reset(s,Jl),e.notifyOnChanges()}return!0}return!1}function Ld(e,t,n){const r=Ye();r.firstCreatePass&&(Vd(r,new Ad(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),Ud(r,We(),t)}function Md(e,t,n,r){const i=Ye();if(i.firstCreatePass){const s=Je();Vd(i,new Ad(t,n,r),s.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(i,e),2==(2&n)&&(i.staticContentQueries=!0)}Ud(i,We(),n)}function Fd(){return e=We(),t=gt(),e[19].queries[t].queryList;var e,t}function Ud(e,t,n){const r=new Ed(4==(4&n));Zs(e,t,r,r.destroy),null===t[19]&&(t[19]=new Cd),t[19].queries.push(new Sd(r))}function Vd(e,t,n){null===e.queries&&(e.queries=new kd),e.queries.track(new xd(t,n))}function jd(e,t){return e.queries.getByIndex(t)}function qd(e,t){return Oh(e,t)}const Zd=(()=>({"\u0275\u0275attribute":ia,"\u0275\u0275attributeInterpolate1":pa,"\u0275\u0275attributeInterpolate2":ga,"\u0275\u0275attributeInterpolate3":ma,"\u0275\u0275attributeInterpolate4":ya,"\u0275\u0275attributeInterpolate5":va,"\u0275\u0275attributeInterpolate6":_a,"\u0275\u0275attributeInterpolate7":wa,"\u0275\u0275attributeInterpolate8":ba,"\u0275\u0275attributeInterpolateV":Ia,"\u0275\u0275defineComponent":ee,"\u0275\u0275defineDirective":ue,"\u0275\u0275defineInjectable":T,"\u0275\u0275defineInjector":E,"\u0275\u0275defineNgModule":se,"\u0275\u0275definePipe":ce,"\u0275\u0275directiveInject":Oa,"\u0275\u0275getInheritedFactory":fn,"\u0275\u0275inject":Yn,"\u0275\u0275injectAttribute":gn,"\u0275\u0275invalidFactory":Da,"\u0275\u0275invalidFactoryDep":Qn,"\u0275\u0275templateRefExtractor":qd,"\u0275\u0275NgOnChangesFeature":Ie,"\u0275\u0275ProvidersFeature":Bl,"\u0275\u0275CopyDefinitionFeature":Ho,"\u0275\u0275InheritDefinitionFeature":Vo,"\u0275\u0275nextContext":Ya,"\u0275\u0275namespaceHTML":Nt,"\u0275\u0275namespaceMathML":xt,"\u0275\u0275namespaceSVG":kt,"\u0275\u0275enableBindings":Ge,"\u0275\u0275disableBindings":Ke,"\u0275\u0275elementStart":La,"\u0275\u0275elementEnd":Ma,"\u0275\u0275element":Fa,"\u0275\u0275elementContainerStart":Ua,"\u0275\u0275elementContainerEnd":Va,"\u0275\u0275elementContainer":ja,"\u0275\u0275pureFunction0":Qh,"\u0275\u0275pureFunction1":Jh,"\u0275\u0275pureFunction2":Xh,"\u0275\u0275pureFunction3":ed,"\u0275\u0275pureFunction4":td,"\u0275\u0275pureFunction5":nd,"\u0275\u0275pureFunction6":rd,"\u0275\u0275pureFunction7":id,"\u0275\u0275pureFunction8":sd,"\u0275\u0275pureFunctionV":od,"\u0275\u0275getCurrentView":qa,"\u0275\u0275restoreView":Qe,"\u0275\u0275listener":$a,"\u0275\u0275projection":Xa,"\u0275\u0275syntheticHostProperty":Tc,"\u0275\u0275syntheticHostListener":Ha,"\u0275\u0275pipeBind1":pd,"\u0275\u0275pipeBind2":gd,"\u0275\u0275pipeBind3":md,"\u0275\u0275pipeBind4":yd,"\u0275\u0275pipeBindV":vd,"\u0275\u0275projectionDef":Ja,"\u0275\u0275hostProperty":Ic,"\u0275\u0275property":Ra,"\u0275\u0275propertyInterpolate":eu,"\u0275\u0275propertyInterpolate1":tu,"\u0275\u0275propertyInterpolate2":nu,"\u0275\u0275propertyInterpolate3":ru,"\u0275\u0275propertyInterpolate4":iu,"\u0275\u0275propertyInterpolate5":su,"\u0275\u0275propertyInterpolate6":ou,"\u0275\u0275propertyInterpolate7":au,"\u0275\u0275propertyInterpolate8":uu,"\u0275\u0275propertyInterpolateV":cu,"\u0275\u0275pipe":fd,"\u0275\u0275queryRefresh":Pd,"\u0275\u0275viewQuery":Ld,"\u0275\u0275loadQuery":Fd,"\u0275\u0275contentQuery":Md,"\u0275\u0275reference":Ea,"\u0275\u0275classMap":Su,"\u0275\u0275classMapInterpolate1":Wu,"\u0275\u0275classMapInterpolate2":Yu,"\u0275\u0275classMapInterpolate3":Qu,"\u0275\u0275classMapInterpolate4":Ju,"\u0275\u0275classMapInterpolate5":Xu,"\u0275\u0275classMapInterpolate6":ec,"\u0275\u0275classMapInterpolate7":tc,"\u0275\u0275classMapInterpolate8":nc,"\u0275\u0275classMapInterpolateV":rc,"\u0275\u0275styleMap":Tu,"\u0275\u0275styleMapInterpolate1":ic,"\u0275\u0275styleMapInterpolate2":sc,"\u0275\u0275styleMapInterpolate3":oc,"\u0275\u0275styleMapInterpolate4":ac,"\u0275\u0275styleMapInterpolate5":uc,"\u0275\u0275styleMapInterpolate6":cc,"\u0275\u0275styleMapInterpolate7":lc,"\u0275\u0275styleMapInterpolate8":hc,"\u0275\u0275styleMapInterpolateV":dc,"\u0275\u0275styleProp":bu,"\u0275\u0275stylePropInterpolate1":fc,"\u0275\u0275stylePropInterpolate2":pc,"\u0275\u0275stylePropInterpolate3":gc,"\u0275\u0275stylePropInterpolate4":mc,"\u0275\u0275stylePropInterpolate5":yc,"\u0275\u0275stylePropInterpolate6":vc,"\u0275\u0275stylePropInterpolate7":_c,"\u0275\u0275stylePropInterpolate8":wc,"\u0275\u0275stylePropInterpolateV":bc,"\u0275\u0275classProp":Iu,"\u0275\u0275advance":ws,"\u0275\u0275template":Ta,"\u0275\u0275text":Uu,"\u0275\u0275textInterpolate":Vu,"\u0275\u0275textInterpolate1":ju,"\u0275\u0275textInterpolate2":qu,"\u0275\u0275textInterpolate3":Zu,"\u0275\u0275textInterpolate4":zu,"\u0275\u0275textInterpolate5":Bu,"\u0275\u0275textInterpolate6":$u,"\u0275\u0275textInterpolate7":Hu,"\u0275\u0275textInterpolate8":Gu,"\u0275\u0275textInterpolateV":Ku,"\u0275\u0275i18n":Dl,"\u0275\u0275i18nAttributes":Rl,"\u0275\u0275i18nExp":Pl,"\u0275\u0275i18nStart":Nl,"\u0275\u0275i18nEnd":Ol,"\u0275\u0275i18nApply":Ll,"\u0275\u0275i18nPostprocess":Ml,"\u0275\u0275resolveWindow":wi,"\u0275\u0275resolveDocument":bi,"\u0275\u0275resolveBody":Ii,"\u0275\u0275setComponentScope":te,"\u0275\u0275setNgModuleScope":oe,"\u0275\u0275sanitizeHtml":ni,"\u0275\u0275sanitizeStyle":ri,"\u0275\u0275sanitizeResourceUrl":si,"\u0275\u0275sanitizeScript":oi,"\u0275\u0275sanitizeUrl":ii,"\u0275\u0275sanitizeUrlOrResourceUrl":ci,"\u0275\u0275trustConstantHtml":ai,"\u0275\u0275trustConstantResourceUrl":ui,forwardRef:g,resolveForwardRef:m}))(),zd=[];function Bd(e){return function(e){return void 0!==e.ngModule}(e)?e.ngModule:e}const $d=_n("NgModule",e=>e,void 0,void 0,(e,t)=>Hd(e,t)),Hd=function(e,t={}){!function(e,t,n=!1){const r=kn(t.declarations||$);let i=null;Object.defineProperty(e,W,{configurable:!0,get:()=>(null===i&&(i=Sn().compileNgModule(Zd,`ng:///${e.name}/\u0275mod.js`,{type:e,bootstrap:kn(t.bootstrap||$).map(m),declarations:r.map(m),imports:kn(t.imports||$).map(m).map(Bd),exports:kn(t.exports||$).map(m).map(Bd),schemas:t.schemas?kn(t.schemas):null,id:t.id||null}),i.schemas||(i.schemas=[])),i)});let s=null;Object.defineProperty(e,Q,{get:()=>{if(null===s){const t=Sn();s=t.compileFactory(Zd,`ng:///${e.name}/\u0275fac.js`,{name:e.name,type:e,deps:ur(e),target:t.FactoryTarget.NgModule,typeArgumentCount:0})}return s},configurable:!1});let o=null;Object.defineProperty(e,x,{get:()=>{if(null===o){const n={name:e.name,type:e,providers:t.providers||$,imports:[(t.imports||$).map(m),(t.exports||$).map(m)]};o=Sn().compileInjector(Zd,`ng:///${e.name}/\u0275inj.js`,n)}return o},configurable:!1})}(e,t),function(e,t){zd.push({moduleType:e,ngModule:t})}(e,t)},Gd=new Tn("Application Initializer");let Kd=(()=>{class e{constructor(e){this.appInits=e,this.resolve=Kl,this.reject=Kl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();if(Za(t))e.push(t);else if(Ba(t)){const n=new Promise((e,n)=>{t.subscribe({complete:e,error:n})});e.push(n)}}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(Yn(Gd,8))},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e})();const Wd=new Tn("AppId"),Yd={provide:Wd,useFactory:function(){return`${Qd()}${Qd()}${Qd()}`},deps:[]};function Qd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Jd=new Tn("Platform Initializer"),Xd=new Tn("Platform ID"),ef=new Tn("appBootstrapListener");let tf=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e})();const nf=new Tn("LocaleId"),rf=new Tn("DefaultCurrencyCode");class sf{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const of=function(e){return new Yh(e)},af=of,uf=function(e){return Promise.resolve(of(e))},cf=function(e){const t=of(e),n=Ti(he(e).declarations).reduce((e,t)=>{const n=le(t);return n&&e.push(new $h(n)),e},[]);return new sf(t,n)},lf=cf,hf=function(e){return Promise.resolve(cf(e))};let df=(()=>{class e{constructor(){this.compileModuleSync=af,this.compileModuleAsync=uf,this.compileModuleAndAllComponentsSync=lf,this.compileModuleAndAllComponentsAsync=hf}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e})();const ff=(()=>Promise.resolve(0))();function pf(e){"undefined"==typeof Zone?ff.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class gf{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Id(!1),this.onMicrotaskEmpty=new Id(!1),this.onStable=new Id(!1),this.onError=new Id(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&t,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let e=z.requestAnimationFrame,t=z.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(z,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,vf(e),e.isCheckStableRunning=!0,yf(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),vf(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return _f(e),n.invokeTask(i,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),wf(e)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return _f(e),n.invoke(i,s,o,a,u)}finally{e.shouldCoalesceRunChangeDetection&&t(),wf(e)}},onHasTask:(t,n,r,i)=>{t.hasTask(r,i),n===r&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,vf(e),yf(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,n,r,i)=>(t.handleError(r,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!gf.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(gf.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,e,mf,Kl,Kl);try{return i.runTask(s,t,n)}finally{i.cancelTask(s)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}const mf={};function yf(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function vf(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function _f(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function wf(e){e._nesting--,yf(e)}class bf{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Id,this.onMicrotaskEmpty=new Id,this.onStable=new Id,this.onError=new Id}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,r){return e.apply(t,n)}}let If=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{gf.assertNotInAngularZone(),pf(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())pf(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let r=-1;t&&t>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==r),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}return e.\u0275fac=function(t){return new(t||e)(Yn(gf))},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e})(),Tf=(()=>{class e{constructor(){this._applications=new Map,Af.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return Af.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e})();class Ef{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}function Sf(e){Af=e}let Cf,Af=new Ef,kf=!0,xf=!1;function Nf(){return xf=!0,kf}function Of(){if(xf)throw new Error("Cannot enable prod mode after platform setup.");kf=!1}const Df=new Tn("AllowMultipleToken");class Rf{constructor(e,t){this.name=e,this.token=t}}function Pf(e,t,n=[]){const r=`Platform: ${t}`,i=new Tn(r);return(t=[])=>{let s=Lf();if(!s||s.injector.get(Df,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{const e=n.concat(t).concat({provide:i,useValue:!0},{provide:To,useValue:"platform"});!function(e){if(Cf&&!Cf.destroyed&&!Cf.injector.get(Df,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Cf=e.get(Mf);const t=e.get(Jd,null);t&&t.forEach(e=>e())}(Mo.create({providers:e,name:r}))}return function(e){const t=Lf();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function Lf(){return Cf&&!Cf.destroyed?Cf:null}let Mf=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e,t){let n;return n="noop"===e?new bf:("zone.js"===e?void 0:e)||new gf({enableLongStackTrace:Nf(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(t?t.ngZone:void 0,{ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1}),r=[{provide:gf,useValue:n}];return n.run(()=>{const t=Mo.create({providers:r,parent:this.injector,name:e.moduleType.name}),i=e.create(t),s=i.injector.get(mi,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const e=n.onError.subscribe({next:e=>{s.handleError(e)}});i.onDestroy(()=>{Vf(this._modules,i),e.unsubscribe()})}),function(e,t,n){try{const r=n();return Za(r)?r.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(s,n,()=>{const e=i.injector.get(Kd);return e.runInitializers(),e.donePromise.then(()=>(Fc(i.injector.get(nf,Dc)||Dc),this._moduleDoBootstrap(i),i))})})}bootstrapModule(e,t=[]){const n=Ff({},t);return function(e,t,n){const r=new Yh(n);return Promise.resolve(r)}(0,0,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(Uf);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${d(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(Yn(Mo))},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e})();function Ff(e,t){return Array.isArray(t)?t.reduce(Ff,e):Object.assign(Object.assign({},e),t)}let Uf=(()=>{class e{constructor(e,t,n,r,i){this._zone=e,this._injector=t,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new s.y(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),h=new s.y(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{gf.assertNotInAngularZone(),pf(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{gf.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=(0,o.T)(l,h.pipe(e=>{return(0,u.x)()((t=c,function(e){let n;n="function"==typeof t?t:function(){return t};const r=Object.create(e,a.N);return r.source=e,r.subjectFactory=n,r})(e));var t}))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof $l?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Dh),i=n.create(Mo.NULL,[],t||n.selector,r),s=i.location.nativeElement,o=i.injector.get(If,null),a=o&&i.injector.get(Tf);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),Vf(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;Vf(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(ef,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(Yn(gf),Yn(Mo),Yn(mi),Yn(Gl),Yn(Kd))},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e})();function Vf(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class jf{}class qf{}const Zf={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let zf=(()=>{class e{constructor(e,t){this._compiler=e,this._config=t||Zf}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[t,r]=e.split("#");return void 0===r&&(r="default"),n(8255)(t).then(e=>e[r]).then(e=>Bf(e,t,r)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,r]=e.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(8255)(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[r+i]).then(e=>Bf(e,t,r))}}return e.\u0275fac=function(t){return new(t||e)(Yn(df),Yn(qf,8))},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e})();function Bf(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const $f=function(e){return null},Hf=Pf(null,"core",[{provide:Xd,useValue:"unknown"},{provide:Mf,deps:[Mo]},{provide:Tf,deps:[]},{provide:tf,deps:[]}]),Gf=[{provide:Uf,useClass:Uf,deps:[gf,Mo,mi,Gl,Kd]},{provide:Bh,deps:[gf],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:Kd,useClass:Kd,deps:[[new tr,Gd]]},{provide:df,useClass:df,deps:[]},Yd,{provide:mh,useFactory:function(){return Sh},deps:[]},{provide:vh,useFactory:function(){return Ch},deps:[]},{provide:nf,useFactory:function(e){return Fc(e=e||"undefined"!=typeof $localize&&$localize.locale||Dc),e},deps:[[new er(nf),new tr,new rr]]},{provide:rf,useValue:"USD"}];let Kf=(()=>{class e{constructor(e){}}return e.\u0275fac=function(t){return new(t||e)(Yn(Uf))},e.\u0275mod=se({type:e}),e.\u0275inj=E({providers:Gf}),e})()},9748:(e,t,n)=>{"use strict";n.d(t,{hO:()=>g,xv:()=>h,Dh:()=>l,GT:()=>u,on:()=>d,pX:()=>a});var r=n(7368),i=n(9001),s=n(5271);e=n.hmd(e);const o=["ngOnDestroy"],a=(e,t,n,r={})=>new Proxy(e,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(e[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,e[s]),e[s];if(o.indexOf(s)>-1)return()=>{};const a=t.toPromise().then(e=>{const t=e&&e[s];return"function"==typeof t?t.bind(e):t&&t.then?t.then(e=>n.run(()=>e)):n.run(()=>t)});return new Proxy(()=>{},{get:(e,t)=>a[t],apply:(e,t,n)=>a.then(e=>{var t;const i=e&&e(...n);return(null===(t=null==r?void 0:r.spy)||void 0===t?void 0:t.apply)&&r.spy.apply(s,n,i),i})})})}),u=(e,t)=>{t.forEach(t=>{Object.getOwnPropertyNames(t.prototype||t).forEach(n=>{Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t.prototype||t,n))})})};class c{constructor(e){return e}}const l=new r.OlP("angularfire2.app.options"),h=new r.OlP("angularfire2.app.name");function d(t,n,r){const s="object"==typeof r&&r||{};s.name=s.name||"string"==typeof r&&r||"[DEFAULT]";const o=i.Z.apps.filter(e=>e&&e.name===s.name)[0]||n.runOutsideAngular(()=>i.Z.initializeApp(t,s));try{JSON.stringify(t)!==JSON.stringify(o.options)&&f("error",`${o.name} Firebase App already initialized with different options${e.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(a){}return new c(o)}const f=(e,...t)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[e](...t)},p={provide:c,useFactory:d,deps:[l,r.R0b,[new r.FiY,h]]};let g=(()=>{class e{constructor(e){i.Z.registerVersion("angularfire",s.q4.full,"core"),i.Z.registerVersion("angularfire",s.q4.full,"app-compat"),i.Z.registerVersion("angular",r.q4F.full,e.toString())}static initializeApp(t,n){return{ngModule:e,providers:[{provide:l,useValue:t},{provide:h,useValue:n}]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.Lbi))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[p]}),e})()},5271:(e,t,n)=>{"use strict";n.d(t,{q4:()=>c,iC:()=>_,f6:()=>v,HU:()=>m,cc:()=>d});var r=n(7368);(0,n(7092).registerVersion)("firebase","9.0.1","app");var i=n(8489),s=n(8569),o=n(6599),a=n(9098),u=n(4187);e=n.hmd(e);const c=new r.GfV("7.0.3"),l=!!e.hot,h=(e,...t)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[e](...t)};function d(e,t,n,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(t=>t[0]===e)||[];if(s)return function(e,t){try{return e.toString()===t.toString()}catch(n){return e===t}}(i,o)||(h("error",`${t} was already initialized on the ${n} Firebase App with different settings.${l?" You may need to reload as Firebase is not HMR aware.":""}`),h("warn",{is:i,was:o})),s;{const t=r();return globalThis.\u0275AngularfireInstanceCache.push([e,t,i]),t}}function f(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class p{constructor(e,t=i.N){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,n){const r=this.zone;return this.delegate.schedule(function(t){r.runGuarded(()=>{e.apply(this,[t])})},t,n)}}class g{constructor(e){this.zone=e,this.task=null}call(e,t){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",f,{},f,f)),t.pipe((0,o.b)({next:n,complete:n,error:n})).subscribe(e).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let m=(()=>{class e{constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new p(Zone.current)),this.insideAngular=e.run(()=>new p(Zone.current,s.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.R0b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function y(){const e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error("AngularFireModule has not been provided");return e}function v(e){return e.pipe((0,a.QV)(y().insideAngular))}function _(e){return y(),(t=y(),function(e){return(e=e.lift(new g(t.ngZone))).pipe((0,u.R)(t.outsideAngular),(0,a.QV)(t.insideAngular))})(e);var t}},1462:(e,t,n)=>{"use strict";n.d(t,{Fj:()=>m,qu:()=>xe,u:()=>Te,sg:()=>be,u5:()=>Ae,JJ:()=>q,JL:()=>Z,On:()=>pe,wV:()=>ye,UX:()=>ke,Q7:()=>Se,kI:()=>I,_Y:()=>ge});var r=n(7368),i=n(1116),s=n(8318),o=n(8470),a=n(9996),u=n(2056),c=n(9764);function l(e,t){return new s.y(n=>{const r=e.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const u=(0,c.D)(e[a]);let l=!1;n.add(u.subscribe({next:e=>{l||(l=!0,o++),i[a]=e},error:e=>n.error(e),complete:()=>{s++,s!==r&&l||(o===r&&n.next(t?t.reduce((e,t,n)=>(e[t]=i[n],e),{}):i),n.complete())}}))}})}let h=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}setProperty(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Qsj),r.Y36(r.SBq))},e.\u0275dir=r.lG2({type:e}),e})(),d=(()=>{class e extends h{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,features:[r.qOj]}),e})();const f=new r.OlP("NgValueAccessor"),p={provide:f,useExisting:(0,r.Gpc)(()=>m),multi:!0},g=new r.OlP("CompositionEventMode");let m=(()=>{class e extends h{constructor(e,t,n){super(e,t),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=(0,i.q)()?(0,i.q)().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(g,8))},e.\u0275dir=r.lG2({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&r.NdJ("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[r._Bn([p]),r.qOj]}),e})();function y(e){return null==e||0===e.length}function v(e){return null!=e&&"number"==typeof e.length}const _=new r.OlP("NgValidators"),w=new r.OlP("NgAsyncValidators"),b=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class I{static min(e){return function(e){return t=>{if(y(t.value)||y(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}(e)}static max(e){return function(e){return t=>{if(y(t.value)||y(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}(e)}static required(e){return T(e)}static requiredTrue(e){return function(e){return!0===e.value?null:{required:!0}}(e)}static email(e){return function(e){return y(e.value)||b.test(e.value)?null:{email:!0}}(e)}static minLength(e){return function(e){return t=>y(t.value)||!v(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(e)}static maxLength(e){return function(e){return t=>v(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}(e)}static pattern(e){return function(e){if(!e)return E;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),e=>{if(y(e.value))return null;const r=e.value;return t.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return N(e)}static composeAsync(e){return D(e)}}function T(e){return y(e.value)?{required:!0}:null}function E(e){return null}function S(e){return null!=e}function C(e){const t=(0,r.QGY)(e)?(0,c.D)(e):e;return(0,r.CqO)(t),t}function A(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function k(e,t){return t.map(t=>t(e))}function x(e){return e.map(e=>function(e){return!e.validate}(e)?e:t=>e.validate(t))}function N(e){if(!e)return null;const t=e.filter(S);return 0==t.length?null:function(e){return A(k(e,t))}}function O(e){return null!=e?N(x(e)):null}function D(e){if(!e)return null;const t=e.filter(S);return 0==t.length?null:function(e){return function(...e){if(1===e.length){const t=e[0];if((0,o.k)(t))return l(t,null);if((0,u.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return l(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return l(e=1===e.length&&(0,o.k)(e[0])?e[0]:e,null).pipe((0,a.U)(e=>t(...e)))}return l(e,null)}(k(e,t).map(C)).pipe((0,a.U)(A))}}function R(e){return null!=e?D(x(e)):null}function P(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function L(e){return e._rawValidators}function M(e){return e._rawAsyncValidators}let F=(()=>{class e{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=O(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=R(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e}),e})(),U=(()=>{class e extends F{get formDirective(){return null}get path(){return null}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,features:[r.qOj]}),e})();class V extends F{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class j{constructor(e){this._cd=e}is(e){var t,n;return!!(null===(n=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===n?void 0:n[e])}}let q=(()=>{class e extends j{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(V,2))},e.\u0275dir=r.lG2({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&r.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[r.qOj]}),e})(),Z=(()=>{class e extends j{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(U,10))},e.\u0275dir=r.lG2({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(e,t){2&e&&r.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[r.qOj]}),e})();function z(e,t){return[...t.path,e]}function B(e,t){G(e,t),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&W(e,t)})}(e,t),function(e,t){const n=(e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&W(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){const n=e=>{t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function $(e,t,n=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),K(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function H(e,t){e.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function G(e,t){const n=L(e);null!==t.validator?e.setValidators(P(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=M(e);null!==t.asyncValidator?e.setAsyncValidators(P(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();H(t._rawValidators,i),H(t._rawAsyncValidators,i)}function K(e,t){let n=!1;if(null!==e){if(null!==t.validator){const r=L(e);if(Array.isArray(r)&&r.length>0){const i=r.filter(e=>e!==t.validator);i.length!==r.length&&(n=!0,e.setValidators(i))}}if(null!==t.asyncValidator){const r=M(e);if(Array.isArray(r)&&r.length>0){const i=r.filter(e=>e!==t.asyncValidator);i.length!==r.length&&(n=!0,e.setAsyncValidators(i))}}}const r=()=>{};return H(t._rawValidators,r),H(t._rawAsyncValidators,r),n}function W(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Y(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}function Q(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(e=>{e.constructor===m?n=e:Object.getPrototypeOf(e.constructor)===d?r=e:i=e}),i||r||n||null}function J(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const X="VALID",ee="INVALID",te="PENDING",ne="DISABLED";function re(e){return(ae(e)?e.validators:e)||null}function ie(e){return Array.isArray(e)?O(e):e||null}function se(e,t){return(ae(t)?t.asyncValidators:e)||null}function oe(e){return Array.isArray(e)?R(e):e||null}function ae(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class ue{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=ie(this._rawValidators),this._composedAsyncValidatorFn=oe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===X}get invalid(){return this.status===ee}get pending(){return this.status==te}get disabled(){return this.status===ne}get enabled(){return this.status!==ne}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=ie(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=oe(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=te,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ne,this.errors=null,this._forEachChild(t=>{t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=X,this._forEachChild(t=>{t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==X&&this.status!==te||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ne:X}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=te,this._hasOwnPendingAsyncValidator=!0;const t=C(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;let r=e;return t.forEach(e=>{r=r instanceof le?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof he&&r.at(e)||null}),r}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?ne:this.errors?ee:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(te)?te:this._anyControlsHaveStatus(ee)?ee:X}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ae(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ce extends ue{constructor(e=null,t,n){super(re(t),se(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){J(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){J(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class le extends ue{constructor(e,t,n){super(re(t),se(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,n={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof ce?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const n=this.controls[t];n&&e(n,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const n=this.controls[t];if(this.contains(t)&&e(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,r)=>{n=t(n,e,r)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class he extends ue{constructor(e,t,n){super(re(t),se(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,n={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof ce?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const de={provide:V,useExisting:(0,r.Gpc)(()=>pe)},fe=(()=>Promise.resolve(null))();let pe=(()=>{class e extends V{constructor(e,t,n,i){super(),this.control=new ce,this._registered=!1,this.update=new r.vpe,this._parent=e,this._setValidators(t),this._setAsyncValidators(n),this.valueAccessor=Q(0,i)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),Y(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?z(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){B(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){fe.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,n=""===t||t&&"false"!==t;fe.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(U,9),r.Y36(_,10),r.Y36(w,10),r.Y36(f,10))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r._Bn([de]),r.qOj,r.TTD]}),e})(),ge=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})();const me={provide:f,useExisting:(0,r.Gpc)(()=>ye),multi:!0};let ye=(()=>{class e extends d{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&r.NdJ("input",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},features:[r._Bn([me]),r.qOj]}),e})(),ve=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();const _e=new r.OlP("NgModelWithFormControlWarning"),we={provide:U,useExisting:(0,r.Gpc)(()=>be)};let be=(()=>{class e extends U{constructor(e,t){super(),this.validators=e,this.asyncValidators=t,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.vpe,this._setValidators(e),this._setAsyncValidators(t)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(K(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const t=this.form.get(e.path);return B(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){$(e.control||null,e,!1),J(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this.submitted=!0,t=this.directives,this.form._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}),this.ngSubmit.emit(e),!1;var t}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const t=e.control,n=this.form.get(e.path);t!==n&&($(t||null,e),n instanceof ce&&(B(n,e),e.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const t=this.form.get(e.path);(function(e,t){G(e,t)})(t,e),t.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const t=this.form.get(e.path);t&&function(e,t){return K(e,t)}(t,e)&&t.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){G(this.form,this),this._oldForm&&K(this._oldForm,this)}_checkFormPresent(){}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(_,10),r.Y36(w,10))},e.\u0275dir=r.lG2({type:e,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&r.NdJ("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([we]),r.qOj,r.TTD]}),e})();const Ie={provide:V,useExisting:(0,r.Gpc)(()=>Te)};let Te=(()=>{class e extends V{constructor(e,t,n,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new r.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(t),this._setAsyncValidators(n),this.valueAccessor=Q(0,i)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),Y(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return z(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(U,13),r.Y36(_,10),r.Y36(w,10),r.Y36(f,10),r.Y36(_e,8))},e.\u0275dir=r.lG2({type:e,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r._Bn([Ie]),r.qOj,r.TTD]}),e._ngModelWarningSentOnce=!1,e})();const Ee={provide:_,useExisting:(0,r.Gpc)(()=>Se),multi:!0};let Se=(()=>{class e{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?T(e):null}registerOnValidatorChange(e){this._onChange=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,t){2&e&&r.uIk("required",t.required?"":null)},inputs:{required:"required"},features:[r._Bn([Ee])]}),e})(),Ce=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[ve]]}),e})(),Ae=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[Ce]}),e})(),ke=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:_e,useValue:t.warnOnNgModelWithFormControl}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[Ce]}),e})(),xe=(()=>{class e{group(e,t=null){const n=this._reduceControls(e);let r,i=null,s=null;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(i=null!=t.validators?t.validators:null,s=null!=t.asyncValidators?t.asyncValidators:null,r=null!=t.updateOn?t.updateOn:void 0):(i=null!=t.validator?t.validator:null,s=null!=t.asyncValidator?t.asyncValidator:null)),new le(n,{asyncValidators:s,updateOn:r,validators:i})}control(e,t,n){return new ce(e,t,n)}array(e,t,n){const r=e.map(e=>this._createControl(e));return new he(r,t,n)}_reduceControls(e){const t={};return Object.keys(e).forEach(n=>{t[n]=this._createControl(e[n])}),t}_createControl(e){return e instanceof ce||e instanceof le||e instanceof he?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:function(){return new e},token:e,providedIn:ke}),e})()},806:(e,t,n)=>{"use strict";n.d(t,{gz:()=>ot,F0:()=>xn,rH:()=>Nn,yS:()=>On,Bz:()=>zn,lC:()=>Rn});var r=n(1116),i=n(7368),s=n(5959),o=n(3895);class a extends s.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.N;return this._value}next(e){super.next(this._value=e)}}var u=n(6163),c=n(8470),l=n(6673);class h extends l.L{notifyNext(e,t,n,r,i){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class d extends l.L{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var f=n(6015),p=n(8318);function g(e,t,n,r,i=new d(e,n,r)){if(!i.closed)return t instanceof p.y?t.subscribe(i):(0,f.s)(t)(i)}var m=n(9342);const y={};class v{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new _(e,this.resultSelector))}}class _ extends h{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(y),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++)this.add(g(this,e[n],void 0,n))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n){const r=this.values,i=this.toRespond?r[n]===y?--this.toRespond:this.toRespond:0;r[n]=t,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}var w=n(9764),b=n(653);function I(e){return new p.y(t=>{let n;try{n=e()}catch(r){return void t.error(r)}return(n?(0,w.D)(n):(0,b.c)()).subscribe(t)})}var T=n(878),E=n(9665),S=n(7930),C=n(2875),A=n(6882);function k(e){return function(t){const n=new x(e),r=t.lift(n);return n.caught=r}}class x{constructor(e){this.selector=e}call(e,t){return t.subscribe(new N(e,this.selector,this.caught))}}class N extends A.Ds{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const r=new A.IY(this);this.add(r);const i=(0,A.ft)(n,r);i!==r&&this.add(i)}}}var O=n(3982);function D(e,t){return(0,O.zg)(e,t,1)}var R=n(3835),P=n(8402);function L(e){return function(t){return 0===e?(0,b.c)():t.lift(new M(e))}}class M{constructor(e){if(this.total=e,this.total<0)throw new P.W}call(e,t){return t.subscribe(new F(e,this.total))}}class F extends l.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=t++%n;e.next(r[i])}}e.complete()}}var U=n(790),V=n(7768),j=n(3392),q=n(7570);class Z{constructor(e){this.callback=e}call(e,t){return t.subscribe(new z(e,this.callback))}}class z extends l.L{constructor(e,t){super(e),this.add(new q.w(t))}}var B=n(9996),$=n(4689),H=n(611),G=n(6238),K=n(2023),W=n(3530),Y=n(6599),Q=n(1564),J=n(7471);class X{constructor(e,t){this.id=e,this.url=t}}class ee extends X{constructor(e,t,n="imperative",r=null){super(e,t),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class te extends X{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ne extends X{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class re extends X{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ie extends X{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class se extends X{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oe extends X{constructor(e,t,n,r,i){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ae extends X{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ue extends X{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ce{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class le{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class he{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class de{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fe{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pe{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ge{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const me="primary";class ye{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ve(e){return new ye(e)}function _e(e){const t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function we(e,t,n){const r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const t=r[s],n=e[s];if(t.startsWith(":"))i[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function be(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Ie(e[i],t[i]))return!1;return!0}function Ie(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((e,t)=>r[t]===e)}return e===t}function Te(e){return Array.prototype.concat.apply([],e)}function Ee(e){return e.length>0?e[e.length-1]:null}function Se(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Ce(e){return(0,i.CqO)(e)?e:(0,i.QGY)(e)?(0,w.D)(Promise.resolve(e)):(0,T.of)(e)}const Ae={exact:function e(t,n,r){if(!Me(t.segments,n.segments))return!1;if(!De(t.segments,n.segments,r))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!t.children[i])return!1;if(!e(t.children[i],n.children[i],r))return!1}return!0},subset:Ne},ke={exact:function(e,t){return be(e,t)},subset:function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Ie(e[n],t[n]))},ignored:()=>!0};function xe(e,t,n){return Ae[n.paths](e.root,t.root,n.matrixParams)&&ke[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function Ne(e,t,n){return Oe(e,t,t.segments,n)}function Oe(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!!Me(i,n)&&!t.hasChildren()&&!!De(i,n,r)}if(e.segments.length===n.length){if(!Me(e.segments,n))return!1;if(!De(e.segments,n,r))return!1;for(const n in t.children){if(!e.children[n])return!1;if(!Ne(e.children[n],t.children[n],r))return!1}return!0}{const i=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!Me(e.segments,i)&&!!De(e.segments,i,r)&&!!e.children.primary&&Oe(e.children.primary,t,s,r)}}function De(e,t,n){return t.every((t,r)=>ke[n](e[r].parameters,t.parameters))}class Re{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ve(this.queryParams)),this._queryParamMap}toString(){return Ve.serialize(this)}}class Pe{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Se(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return je(this)}}class Le{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ve(this.parameters)),this._parameterMap}toString(){return Ge(this)}}function Me(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}class Fe{}class Ue{parse(e){const t=new Je(e);return new Re(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var t;return`/${qe(e.root,!0)}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${ze(t)}=${ze(e)}`).join("&"):`${ze(t)}=${ze(n)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const Ve=new Ue;function je(e){return e.segments.map(e=>Ge(e)).join("/")}function qe(e,t){if(!e.hasChildren())return je(e);if(t){const t=e.children.primary?qe(e.children.primary,!1):"",n=[];return Se(e.children,(e,t)=>{t!==me&&n.push(`${t}:${qe(e,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}{const t=function(e,t){let n=[];return Se(e.children,(e,r)=>{r===me&&(n=n.concat(t(e,r)))}),Se(e.children,(e,r)=>{r!==me&&(n=n.concat(t(e,r)))}),n}(e,(t,n)=>n===me?[qe(e.children.primary,!1)]:[`${n}:${qe(t,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${je(e)}/${t[0]}`:`${je(e)}/(${t.join("//")})`}}function Ze(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ze(e){return Ze(e).replace(/%3B/gi,";")}function Be(e){return Ze(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $e(e){return decodeURIComponent(e)}function He(e){return $e(e.replace(/\+/g,"%20"))}function Ge(e){return`${Be(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${Be(e)}=${Be(t[e])}`).join("")}`;var t}const Ke=/^[^\/()?;=#]+/;function We(e){const t=e.match(Ke);return t?t[0]:""}const Ye=/^[^=?&#]+/,Qe=/^[^?&#]+/;class Je{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pe([],{}):new Pe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new Pe(e,t)),n}parseSegment(){const e=We(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Le($e(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=We(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=We(this.remaining);e&&(n=e,this.capture(n))}e[$e(t)]=$e(n)}parseQueryParam(e){const t=function(e){const t=e.match(Ye);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(Qe);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const r=He(t),i=He(n);if(e.hasOwnProperty(r)){let t=e[r];Array.isArray(t)||(t=[t],e[r]=t),t.push(i)}else e[r]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=We(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=me);const s=this.parseChildren();t[i]=1===Object.keys(s).length?s.primary:new Pe([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Xe{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=et(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=et(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=tt(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return tt(e,this._root).map(e=>e.value)}}function et(e,t){if(e===t.value)return t;for(const n of t.children){const t=et(e,n);if(t)return t}return null}function tt(e,t){if(e===t.value)return[t];for(const n of t.children){const r=tt(e,n);if(r.length)return r.unshift(t),r}return[]}class nt{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function rt(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class it extends Xe{constructor(e,t){super(e),this.snapshot=t,lt(this,e)}toString(){return this.snapshot.toString()}}function st(e,t){const n=function(e,t){const n=new ut([],{},{},"",{},me,t,null,e.root,-1,{});return new ct("",new nt(n,[]))}(e,t),r=new a([new Le("",{})]),i=new a({}),s=new a({}),o=new a({}),u=new a(""),c=new ot(r,i,o,u,s,me,t,n.root);return c.snapshot=n.root,new it(new nt(c,[]),n)}class ot{constructor(e,t,n,r,i,s,o,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,B.U)(e=>ve(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,B.U)(e=>ve(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function at(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const e=n[r],t=n[r-1];if(e.routeConfig&&""===e.routeConfig.path)r--;else{if(t.component)break;r--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class ut{constructor(e,t,n,r,i,s,o,a,u,c,l){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ve(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ve(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ct extends Xe{constructor(e,t){super(t),this.url=e,lt(this,t)}toString(){return ht(this._root)}}function lt(e,t){t.value._routerState=e,t.children.forEach(t=>lt(e,t))}function ht(e){const t=e.children.length>0?` { ${e.children.map(ht).join(", ")} } `:"";return`${e.value}${t}`}function dt(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,be(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),be(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!be(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),be(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function ft(e,t){var n,r;return be(e.params,t.params)&&Me(n=e.url,r=t.url)&&n.every((e,t)=>be(e.parameters,r[t].parameters))&&!(!e.parent!=!t.parent)&&(!e.parent||ft(e.parent,t.parent))}function pt(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function(e,t,n){return t.children.map(t=>{for(const r of n.children)if(e.shouldReuseRoute(t.value,r.value.snapshot))return pt(e,t,r);return pt(e,t)})}(e,t,n);return new nt(r,i)}{if(e.shouldAttach(t.value)){const n=e.retrieve(t.value);if(null!==n){const e=n.route;return gt(t,e),e}}const n=new ot(new a((r=t.value).url),new a(r.params),new a(r.queryParams),new a(r.fragment),new a(r.data),r.outlet,r.component,r),i=t.children.map(t=>pt(e,t));return new nt(n,i)}var r}function gt(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(let n=0;n<e.children.length;++n)gt(e.children[n],t.children[n])}function mt(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function yt(e){return"object"==typeof e&&null!=e&&e.outlets}function vt(e,t,n,r,i){let s={};return r&&Se(r,(e,t)=>{s[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),new Re(n.root===e?t:_t(n.root,e,t),s,i)}function _t(e,t,n){const r={};return Se(e.children,(e,i)=>{r[i]=e===t?n:_t(e,t,n)}),new Pe(e.segments,r)}class wt{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&mt(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(yt);if(r&&r!==Ee(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class bt{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function It(e,t,n){if(e||(e=new Pe([],{})),0===e.segments.length&&e.hasChildren())return Tt(e,t,n);const r=function(e,t,n){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return s;const t=e.segments[i],o=n[r];if(yt(o))break;const a=`${o}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!At(a,u,t))return s;r+=2}else{if(!At(a,{},t))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const t=new Pe(e.segments.slice(0,r.pathIndex),{});return t.children.primary=new Pe(e.segments.slice(r.pathIndex),e.children),Tt(t,0,i)}return r.match&&0===i.length?new Pe(e.segments,{}):r.match&&!e.hasChildren()?Et(e,t,n):r.match?Tt(e,0,i):Et(e,t,n)}function Tt(e,t,n){if(0===n.length)return new Pe(e.segments,{});{const r=function(e){return yt(e[0])?e[0].outlets:{[me]:e}}(n),i={};return Se(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=It(e.children[r],t,n))}),Se(e.children,(e,t)=>{void 0===r[t]&&(i[t]=e)}),new Pe(e.segments,i)}}function Et(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const s=n[i];if(yt(s)){const e=St(s.outlets);return new Pe(r,e)}if(0===i&&mt(n[0])){r.push(new Le(e.segments[t].path,Ct(n[0]))),i++;continue}const o=yt(s)?s.outlets.primary:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&mt(a)?(r.push(new Le(o,Ct(a))),i+=2):(r.push(new Le(o,{})),i++)}return new Pe(r,{})}function St(e){const t={};return Se(e,(e,n)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[n]=Et(new Pe([],{}),0,e))}),t}function Ct(e){const t={};return Se(e,(e,n)=>t[n]=`${e}`),t}function At(e,t,n){return e==n.path&&be(t,n.parameters)}class kt{constructor(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),dt(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const r=rt(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,r[t],n),delete r[t]}),Se(r,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(e,t,i.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:r})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,i=rt(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(e,t,n){const r=rt(t);e.children.forEach(e=>{this.activateRoutes(e,r[e.value.outlet],n),this.forwardEvent(new pe(e.value.snapshot))}),e.children.length&&this.forwardEvent(new de(e.value.snapshot))}activateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(dt(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,i.children)}else this.activateChildRoutes(e,t,n);else if(r.component){const t=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const e=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),xt(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=r,t.resolver=i,t.outlet&&t.outlet.activateWith(r,i),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function xt(e){dt(e.value),e.children.forEach(xt)}class Nt{constructor(e,t){this.routes=e,this.module=t}}function Ot(e){return"function"==typeof e}function Dt(e){return e instanceof Re}const Rt=Symbol("INITIAL_VALUE");function Pt(){return(0,$.w)(e=>function(...e){let t,n;return(0,u.K)(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&(0,c.k)(e[0])&&(e=e[0]),(0,m.n)(e,n).lift(new v(t))}(e.map(e=>e.pipe((0,H.q)(1),(0,G.O)(Rt)))).pipe((0,K.R)((e,t)=>{let n=!1;return t.reduce((e,r,i)=>{if(e!==Rt)return e;if(r===Rt&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||Dt(r))return r}return e},e)},Rt),(0,R.h)(e=>e!==Rt),(0,B.U)(e=>Dt(e)?e:!0===e),(0,H.q)(1)))}let Lt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&i._UZ(0,"router-outlet")},directives:function(){return[Rn]},encapsulation:2}),e})();function Mt(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];Ft(r,Ut(t,r))}}function Ft(e,t){e.children&&Mt(e.children,t)}function Ut(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function Vt(e){const t=e.children&&e.children.map(Vt),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==me&&(n.component=Lt),n}function jt(e){return e.outlet||me}function qt(e,t){const n=e.filter(e=>jt(e)===t);return n.push(...e.filter(e=>jt(e)!==t)),n}const Zt={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function zt(e,t,n){var r;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},Zt):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(t.matcher||we)(n,e,t);if(!i)return Object.assign({},Zt);const s={};Se(i.posParams,(e,t)=>{s[t]=e.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Bt(e,t,n,r,i="corrected"){if(n.length>0&&function(e,t,n){return n.some(n=>$t(e,t,n)&&jt(n)!==me)}(e,n,r)){const i=new Pe(t,function(e,t,n,r){const i={};i.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const s of n)if(""===s.path&&jt(s)!==me){const n=new Pe([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,i[jt(s)]=n}return i}(e,t,r,new Pe(n,e.children)));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>$t(e,t,n))}(e,n,r)){const s=new Pe(e.segments,function(e,t,n,r,i,s){const o={};for(const a of r)if($t(e,n,a)&&!i[jt(a)]){const n=new Pe([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===s?e.segments.length:t.length,o[jt(a)]=n}return Object.assign(Object.assign({},i),o)}(e,t,n,r,e.children,i));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}const s=new Pe(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function $t(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function Ht(e,t,n,r){return!!(jt(e)===r||r!==me&&$t(t,n,e))&&("**"===e.path||zt(t,e,n).matched)}function Gt(e,t,n){return 0===t.length&&!e.children[n]}class Kt{constructor(e){this.segmentGroup=e||null}}class Wt{constructor(e){this.urlTree=e}}function Yt(e){return new p.y(t=>t.error(new Kt(e)))}function Qt(e){return new p.y(t=>t.error(new Wt(e)))}function Jt(e){return new p.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class Xt{constructor(e,t,n,r,s){this.configLoader=t,this.urlSerializer=n,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(i.h0i)}apply(){const e=Bt(this.urlTree.root,[],[],this.config).segmentGroup,t=new Pe(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,me).pipe((0,B.U)(e=>this.createUrlTree(en(e),this.urlTree.queryParams,this.urlTree.fragment))).pipe(k(e=>{if(e instanceof Wt)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof Kt)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,me).pipe((0,B.U)(t=>this.createUrlTree(en(t),e.queryParams,e.fragment))).pipe(k(e=>{if(e instanceof Kt)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const r=e.segments.length>0?new Pe([],{[me]:e}):e;return new Re(r,t,n)}expandSegmentGroup(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe((0,B.U)(e=>new Pe([],e))):this.expandSegment(e,n,t,n.segments,r,!0)}expandChildren(e,t,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return(0,w.D)(r).pipe(D(r=>{const i=n.children[r],s=qt(t,r);return this.expandSegmentGroup(e,s,i,r).pipe((0,B.U)(e=>({segment:e,outlet:r})))}),(0,K.R)((e,t)=>(e[t.outlet]=t.segment,e),{}),function(e,t){const n=arguments.length>=2;return r=>r.pipe(e?(0,R.h)((t,n)=>e(t,n,r)):j.y,L(1),n?(0,V.d)(t):(0,U.T)(()=>new E.K))}())}expandSegment(e,t,n,r,i,s){return(0,w.D)(n).pipe(D(o=>this.expandSegmentAgainstRoute(e,t,n,o,r,i,s).pipe(k(e=>{if(e instanceof Kt)return(0,T.of)(null);throw e}))),(0,W.P)(e=>!!e),k((e,n)=>{if(e instanceof E.K||"EmptyError"===e.name){if(Gt(t,r,i))return(0,T.of)(new Pe([],{}));throw new Kt(t)}throw e}))}expandSegmentAgainstRoute(e,t,n,r,i,s,o){return Ht(r,t,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s):Yt(t):Yt(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Qt(i):this.lineralizeSegments(n,i).pipe((0,O.zg)(n=>{const i=new Pe(n,{});return this.expandSegment(e,i,t,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=zt(t,r,i);if(!o)return Yt(t);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Qt(l):this.lineralizeSegments(r,l).pipe((0,O.zg)(r=>this.expandSegment(e,t,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(e,t,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,T.of)(n._loadedConfig):this.configLoader.load(e.injector,n)).pipe((0,B.U)(e=>(n._loadedConfig=e,new Pe(r,{})))):(0,T.of)(new Pe(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=zt(t,n,r);if(!s)return Yt(t);const u=r.slice(a);return this.getChildConfig(e,n,r).pipe((0,O.zg)(e=>{const r=e.module,s=e.routes,{segmentGroup:a,slicedSegments:c}=Bt(t,o,u,s),l=new Pe(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,s,l).pipe((0,B.U)(e=>new Pe(o,e)));if(0===s.length&&0===c.length)return(0,T.of)(new Pe(o,{}));const h=jt(n)===i;return this.expandSegment(r,l,s,c,h?me:i,!0).pipe((0,B.U)(e=>new Pe(o.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?(0,T.of)(new Nt(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,T.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe((0,O.zg)(n=>n?this.configLoader.load(e.injector,t).pipe((0,B.U)(e=>(t._loadedConfig=e,e))):function(e){return new p.y(t=>t.error(_e(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):(0,T.of)(new Nt([],e))}runCanLoadGuards(e,t,n){const r=t.canLoad;if(!r||0===r.length)return(0,T.of)(!0);const i=r.map(r=>{const i=e.get(r);let s;if(function(e){return e&&Ot(e.canLoad)}(i))s=i.canLoad(t,n);else{if(!Ot(i))throw new Error("Invalid CanLoad guard");s=i(t,n)}return Ce(s)});return(0,T.of)(i).pipe(Pt(),(0,Y.b)(e=>{if(!Dt(e))return;const t=_e(`Redirecting to "${this.urlSerializer.serialize(e)}"`);throw t.url=e,t}),(0,B.U)(e=>!0===e))}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,T.of)(n);if(r.numberOfChildren>1||!r.children.primary)return Jt(e.redirectTo);r=r.children.primary}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,r){const i=this.createSegmentGroup(e,t.root,n,r);return new Re(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return Se(e,(e,r)=>{if("string"==typeof e&&e.startsWith(":")){const i=e.substring(1);n[r]=t[i]}else n[r]=e}),n}createSegmentGroup(e,t,n,r){const i=this.createSegments(e,t.segments,n,r);let s={};return Se(t.children,(t,i)=>{s[i]=this.createSegmentGroup(e,t,n,r)}),new Pe(i,s)}createSegments(e,t,n,r){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,r):this.findOrReturn(t,n))}findPosParam(e,t,n){const r=n[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let n=0;for(const r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}}function en(e){const t={};for(const n of Object.keys(e.children)){const r=en(e.children[n]);(r.segments.length>0||r.hasChildren())&&(t[n]=r)}return function(e){if(1===e.numberOfChildren&&e.children.primary){const t=e.children.primary;return new Pe(e.segments.concat(t.segments),t.children)}return e}(new Pe(e.segments,t))}class tn{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class nn{constructor(e,t){this.component=e,this.route=t}}function rn(e,t,n){const r=e._root;return on(r,t?t._root:null,n,[r.value])}function sn(e,t,n){const r=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function on(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=rt(t);return e.children.forEach(e=>{!function(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Me(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Me(e.url,t.url)||!be(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ft(e,t)||!be(e.queryParams,t.queryParams);case"paramsChange":default:return!ft(e,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new tn(r)):(s.data=o.data,s._resolvedData=o._resolvedData),on(e,t,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new nn(a.outlet.component,o))}else o&&an(t,a,i),i.canActivateChecks.push(new tn(r)),on(e,null,s.component?a?a.children:null:n,r,i)}(e,s[e.value.outlet],n,r.concat([e.value]),i),delete s[e.value.outlet]}),Se(s,(e,t)=>an(e,n.getContext(t),i)),i}function an(e,t,n){const r=rt(e),i=e.value;Se(r,(e,r)=>{an(e,i.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new nn(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}class un{}function cn(e){return new p.y(t=>t.error(e))}class ln{constructor(e,t,n,r,i,s){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const e=Bt(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,me);if(null===t)return null;const n=new ut([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},me,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new nt(n,t),i=new ct(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(e){const t=e.value,n=at(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=[];for(const i of Object.keys(t.children)){const r=t.children[i],s=qt(e,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=dn(n);return r.sort((e,t)=>e.value.outlet===me?-1:t.value.outlet===me?1:e.value.outlet.localeCompare(t.value.outlet)),r}processSegment(e,t,n,r){for(const i of e){const e=this.processSegmentAgainstRoute(i,t,n,r);if(null!==e)return e}return Gt(t,n,r)?[]:null}processSegmentAgainstRoute(e,t,n,r){if(e.redirectTo||!Ht(e,t,n,r))return null;let i,s=[],o=[];if("**"===e.path){const r=n.length>0?Ee(n).parameters:{};i=new ut(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,gn(e),jt(e),e.component,e,fn(t),pn(t)+n.length,mn(e))}else{const r=zt(t,e,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new ut(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,gn(e),jt(e),e.component,e,fn(t),pn(t)+s.length,mn(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:u,slicedSegments:c}=Bt(t,s,o,a.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const e=this.processChildren(a,u);return null===e?null:[new nt(i,e)]}if(0===a.length&&0===c.length)return[new nt(i,[])];const l=jt(e)===r,h=this.processSegment(a,u,c,l?me:r);return null===h?null:[new nt(i,h)]}}function hn(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function dn(e){const t=[],n=new Set;for(const r of e){if(!hn(r)){t.push(r);continue}const e=t.find(e=>r.value.routeConfig===e.value.routeConfig);void 0!==e?(e.children.push(...r.children),n.add(e)):t.push(r)}for(const r of n){const e=dn(r.children);t.push(new nt(r.value,e))}return t.filter(e=>!n.has(e))}function fn(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function pn(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function gn(e){return e.data||{}}function mn(e){return e.resolve||{}}function yn(e){return(0,$.w)(t=>{const n=e(t);return n?(0,w.D)(n).pipe((0,B.U)(()=>t)):(0,T.of)(t)})}class vn extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const _n=new i.OlP("ROUTES");class wn{constructor(e,t,n,r){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const n=this.loadModuleFactory(t.loadChildren).pipe((0,B.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const r=n.create(e);return new Nt(Te(r.injector.get(_n,void 0,i.XFs.Self|i.XFs.Optional)).map(Vt),r)}),k(e=>{throw t._loader$=void 0,e}));return t._loader$=new C.c(n,()=>new s.xQ).pipe((0,Q.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,w.D)(this.loader.load(e)):Ce(e()).pipe((0,O.zg)(e=>e instanceof i.YKP?(0,T.of)(e):(0,w.D)(this.compiler.compileModuleAsync(e))))}}class bn{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new In,this.attachRef=null}}class In{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new bn,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class Tn{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function En(e){throw e}function Sn(e,t,n){return t.parse("/")}function Cn(e,t){return(0,T.of)(null)}const An={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let xn=(()=>{class e{constructor(e,t,n,r,o,u,c,l){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=r,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new s.xQ,this.errorHandler=En,this.malformedUriErrorHandler=Sn,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Cn,afterPreactivation:Cn},this.urlHandlingStrategy=new Tn,this.routeReuseStrategy=new vn,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(i.h0i),this.console=o.get(i.c2e);const h=o.get(i.R0b);this.isNgZoneEnabled=h instanceof i.R0b&&i.R0b.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=new Re(new Pe([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new wn(u,c,e=>this.triggerEvent(new ce(e)),e=>this.triggerEvent(new le(e))),this.routerState=st(this.currentUrlTree,this.rootComponentType),this.transitions=new a({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe((0,R.h)(e=>0!==e.id),(0,B.U)(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),(0,$.w)(e=>{let n=!1,r=!1;return(0,T.of)(e).pipe((0,Y.b)(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,$.w)(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return(0,T.of)(e).pipe((0,$.w)(e=>{const n=this.transitions.getValue();return t.next(new ee(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?b.E:Promise.resolve(e)}),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,(0,$.w)(e=>function(e,t,n,r,i){return new Xt(e,t,n,r,i).apply()}(r,i,s,e.extractedUrl,o).pipe((0,B.U)(t=>Object.assign(Object.assign({},e),{urlAfterRedirects:t}))))),(0,Y.b)(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,t,n,r,i){return(0,O.zg)(s=>function(e,t,n,r,i="emptyOnly",s="legacy"){try{const o=new ln(e,t,n,r,i,s).recognize();return null===o?cn(new un):(0,T.of)(o)}catch(o){return cn(o)}}(e,t,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe((0,B.U)(e=>Object.assign(Object.assign({},s),{targetSnapshot:e}))))}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Y.b)(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,e),this.browserUrlTree=e.urlAfterRedirects);const n=new ie(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=e,a=new ee(n,this.serializeUrl(r),i,s);t.next(a);const u=st(r,this.rootComponentType).snapshot;return(0,T.of)(Object.assign(Object.assign({},e),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),b.E}),yn(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),(0,Y.b)(e=>{const t=new se(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(0,B.U)(e=>Object.assign(Object.assign({},e),{guards:rn(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return(0,O.zg)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?(0,T.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return(0,w.D)(e).pipe((0,O.zg)(e=>function(e,t,n,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,T.of)(!0);const o=s.map(s=>{const o=sn(s,t,i);let a;if(function(e){return e&&Ot(e.canDeactivate)}(o))a=Ce(o.canDeactivate(e,t,n,r));else{if(!Ot(o))throw new Error("Invalid CanDeactivate guard");a=Ce(o(e,t,n,r))}return a.pipe((0,W.P)())});return(0,T.of)(o).pipe(Pt())}(e.component,e.route,n,t,r)),(0,W.P)(e=>!0!==e,!0))}(o,r,i,e).pipe((0,O.zg)(n=>n&&"boolean"==typeof n?function(e,t,n,r){return(0,w.D)(t).pipe(D(t=>(0,S.z)(function(e,t){return null!==e&&t&&t(new he(e)),(0,T.of)(!0)}(t.route.parent,r),function(e,t){return null!==e&&t&&t(new fe(e)),(0,T.of)(!0)}(t.route,r),function(e,t,n){const r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>I(()=>{const i=t.guards.map(i=>{const s=sn(i,t.node,n);let o;if(function(e){return e&&Ot(e.canActivateChild)}(s))o=Ce(s.canActivateChild(r,e));else{if(!Ot(s))throw new Error("Invalid CanActivateChild guard");o=Ce(s(r,e))}return o.pipe((0,W.P)())});return(0,T.of)(i).pipe(Pt())}));return(0,T.of)(i).pipe(Pt())}(e,t.path,n),function(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return(0,T.of)(!0);const i=r.map(r=>I(()=>{const i=sn(r,t,n);let s;if(function(e){return e&&Ot(e.canActivate)}(i))s=Ce(i.canActivate(t,e));else{if(!Ot(i))throw new Error("Invalid CanActivate guard");s=Ce(i(t,e))}return s.pipe((0,W.P)())}));return(0,T.of)(i).pipe(Pt())}(e,t.route,n))),(0,W.P)(e=>!0!==e,!0))}(r,s,e,t):(0,T.of)(n)),(0,B.U)(e=>Object.assign(Object.assign({},n),{guardsResult:e})))})}(this.ngModule.injector,e=>this.triggerEvent(e)),(0,Y.b)(e=>{if(Dt(e.guardsResult)){const t=_e(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}const t=new oe(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),(0,R.h)(e=>!!e.guardsResult||(this.cancelNavigationTransition(e,""),!1)),yn(e=>{if(e.guards.canActivateChecks.length)return(0,T.of)(e).pipe((0,Y.b)(e=>{const t=new ae(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(0,$.w)(e=>{let t=!1;return(0,T.of)(e).pipe((n=this.paramsInheritanceStrategy,r=this.ngModule.injector,(0,O.zg)(e=>{const{targetSnapshot:t,guards:{canActivateChecks:i}}=e;if(!i.length)return(0,T.of)(e);let s=0;return(0,w.D)(i).pipe(D(e=>function(e,t,n,r){return function(e,t,n,r){const i=Object.keys(e);if(0===i.length)return(0,T.of)({});const s={};return(0,w.D)(i).pipe((0,O.zg)(i=>function(e,t,n,r){const i=sn(e,t,r);return Ce(i.resolve?i.resolve(t,n):i(t,n))}(e[i],t,n,r).pipe((0,Y.b)(e=>{s[i]=e}))),L(1),(0,O.zg)(()=>Object.keys(s).length===i.length?(0,T.of)(s):b.E))}(e._resolve,e,t,r).pipe((0,B.U)(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),at(e,n).resolve),null)))}(e.route,t,n,r)),(0,Y.b)(()=>s++),L(1),(0,O.zg)(t=>s===i.length?(0,T.of)(e):b.E))})),(0,Y.b)({next:()=>t=!0,complete:()=>{t||this.cancelNavigationTransition(e,"At least one route resolver didn't emit any value.")}}));var n,r}),(0,Y.b)(e=>{const t=new ue(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),yn(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),(0,B.U)(e=>{const t=function(e,t,n){const r=pt(e,t._root,n?n._root:void 0);return new it(r,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),(0,Y.b)(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,e),this.browserUrlTree=e.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=e=>this.triggerEvent(e),(0,B.U)(e=>(new kt(o,e.targetRouterState,e.currentRouterState,a).activate(s),e))),(0,Y.b)({next(){n=!0},complete(){n=!0}}),(i=()=>{n||r||this.cancelNavigationTransition(e,`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation=null},e=>e.lift(new Z(i))),k(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Dt(n.url);r||(this.navigated=!0,this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));const i=new ne(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(i),r?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(t,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const r=new re(e.id,this.serializeUrl(e.extractedUrl),n);t.next(r);try{e.resolve(this.errorHandler(n))}catch(s){e.reject(s)}}var i;return b.E}));var i,s,o,a}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const t=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,t)&&setTimeout(()=>{const{source:e,state:n,urlTree:r}=t,i={replaceUrl:!0};if(n){const e=Object.assign({},n);delete e.navigationId,delete e.\u0275routerPageId,0!==Object.keys(e).length&&(i.state=e)}this.scheduleNavigation(r,e,n,i)},0),this.lastLocationChangeInfo=t}))}extractLocationChangeInfoFromEvent(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,t){if(!e)return!0;const n=t.urlTree.toString()===e.urlTree.toString();return!(t.transitionId===e.transitionId&&n&&("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Mt(e),this.config=e.map(Vt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,t={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=t,a=n||this.routerState.root,u=o?this.currentUrlTree.fragment:i;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(e,t,n,r,i){if(0===n.length)return vt(t.root,t.root,t,r,i);const s=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new wt(!0,0,e);let t=0,n=!1;const r=e.reduce((e,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const t={};return Se(r.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(r.segmentPath)return[...e,r.segmentPath]}return"string"!=typeof r?[...e,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[...e,r]},[]);return new wt(n,t,r)}(n);if(s.toRoot())return vt(t.root,new Pe([],{}),t,r,i);const o=function(e,t,n){if(e.isAbsolute)return new bt(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){const e=n.snapshot._urlSegment;return new bt(e,e===t.root,0)}const r=mt(e.commands[0])?0:1;return function(e,t,n){let r=e,i=t,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new bt(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(s,t,e),a=o.processChildren?Tt(o.segmentGroup,o.index,s.commands):It(o.segmentGroup,o.index,s.commands);return vt(o.segmentGroup,a,t,r,i)}(a,this.currentUrlTree,e,c,null!=u?u:null)}navigateByUrl(e,t={skipLocationChange:!1}){const n=Dt(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);let i=null;return"computed"===this.canceledNavigationResolution&&(0===this.currentPageId||t.skipLocationChange||t.replaceUrl)&&(i=this.location.getState()),this.scheduleNavigation(r,"imperative",i,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){let n;if(n=!0===t?Object.assign({},An):!1===t?Object.assign({},kn):t,Dt(e))return xe(this.currentUrlTree,e,n);const r=this.parseUrl(e);return xe(this.currentUrlTree,r,n)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return null!=r&&(t[n]=r),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new te(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,r,i){if(this.disposed)return Promise.resolve(!1);const s=this.getTransition(),o="imperative"!==t&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===e.toString();if(o&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((e,t)=>{u=e,c=t});const h=++this.navigationId;let d;return d="computed"===this.canceledNavigationResolution?n&&n.\u0275routerPageId?n.\u0275routerPageId:this.currentPageId+1:0,this.setTransition({id:h,targetPageId:d,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(e=>Promise.reject(e))}setBrowserUrl(e,t){const n=this.urlSerializer.serialize(e),r=Object.assign(Object.assign({},t.extras.state),this.generateNgRouterState(t.id,t.targetPageId));this.location.isCurrentPathEqualTo(n)||t.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}resetStateAndUrl(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,t){"computed"===this.canceledNavigationResolution?"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy||this.location.historyGo(this.currentPageId-e.targetPageId):this.resetUrlToCurrentUrlTree();const n=new ne(e.id,this.serializeUrl(e.extractedUrl),t);this.triggerEvent(n),e.resolve(!1)}generateNgRouterState(e,t){return"computed"===this.canceledNavigationResolution?{navigationId:e,"\u0275routerPageId":t}:{navigationId:e}}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(i.DyG),i.LFG(Fe),i.LFG(In),i.LFG(r.Ye),i.LFG(i.zs3),i.LFG(i.v3s),i.LFG(i.Sil),i.LFG(void 0))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})(),Nn=(()=>{class e{constructor(e,t,n,r,i){this.router=e,this.route=t,this.commands=[],this.onChanges=new s.xQ,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}onClick(){const e={skipLocationChange:Dn(this.skipLocationChange),replaceUrl:Dn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Dn(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(xn),i.Y36(ot),i.$8M("tabindex"),i.Y36(i.Qsj),i.Y36(i.SBq))},e.\u0275dir=i.lG2({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&i.NdJ("click",function(){return t.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[i.TTD]}),e})(),On=(()=>{class e{constructor(e,t,n){this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.onChanges=new s.xQ,this.subscription=e.events.subscribe(e=>{e instanceof te&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,n,r,i){if(0!==e||t||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:Dn(this.skipLocationChange),replaceUrl:Dn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Dn(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(xn),i.Y36(ot),i.Y36(r.S$))},e.\u0275dir=i.lG2({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&i.NdJ("click",function(e){return t.onClick(e.button,e.ctrlKey,e.shiftKey,e.altKey,e.metaKey)}),2&e&&(i.Ikx("href",t.href,i.LSH),i.uIk("target",t.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[i.TTD]}),e})();function Dn(e){return""===e||!!e}let Rn=(()=>{class e{constructor(e,t,n,r,s){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.vpe,this.deactivateEvents=new i.vpe,this.name=r||me,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Pn(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(In),i.Y36(i.s_b),i.Y36(i._Vd),i.$8M("name"),i.Y36(i.sBO))},e.\u0275dir=i.lG2({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class Pn{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===ot?this.route:e===In?this.childContexts:this.parent.get(e,t)}}class Ln{}class Mn{preload(e,t){return(0,T.of)(null)}}let Fn=(()=>{class e{constructor(e,t,n,r,i){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=new wn(t,n,t=>e.triggerEvent(new ce(t)),t=>e.triggerEvent(new le(t)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,R.h)(e=>e instanceof te),D(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(i.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const r of t)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const e=r._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(e,r)):r.children&&n.push(this.processRoutes(e,r.children));return(0,w.D)(n).pipe((0,J.J)(),(0,B.U)(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>(t._loadedConfig?(0,T.of)(t._loadedConfig):this.loader.load(e.injector,t)).pipe((0,O.zg)(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(xn),i.LFG(i.v3s),i.LFG(i.Sil),i.LFG(i.zs3),i.LFG(Ln))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})(),Un=(()=>{class e{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof ee?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof te&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof ge&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new ge(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(xn),i.LFG(r.EM),i.LFG(void 0))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();const Vn=new i.OlP("ROUTER_CONFIGURATION"),jn=new i.OlP("ROUTER_FORROOT_GUARD"),qn=[r.Ye,{provide:Fe,useClass:Ue},{provide:xn,useFactory:function(e,t,n,r,i,s,o,a={},u,c){const l=new xn(null,e,t,n,r,i,s,Te(o));return u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(a,l),a.enableTracing&&l.events.subscribe(e=>{var t,n;null===(t=console.group)||void 0===t||t.call(console,`Router Event: ${e.constructor.name}`),console.log(e.toString()),console.log(e),null===(n=console.groupEnd)||void 0===n||n.call(console)}),l},deps:[Fe,In,r.Ye,i.zs3,i.v3s,i.Sil,_n,Vn,[class{},new i.FiY],[class{},new i.FiY]]},In,{provide:ot,useFactory:function(e){return e.routerState.root},deps:[xn]},{provide:i.v3s,useClass:i.EAV},Fn,Mn,class{preload(e,t){return t().pipe(k(()=>(0,T.of)(null)))}},{provide:Vn,useValue:{enableTracing:!1}}];function Zn(){return new i.PXZ("Router",xn)}let zn=(()=>{class e{constructor(e,t){}static forRoot(t,n){return{ngModule:e,providers:[qn,Gn(t),{provide:jn,useFactory:Hn,deps:[[xn,new i.FiY,new i.tp0]]},{provide:Vn,useValue:n||{}},{provide:r.S$,useFactory:$n,deps:[r.lw,[new i.tBr(r.mr),new i.FiY],Vn]},{provide:Un,useFactory:Bn,deps:[xn,r.EM,Vn]},{provide:Ln,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Mn},{provide:i.PXZ,multi:!0,useFactory:Zn},[Kn,{provide:i.ip1,multi:!0,useFactory:Wn,deps:[Kn]},{provide:Qn,useFactory:Yn,deps:[Kn]},{provide:i.tb,multi:!0,useExisting:Qn}]]}}static forChild(t){return{ngModule:e,providers:[Gn(t)]}}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(jn,8),i.LFG(xn,8))},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({}),e})();function Bn(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new Un(e,t,n)}function $n(e,t,n={}){return n.useHash?new r.Do(e,t):new r.b0(e,t)}function Hn(e){return"guarded"}function Gn(e){return[{provide:i.deG,multi:!0,useValue:e},{provide:_n,multi:!0,useValue:e}]}let Kn=(()=>{class e{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new s.xQ}appInitializer(){return this.injector.get(r.V_,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),n=this.injector.get(xn),r=this.injector.get(Vn);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),e(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?(0,T.of)(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()):e(!0),t})}bootstrapListener(e){const t=this.injector.get(Vn),n=this.injector.get(Fn),r=this.injector.get(Un),s=this.injector.get(xn),o=this.injector.get(i.z2F);e===o.components[0]&&("enabledNonBlocking"!==t.initialNavigation&&void 0!==t.initialNavigation||s.initialNavigation(),n.setUpPreloading(),r.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(i.zs3))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();function Wn(e){return e.appInitializer.bind(e)}function Yn(e){return e.bootstrapListener.bind(e)}const Qn=new i.OlP("Router Initializer")},1932:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(250),i=n(5119),s=n(7092),o=n(308);class a{constructor(e,t){this._delegate=e,this.firebase=t,(0,s._addComponent)(e,new i.wA("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,s.deleteApp)(this._delegate)))}_getService(e,t=s._DEFAULT_ENTRY_NAME){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=s._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){(0,s._addComponent)(this._delegate,e)}_addOrOverwriteComponent(e){(0,s._addOrOverwriteComponent)(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const u=new r.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),c=function e(){const t=function(e){const t={},n={__esModule:!0,initializeApp:function(i,o={}){const a=s.initializeApp(i,o);if((0,r.r3)(t,a.name))return t[a.name];const u=new e(a,n);return t[a.name]=u,u},app:i,registerVersion:s.registerVersion,setLogLevel:s.setLogLevel,onLog:s.onLog,apps:null,SDK_VERSION:s.SDK_VERSION,INTERNAL:{registerComponent:function(t){const o=t.name,a=o.replace("-compat","");if(s._registerComponent(t)&&"PUBLIC"===t.type){const s=(e=i())=>{if("function"!=typeof e[a])throw u.create("invalid-app-argument",{appName:o});return e[a]()};void 0!==t.serviceProps&&(0,r.ZB)(s,t.serviceProps),n[a]=s,e.prototype[a]=function(...e){return this._getService.bind(this,o).apply(this,t.multipleInstances?e:[])}}return"PUBLIC"===t.type?n[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:s}};function i(e){if(!(0,r.r3)(t,e=e||s._DEFAULT_ENTRY_NAME))throw u.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map(e=>t[e])}}),i.App=e,n}(a);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,r.ZB)(t,e)},createSubscribe:r.ne,ErrorFactory:r.LL,deepExtend:r.ZB}),t}(),l=new o.Yd("@firebase/app-compat");if((0,r.jU)()&&void 0!==self.firebase){l.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&l.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const h=c;(0,s.registerVersion)("@firebase/app-compat","0.1.1",void 0);const d=h},7092:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FirebaseError:()=>o.ZR,SDK_VERSION:()=>I,_DEFAULT_ENTRY_NAME:()=>l,_addComponent:()=>p,_addOrOverwriteComponent:()=>g,_apps:()=>d,_clearComponents:()=>_,_components:()=>f,_getProvider:()=>y,_registerComponent:()=>m,_removeServiceInstance:()=>v,deleteApp:()=>C,getApp:()=>E,getApps:()=>S,initializeApp:()=>T,onLog:()=>x,registerVersion:()=>k,setLogLevel:()=>N});var r=n(6304),i=n(5119),s=n(308),o=n(250);class a{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const u="@firebase/app",c=new s.Yd("@firebase/app"),l="[DEFAULT]",h={[u]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},d=new Map,f=new Map;function p(e,t){try{e.container.addComponent(t)}catch(n){c.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function g(e,t){e.container.addOrOverwriteComponent(t)}function m(e){const t=e.name;if(f.has(t))return c.debug(`There were multiple attempts to register component ${t}.`),!1;f.set(t,e);for(const n of d.values())p(n,e);return!0}function y(e,t){return e.container.getProvider(t)}function v(e,t,n=l){y(e,t).clearInstance(n)}function _(){f.clear()}const w=new o.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class b{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new i.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw w.create("app-deleted",{appName:this._name})}}const I="9.0.0";function T(e,t={}){"object"!=typeof t&&(t={name:t});const n=Object.assign({name:l,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw w.create("bad-app-name",{appName:String(r)});const s=d.get(r);if(s){if((0,o.vZ)(e,s.options)&&(0,o.vZ)(n,s.config))return s;throw w.create("duplicate-app",{appName:r})}const a=new i.H0(r);for(const i of f.values())a.addComponent(i);const u=new b(e,n,a);return d.set(r,u),u}function E(e=l){const t=d.get(e);if(!t)throw w.create("no-app",{appName:e});return t}function S(){return Array.from(d.values())}function C(e){return A.apply(this,arguments)}function A(){return(A=(0,r.Z)(function*(e){const t=e.name;d.has(t)&&(d.delete(t),yield Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)})).apply(this,arguments)}function k(e,t,n){var r;let s=null!==(r=h[e])&&void 0!==r?r:e;n&&(s+=`-${n}`);const o=s.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${s}" with version "${t}":`];return o&&e.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void c.warn(e.join(" "))}m(new i.wA(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}function x(e,t){if(null!==e&&"function"!=typeof e)throw w.create("invalid-log-argument");(0,s.Am)(e,t)}function N(e){(0,s.Ub)(e)}m(new i.wA("platform-logger",e=>new a(e),"PRIVATE")),k(u,"0.7.0",void 0),k("fire-js","")},5119:(e,t,n)=>{"use strict";n.d(t,{wA:()=>s,H0:()=>u});var r=n(4762),i=n(250),s=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),o="[DEFAULT]",a=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.BH;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:o})}catch(h){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=(0,r.CR)(s.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(d){t={error:d}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=o),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,function(){var e;return(0,r.Jh)(this,function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(e.filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()}))),(0,r.CR)(e.filter(function(e){return"_delete"in e}).map(function(e){return e._delete()}))))];case 1:return t.sent(),[2]}})})},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=o),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=o),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.options,s=void 0===i?{}:i,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:s});try{for(var u=(0,r.XA)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=(0,r.CR)(c.value,2),h=l[1];o===this.normalizeInstanceIdentifier(l[0])&&h.resolve(a)}}catch(d){t={error:d}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return a},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var s=this.instances.get(r);return s&&e(s,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,s=this.onInitCallbacks.get(t);if(s)try{for(var o=(0,r.XA)(s),a=o.next();!a.done;a=o.next()){var u=a.value;try{u(e,t)}catch(c){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===o?void 0:t),options:i}),this.instances.set(n,s),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(a){}return s||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=o),this.component?this.component.multipleInstances?e:o:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}(),u=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new a(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},308:(e,t,n)=>{"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(t,{in:()=>o,Yd:()=>h,Ub:()=>d,Am:()=>f});var s=[],o=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var s=(new Date).toISOString(),o=c[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,r(["["+s+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?a[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],e)),this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],e)),this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],e)),this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],e)),this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],e)),this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function d(e){s.forEach(function(t){t.setLogLevel(e)})}function f(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=a[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(function(e){return e}).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:o[n].toLowerCase(),message:a,args:i,type:t.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},250:(e,t,n)=>{"use strict";n.d(t,{BH:()=>c,LL:()=>T,ZR:()=>I,tV:()=>a,r3:()=>C,Sg:()=>l,ne:()=>R,vZ:()=>k,ZB:()=>u,pd:()=>D,m9:()=>M,z$:()=>h,jU:()=>p,ru:()=>g,d:()=>y,xb:()=>A,w1:()=>v,hl:()=>b,uI:()=>d,UG:()=>f,b$:()=>m,G6:()=>w,Mn:()=>_,xO:()=>N,zd:()=>O});var r=n(4762),i=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var s=e[i],o=i+1<e.length,a=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,o||(l=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(i(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){var o=((7&i)<<18|(63&(s=e[n++]))<<12|(63&(a=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{s=e[n++];var a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var s=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,a=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==s||null==o||null==a||null==u)throw Error();r.push(s<<2|o>>4),64!==a&&(r.push(o<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},o=function(e){return function(e){var t=i(e);return s.encodeByteArray(t,!0)}(e).replace(/\./g,"")},a=function(e){try{return s.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function u(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=u(e[n],t[n]));return e}var c=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch(function(){}),1===e.length?e(n):e(n,r))}},e}();function l(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=(0,r.pi)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[o(JSON.stringify({alg:"none",type:"JWT"})),o(JSON.stringify(a)),""].join(".")}function h(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function d(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())}function f(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function p(){return"object"==typeof self&&self.self===self}function g(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function m(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function y(){return h().indexOf("Electron/")>=0}function v(){var e=h();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function _(){return h().indexOf("MSAppHost/")>=0}function w(){return!f()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function b(){return"indexedDB"in self&&null!=indexedDB}var I=function(e){function t(n,r,i){var s=e.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,T.prototype.create),s}return(0,r.ZT)(t,e),t}(Error),T=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,s=this.errors[e],o=s?E(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new I(i,a,r);return u},e}();function E(e,t){return e.replace(S,function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"})}var S=/\{\$([^}]+)}/g;function C(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function A(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function k(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,s=n;i<s.length;i++){if(!r.includes(l=s[i]))return!1;var o=e[l],a=t[l];if(x(o)&&x(a)){if(!k(o,a))return!1}else if(o!==a)return!1}for(var u=0,c=r;u<c.length;u++){var l;if(!n.includes(l=c[u]))return!1}return!0}function x(e){return null!==e&&"object"==typeof e}function N(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach(function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var s=i[r];n(s[0],s[1])}return t.length?"&"+t.join("&"):""}function O(e){var t={};return e.replace(/^\?/,"").split("&").forEach(function(e){if(e){var n=e.split("="),r=n[1];t[decodeURIComponent(n[0])]=decodeURIComponent(r)}}),t}function D(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function R(e,t){var n=new P(e,t);return n.subscribe.bind(n)}!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,s,o=this.chain_[0],a=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^a&(u^c),s=1518500249):(i=a^u^c,s=1859775393):r<60?(i=a&u|c&(a|u),s=2400959708):(i=a^u^c,s=3395469782);var h=(o<<5|o>>>27)+i+l+s+n[r]&4294967295;l=c,c=u,u=4294967295&(a<<30|a>>>2),a=o,o=h}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,s=this.inbuf_;r<t;){if(0===s)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[s]=e.charCodeAt(r),++r,++s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<t;)if(i[s]=e[r],++r,++s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e}}();var P=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){e(n)}).catch(function(e){n.error(e)})}return e.prototype.next=function(e){this.forEachObserver(function(t){t.next(e)})},e.prototype.error=function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)},e.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=L),void 0===r.error&&(r.error=L),void 0===r.complete&&(r.complete=L);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}}),this.observers.push(r),s},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))},e}();function L(){}function M(e){return e&&e._delegate?e._delegate:e}},9001:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r.Z});var r=n(1932);r.Z.registerVersion("firebase","9.0.1","app-compat")},1119:(e,t,n)=>{"use strict";n.r(t);var r=n(6304),i=n(1932),s=n(250),o=n(7092),a=n(4762),u=n(308),c=n(5119);const l=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},h=new s.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),d=new u.Yd("@firebase/auth");function f(e,...t){d.logLevel<=u.in.ERROR&&d.error(`Auth (${o.SDK_VERSION}): ${e}`,...t)}function p(e,...t){throw m(e,...t)}function g(e,...t){return m(e,...t)}function m(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return h.create(e,...t)}function y(e,t,...n){if(!e)throw m(t,...n)}function v(e){const t="INTERNAL ASSERTION FAILED: "+e;throw f(t),new Error(t)}function _(e,t){e||v(t)}const w=new Map;function b(e){_(e instanceof Function,"Expected a class definition");let t=w.get(e);return t?(_(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,w.set(e,t),t)}function I(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function T(){return"http:"===E()||"https:"===E()}function E(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class S{constructor(e,t){this.shortDelay=e,this.longDelay=t,_(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,s.uI)()||(0,s.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(T()||(0,s.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function C(e,t){_(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class A{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void v("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void v("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void v("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const k={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded"},x=new S(3e4,6e4);function N(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function O(e,t,n,r){return D.apply(this,arguments)}function D(){return(D=(0,r.Z)(function*(e,t,n,r,i={}){return R(e,i,()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=(0,s.xO)(Object.assign({key:e.config.apiKey},o)).slice(1),u=new(A.headers());return u.set("Content-Type","application/json"),u.set("X-Client-Version",e._getSdkClientVersion()),e.languageCode&&u.set("X-Firebase-Locale",e.languageCode),A.fetch()(F(e,e.config.apiHost,n,a),Object.assign({method:t,headers:u,referrerPolicy:"no-referrer"},i))})})).apply(this,arguments)}function R(e,t,n){return P.apply(this,arguments)}function P(){return(P=(0,r.Z)(function*(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},k),t);try{const t=new U(e),i=yield Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=yield i.json();if("needConfirmation"in s)throw V(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=(i.ok?s.errorMessage:s.error.message).split(" : ")[0];if("FEDERATED_USER_ID_ALREADY_LINKED"===t)throw V(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===t)throw V(e,"email-already-in-use",s);p(e,r[t]||t.toLowerCase().replace(/[_\s]+/g,"-"))}}catch(i){if(i instanceof s.ZR)throw i;p(e,"network-request-failed")}})).apply(this,arguments)}function L(e,t,n,r){return M.apply(this,arguments)}function M(){return(M=(0,r.Z)(function*(e,t,n,r,i={}){const s=yield O(e,t,n,r,i);return"mfaPendingCredential"in s&&p(e,"multi-factor-auth-required",{serverResponse:s}),s})).apply(this,arguments)}function F(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?C(e.config,i):`${e.config.apiScheme}://${i}`}class U{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(g(this.auth,"timeout")),x.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function V(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=g(e,t,r);return i.customData._tokenResponse=n,i}function j(){return(j=(0,r.Z)(function*(e,t){return O(e,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function q(e,t){return Z.apply(this,arguments)}function Z(){return(Z=(0,r.Z)(function*(e,t){return O(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function z(e,t){return B.apply(this,arguments)}function B(){return(B=(0,r.Z)(function*(e,t){return O(e,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function $(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function H(){return(H=(0,r.Z)(function*(e,t=!1){const n=(0,s.m9)(e),r=yield n.getIdToken(t),i=K(r);y(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,a=null==o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:$(G(i.auth_time)),issuedAtTime:$(G(i.iat)),expirationTime:$(G(i.exp)),signInProvider:a||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}})).apply(this,arguments)}function G(e){return 1e3*Number(e)}function K(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return f("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,s.tV)(n);return e?JSON.parse(e):(f("Failed to decode base64 JWT payload"),null)}catch(i){return f("Caught error parsing JWT payload as JSON",i),null}}function W(e,t){return Y.apply(this,arguments)}function Y(){return(Y=(0,r.Z)(function*(e,t,n=!1){if(n)return t;try{return yield t}catch(r){throw r instanceof s.ZR&&Q(r)&&e.auth.currentUser===e&&(yield e.auth.signOut()),r}})).apply(this,arguments)}function Q({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}class J{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout((0,r.Z)(function*(){yield t.iteration()}),n)}iteration(){var e=this;return(0,r.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t.code&&e.schedule(!0))}e.schedule()})()}}class X{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=$(this.lastLoginAt),this.creationTime=$(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ee(e){return te.apply(this,arguments)}function te(){return(te=(0,r.Z)(function*(e){var t;const n=e.auth,r=yield e.getIdToken(),i=yield W(e,z(n,{idToken:r}));y(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?ie(s.providerUserInfo):[],a=re(e.providerData,o),u=!!e.isAnonymous&&!(e.email&&s.passwordHash||(null==a?void 0:a.length)),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new X(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(e,c)})).apply(this,arguments)}function ne(){return(ne=(0,r.Z)(function*(e){const t=(0,s.m9)(e);yield ee(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function re(e,t){return[...e.filter(e=>!t.some(t=>t.providerId===e.providerId)),...t]}function ie(e){return e.map(e=>{var{providerId:t}=e,n=(0,a._T)(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function se(){return(se=(0,r.Z)(function*(e,t){const n=yield R(e,{},()=>{const n=(0,s.xO)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=F(e,r,"/v1/token",`key=${i}`);return A.fetch()(o,{method:"POST",headers:{"X-Client-Version":e._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class oe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){y(e.idToken,"internal-error"),y(void 0!==e.idToken,"internal-error"),y(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=K(e);return y(t,"internal-error"),y(void 0!==t.exp,"internal-error"),y(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var n=this;return(0,r.Z)(function*(){return y(!n.accessToken||n.refreshToken,e,"user-token-expired"),t||!n.accessToken||n.isExpired?n.refreshToken?(yield n.refresh(e,n.refreshToken),n.accessToken):null:n.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var n=this;return(0,r.Z)(function*(){const{accessToken:r,refreshToken:i,expiresIn:s}=yield function(e,t){return se.apply(this,arguments)}(e,t);n.updateTokensAndExpiration(r,i,Number(s))})()}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new oe;return n&&(y("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(y("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(y("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oe,this.toJSON())}_performRefresh(){return v("not implemented")}}function ae(e,t){y("string"==typeof e||void 0===e,"internal-error",{appName:t})}class ue{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=(0,a._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new J(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.metadata=new X(i.createdAt||void 0,i.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,r.Z)(function*(){const n=yield W(t,t.stsTokenManager.getToken(t.auth,e));return y(n,t.auth,"internal-error"),t.accessToken!==n&&(t.accessToken=n,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),n})()}getIdTokenResult(e){return function(e){return H.apply(this,arguments)}(this,e)}reload(){return function(e){return ne.apply(this,arguments)}(this)}_assign(e){this!==e&&(y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ue(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var n=this;return(0,r.Z)(function*(){let r=!1;e.idToken&&e.idToken!==n.stsTokenManager.accessToken&&(n.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield ee(n)),yield n.auth._persistUserIfCurrent(n),r&&n.auth._notifyListenersIfCurrent(n)})()}delete(){var e=this;return(0,r.Z)(function*(){const t=yield e.getIdToken();return yield W(e,function(e,t){return j.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,u,c;const l=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(u=t.createdAt)&&void 0!==u?u:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:_,emailVerified:w,isAnonymous:b,providerData:I,stsTokenManager:T}=t;y(_&&T,e,"internal-error");const E=oe.fromJSON(this.name,T);y("string"==typeof _,e,"internal-error"),ae(l,e.name),ae(h,e.name),y("boolean"==typeof w,e,"internal-error"),y("boolean"==typeof b,e,"internal-error"),ae(d,e.name),ae(f,e.name),ae(p,e.name),ae(g,e.name),ae(m,e.name),ae(v,e.name);const S=new ue({uid:_,auth:e,email:h,emailVerified:w,displayName:l,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:E,createdAt:m,lastLoginAt:v});return I&&Array.isArray(I)&&(S.providerData=I.map(e=>Object.assign({},e))),g&&(S._redirectEventId=g),S}static _fromIdTokenResponse(e,t,n=!1){return(0,r.Z)(function*(){const r=new oe;r.updateFromServerResponse(t);const i=new ue({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return yield ee(i),i})()}}const ce=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,r.Z)(function*(){return!0})()}_set(e,t){var n=this;return(0,r.Z)(function*(){n.storage[e]=t})()}_get(e){var t=this;return(0,r.Z)(function*(){const n=t.storage[e];return void 0===n?null:n})()}_remove(e){var t=this;return(0,r.Z)(function*(){delete t.storage[e]})()}_addListener(e,t){}_removeListener(e,t){}}return e.type="NONE",e})();function le(e,t,n){return`firebase:${e}:${t}:${n}`}class he{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=le(this.userKey,r.apiKey,i),this.fullPersistenceKey=le("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,r.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?ue._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,r.Z)(function*(){if(t.persistence===e)return;const n=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,n?t.setCurrentUser(n):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,n="authUser"){return(0,r.Z)(function*(){if(!t.length)return new he(b(ce),e,n);const i=(yield Promise.all(t.map(function(){var e=(0,r.Z)(function*(e){if(yield e._isAvailable())return e});return function(t){return e.apply(this,arguments)}}()))).filter(e=>e);let s=i[0]||b(ce);const o=le(n,e.config.apiKey,e.name);let a=null;for(const n of t)try{const t=yield n._get(o);if(t){const r=ue._fromJSON(e,t);n!==s&&(a=r),s=n;break}}catch(c){}const u=i.filter(e=>e._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var e=(0,r.Z)(function*(e){if(e!==s)try{yield e._remove(o)}catch(c){}});return function(t){return e.apply(this,arguments)}}())),new he(s,e,n)):new he(s,e,n)})()}}function de(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(me(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(fe(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ve(t))return"Blackberry";if(_e(t))return"Webos";if(pe(t))return"Safari";if((t.includes("chrome/")||ge(t))&&!t.includes("edge/"))return"Chrome";if(ye(t))return"Android";{const t=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==t?void 0:t.length))return t[1]}return"Other"}function fe(e=(0,s.z$)()){return/firefox\//i.test(e)}function pe(e=(0,s.z$)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ge(e=(0,s.z$)()){return/crios\//i.test(e)}function me(e=(0,s.z$)()){return/iemobile/i.test(e)}function ye(e=(0,s.z$)()){return/android/i.test(e)}function ve(e=(0,s.z$)()){return/blackberry/i.test(e)}function _e(e=(0,s.z$)()){return/webos/i.test(e)}function we(e=(0,s.z$)()){return/iphone|ipad|ipod/i.test(e)}function be(e=(0,s.z$)()){return we(e)||ye(e)||_e(e)||ve(e)||/windows phone/i.test(e)||me(e)}function Ie(e,t=[]){let n;switch(e){case"Browser":n=de((0,s.z$)());break;case"Worker":n=`${de((0,s.z$)())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${o.SDK_VERSION}/${r}`}class Te{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Se(this),this.idTokenSubscription=new Se(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=h,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){var n=this;return t&&(this._popupRedirectResolver=b(t)),this._initializationPromise=this.queue((0,r.Z)(function*(){var r;n._deleted||(n.persistenceManager=yield he.create(n,e),n._deleted||((null===(r=n._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)&&(yield n._popupRedirectResolver._initialize(n)),yield n.initializeCurrentUser(t),n._deleted||(n._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,r.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();return e.currentUser||t?e.currentUser&&t&&e.currentUser.uid===t.uid?(e._currentUser._assign(t),void(yield e.currentUser.getIdToken())):void(yield e._updateCurrentUser(t)):void 0})()}initializeCurrentUser(e){var t=this;return(0,r.Z)(function*(){var n;let r=yield t.assertedPersistence.getCurrentUser();if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const i=null===(n=t.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null==r?void 0:r._redirectEventId,o=yield t.tryRedirectSignIn(e);i&&i!==s||!(null==o?void 0:o.user)||(r=o.user)}return r?r._redirectEventId?(y(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===r._redirectEventId?t.directlySetCurrentUser(r):t.reloadAndSetCurrentUserOrClear(r)):t.reloadAndSetCurrentUserOrClear(r):t.directlySetCurrentUser(null)})()}tryRedirectSignIn(e){var t=this;return(0,r.Z)(function*(){let n=null;try{n=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch(r){yield t._setRedirectUser(null)}return n})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,r.Z)(function*(){try{yield ee(e)}catch(n){if("auth/network-request-failed"!==n.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}_delete(){var e=this;return(0,r.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,r.Z)(function*(){const n=e?(0,s.m9)(e):null;return n&&y(n.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(n&&n._clone(t))})()}_updateCurrentUser(e){var t=this;return(0,r.Z)(function*(){if(!t._deleted)return e&&y(t.tenantId===e.tenantId,t,"tenant-id-mismatch"),t.queue((0,r.Z)(function*(){yield t.directlySetCurrentUser(e),t.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,r.Z)(function*(){return(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null)})()}setPersistence(e){var t=this;return this.queue((0,r.Z)(function*(){yield t.assertedPersistence.setPersistence(b(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new s.LL("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var n=this;return(0,r.Z)(function*(){const r=yield n.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,r.Z)(function*(){if(!t.redirectPersistenceManager){const n=e&&b(e)||t._popupRedirectResolver;y(n,t,"argument-error"),t.redirectPersistenceManager=yield he.create(t,[b(n._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,r.Z)(function*(){var n,i;return t._isInitialized&&(yield t.queue((0,r.Z)(function*(){}))),(null===(n=t._currentUser)||void 0===n?void 0:n._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,r.Z)(function*(){if(e===t.currentUser)return t.queue((0,r.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return y(s,this,"internal-error"),s.then(()=>i(this.currentUser)),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,r.Z)(function*(){t.currentUser&&t.currentUser!==e&&(t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh()),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ie(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Ee(e){return(0,s.m9)(e)}class Se{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,s.ne)(e=>this.observer=e)}get next(){return y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ce(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ae(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class ke{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return v("not implemented")}_getIdTokenResponse(e){return v("not implemented")}_linkToIdToken(e,t){return v("not implemented")}_getReauthenticationResolver(e){return v("not implemented")}}function xe(e,t){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,r.Z)(function*(e,t){return O(e,"POST","/v1/accounts:resetPassword",N(e,t))})).apply(this,arguments)}function Oe(e,t){return De.apply(this,arguments)}function De(){return(De=(0,r.Z)(function*(e,t){return O(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function Re(e,t){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,r.Z)(function*(e,t){return O(e,"POST","/v1/accounts:update",N(e,t))})).apply(this,arguments)}function Le(){return(Le=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:signInWithPassword",N(e,t))})).apply(this,arguments)}function Me(e,t){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,r.Z)(function*(e,t){return O(e,"POST","/v1/accounts:sendOobCode",N(e,t))})).apply(this,arguments)}function Ue(e,t){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,r.Z)(function*(e,t){return Me(e,t)})).apply(this,arguments)}function je(e,t){return qe.apply(this,arguments)}function qe(){return(qe=(0,r.Z)(function*(e,t){return Me(e,t)})).apply(this,arguments)}function Ze(e,t){return ze.apply(this,arguments)}function ze(){return(ze=(0,r.Z)(function*(e,t){return Me(e,t)})).apply(this,arguments)}function Be(e,t){return $e.apply(this,arguments)}function $e(){return($e=(0,r.Z)(function*(e,t){return Me(e,t)})).apply(this,arguments)}function He(){return(He=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:signInWithEmailLink",N(e,t))})).apply(this,arguments)}function Ge(){return(Ge=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:signInWithEmailLink",N(e,t))})).apply(this,arguments)}class Ke extends ke{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Ke(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Ke(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return(0,r.Z)(function*(){switch(t.signInMethod){case"password":return function(e,t){return Le.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password});case"emailLink":return function(e,t){return He.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:p(e,"internal-error")}})()}_linkToIdToken(e,t){var n=this;return(0,r.Z)(function*(){switch(n.signInMethod){case"password":return Oe(e,{idToken:t,returnSecureToken:!0,email:n._email,password:n._password});case"emailLink":return function(e,t){return Ge.apply(this,arguments)}(e,{idToken:t,email:n._email,oobCode:n._password});default:p(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function We(e,t){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:signInWithIdp",N(e,t))})).apply(this,arguments)}class Qe extends ke{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Qe(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):p("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=(0,a._T)(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Qe(n,r);return Object.assign(s,i),s}_getIdTokenResponse(e){return We(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,We(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,We(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,s.xO)(t)}return e}}function Je(e,t){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,r.Z)(function*(e,t){return O(e,"POST","/v1/accounts:sendVerificationCode",N(e,t))})).apply(this,arguments)}function et(){return(et=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:signInWithPhoneNumber",N(e,t))})).apply(this,arguments)}function tt(){return(tt=(0,r.Z)(function*(e,t){const n=yield L(e,"POST","/v1/accounts:signInWithPhoneNumber",N(e,t));if(n.temporaryProof)throw V(e,"account-exists-with-different-credential",n);return n})).apply(this,arguments)}const nt={USER_NOT_FOUND:"user-not-found"};function rt(){return(rt=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:signInWithPhoneNumber",N(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),nt)})).apply(this,arguments)}class it extends ke{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new it({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new it({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return function(e,t){return et.apply(this,arguments)}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return function(e,t){return tt.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return function(e,t){return rt.apply(this,arguments)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new it({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class st{constructor(e){var t,n,r,i,o,a;const u=(0,s.zd)((0,s.pd)(e)),c=null!==(t=u.apiKey)&&void 0!==t?t:null,l=null!==(n=u.oobCode)&&void 0!==n?n:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=u.mode)&&void 0!==r?r:null);y(c&&l&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=l,this.continueUrl=null!==(i=u.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=(0,s.zd)((0,s.pd)(e)).link,n=t?(0,s.zd)((0,s.pd)(t)).deep_link_id:null,r=(0,s.zd)((0,s.pd)(e)).deep_link_id;return(r?(0,s.zd)((0,s.pd)(r)).link:null)||r||n||t||e}(e);try{return new st(t)}catch(n){return null}}}let ot=(()=>{class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(e,t){return Ke._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=st.parseLink(t);return y(n,"argument-error"),Ke._fromEmailAndCode(e,n.code,n.tenantId)}}return e.PROVIDER_ID="password",e.EMAIL_PASSWORD_SIGN_IN_METHOD="password",e.EMAIL_LINK_SIGN_IN_METHOD="emailLink",e})();class at{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ut extends at{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ct extends ut{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return y("providerId"in t&&"signInMethod"in t,"argument-error"),Qe._fromParams(t)}credential(e){return this._credential(e)}_credential(e){return y(e.idToken||e.accessToken,"argument-error"),Qe._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return ct.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return ct.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:s,providerId:o}=e;if(!(n||r||t||i))return null;if(!o)return null;try{return new ct(o)._credential({idToken:t,accessToken:n,rawNonce:s,pendingToken:i})}catch(a){return null}}}let lt=(()=>{class e extends ut{constructor(){super("facebook.com")}static credential(t){return Qe._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch(n){return null}}}return e.FACEBOOK_SIGN_IN_METHOD="facebook.com",e.PROVIDER_ID="facebook.com",e})(),ht=(()=>{class e extends ut{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Qe._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return e.credential(n,r)}catch(i){return null}}}return e.GOOGLE_SIGN_IN_METHOD="google.com",e.PROVIDER_ID="google.com",e})(),dt=(()=>{class e extends ut{constructor(){super("github.com")}static credential(t){return Qe._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch(n){return null}}}return e.GITHUB_SIGN_IN_METHOD="github.com",e.PROVIDER_ID="github.com",e})();class ft extends ke{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return We(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,We(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,We(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new ft(n,i):null}static _create(e,t){return new ft(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let pt=(()=>{class e extends ut{constructor(){super("twitter.com")}static credential(t,n){return Qe._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return e.credential(n,r)}catch(i){return null}}}return e.TWITTER_SIGN_IN_METHOD="twitter.com",e.PROVIDER_ID="twitter.com",e})();function gt(e,t){return mt.apply(this,arguments)}function mt(){return(mt=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:signUp",N(e,t))})).apply(this,arguments)}class yt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,n,i=!1){return(0,r.Z)(function*(){const r=yield ue._fromIdTokenResponse(e,n,i),s=vt(n);return new yt({user:r,providerId:s,_tokenResponse:n,operationType:t})})()}static _forOperation(e,t,n){return(0,r.Z)(function*(){yield e._updateTokensIfNecessary(n,!0);const r=vt(n);return new yt({user:e,providerId:r,_tokenResponse:n,operationType:t})})()}}function vt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function _t(){return(_t=(0,r.Z)(function*(e){var t;const n=Ee(e);if(yield n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new yt({user:n.currentUser,providerId:null,operationType:"signIn"});const r=yield gt(n,{returnSecureToken:!0}),i=yield yt._fromIdTokenResponse(n,"signIn",r,!0);return yield n._updateCurrentUser(i.user),i})).apply(this,arguments)}class wt extends s.ZR{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,this.name="FirebaseError",Object.setPrototypeOf(this,wt.prototype),this.appName=e.name,this.code=t.code,this.tenantId=null!==(i=e.tenantId)&&void 0!==i?i:void 0,this.serverResponse=t.customData.serverResponse}static _fromErrorAndOperation(e,t,n,r){return new wt(e,t,n,r)}}function bt(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw wt._fromErrorAndOperation(e,n,t,r);throw n})}function It(e){return new Set(e.map(({providerId:e})=>e).filter(e=>!!e))}function Tt(){return(Tt=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e);yield Ct(!0,n,t);const{providerUserInfo:r}=yield q(n.auth,{idToken:yield n.getIdToken(),deleteProvider:[t]}),i=It(r||[]);return n.providerData=n.providerData.filter(e=>i.has(e.providerId)),i.has("phone")||(n.phoneNumber=null),yield n.auth._persistUserIfCurrent(n),n})).apply(this,arguments)}function Et(e,t){return St.apply(this,arguments)}function St(){return(St=(0,r.Z)(function*(e,t,n=!1){const r=yield W(e,t._linkToIdToken(e.auth,yield e.getIdToken()),n);return yt._forOperation(e,"link",r)})).apply(this,arguments)}function Ct(e,t,n){return At.apply(this,arguments)}function At(){return(At=(0,r.Z)(function*(e,t,n){yield ee(t);const r=!1===e?"provider-already-linked":"no-such-provider";y(It(t.providerData).has(n)===e,t.auth,r)})).apply(this,arguments)}function kt(e,t){return xt.apply(this,arguments)}function xt(){return(xt=(0,r.Z)(function*(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=yield W(e,bt(r,i,t,e),n);y(s.idToken,r,"internal-error");const o=K(s.idToken);y(o,r,"internal-error");const{sub:a}=o;return y(e.uid===a,r,"user-mismatch"),yt._forOperation(e,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&p(r,"user-mismatch"),s}})).apply(this,arguments)}function Nt(e,t){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,r.Z)(function*(e,t,n=!1){const r="signIn",i=yield bt(e,r,t),s=yield yt._fromIdTokenResponse(e,r,i);return n||(yield e._updateCurrentUser(s.user)),s})).apply(this,arguments)}function Dt(e,t){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,r.Z)(function*(e,t){return Nt(Ee(e),t)})).apply(this,arguments)}function Pt(e,t){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e);return yield Ct(!1,n,t.providerId),Et(n,t)})).apply(this,arguments)}function Mt(e,t){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,r.Z)(function*(e,t){return kt((0,s.m9)(e),t)})).apply(this,arguments)}function Ut(e,t){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:signInWithCustomToken",N(e,t))})).apply(this,arguments)}function jt(){return(jt=(0,r.Z)(function*(e,t){const n=Ee(e),r=yield Ut(n,{token:t,returnSecureToken:!0}),i=yield yt._fromIdTokenResponse(n,"signIn",r);return yield n._updateCurrentUser(i.user),i})).apply(this,arguments)}class qt{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Zt._fromServerResponse(e,t):p(e,"internal-error")}}class Zt extends qt{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Zt(t)}}function zt(e,t,n){var r;y((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),y(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(y(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iosBundleId=n.iOS.bundleId),n.android&&(y(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Bt(){return(Bt=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i={requestType:"PASSWORD_RESET",email:t};n&&zt(r,i,n),yield je(r,i)})).apply(this,arguments)}function $t(){return($t=(0,r.Z)(function*(e,t,n){yield xe((0,s.m9)(e),{oobCode:t,newPassword:n})})).apply(this,arguments)}function Ht(){return(Ht=(0,r.Z)(function*(e,t){yield Re((0,s.m9)(e),{oobCode:t})})).apply(this,arguments)}function Gt(e,t){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e),r=yield xe(n,{oobCode:t}),i=r.requestType;switch(y(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":y(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":y(r.mfaInfo,n,"internal-error");default:y(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=qt._fromServerResponse(Ee(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}})).apply(this,arguments)}function Wt(){return(Wt=(0,r.Z)(function*(e,t){const{data:n}=yield Gt((0,s.m9)(e),t);return n.email})).apply(this,arguments)}function Yt(){return(Yt=(0,r.Z)(function*(e,t,n){const r=Ee(e),i=yield gt(r,{returnSecureToken:!0,email:t,password:n}),s=yield yt._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s})).apply(this,arguments)}function Qt(){return(Qt=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i={requestType:"EMAIL_SIGNIN",email:t};y(n.handleCodeInApp,r,"argument-error"),n&&zt(r,i,n),yield Ze(r,i)})).apply(this,arguments)}function Jt(){return(Jt=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i=ot.credentialWithLink(t,n||I());return y(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Dt(r,i)})).apply(this,arguments)}function Xt(e,t){return en.apply(this,arguments)}function en(){return(en=(0,r.Z)(function*(e,t){return O(e,"POST","/v1/accounts:createAuthUri",N(e,t))})).apply(this,arguments)}function tn(){return(tn=(0,r.Z)(function*(e,t){const n={identifier:t,continueUri:T()?I():"http://localhost"},{signinMethods:r}=yield Xt((0,s.m9)(e),n);return r||[]})).apply(this,arguments)}function nn(){return(nn=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e),r={requestType:"VERIFY_EMAIL",idToken:yield e.getIdToken()};t&&zt(n.auth,r,t);const{email:i}=yield Ue(n.auth,r);i!==e.email&&(yield e.reload())})).apply(this,arguments)}function rn(){return(rn=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield e.getIdToken(),newEmail:t};n&&zt(r.auth,i,n);const{email:o}=yield Be(r.auth,i);o!==e.email&&(yield e.reload())})).apply(this,arguments)}function sn(e,t){return on.apply(this,arguments)}function on(){return(on=(0,r.Z)(function*(e,t){return O(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function an(){return(an=(0,r.Z)(function*(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const r=(0,s.m9)(e),i={idToken:yield r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},o=yield W(r,sn(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:e})=>"password"===e);a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),yield r._updateTokensIfNecessary(o)})).apply(this,arguments)}function un(e,t,n){return cn.apply(this,arguments)}function cn(){return(cn=(0,r.Z)(function*(e,t,n){const{auth:r}=e,i={idToken:yield e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=yield W(e,Oe(r,i));yield e._updateTokensIfNecessary(s,!0)})).apply(this,arguments)}class ln{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class hn extends ln{constructor(e,t,n,r){super(e,t,n),this.username=r}}class dn extends ln{constructor(e,t){super(e,"facebook.com",t)}}class fn extends hn{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class pn extends ln{constructor(e,t){super(e,"google.com",t)}}class gn extends hn{constructor(e,t,n){super(e,"twitter.com",t,n)}}function mn(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null==e?void 0:e.idToken)){const r=null===(n=null===(t=K(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new ln(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new dn(s,i);case"github.com":return new fn(s,i);case"google.com":return new pn(s,i);case"twitter.com":return new gn(s,i,e.screenName||null);case"custom":case"anonymous":return new ln(s,null);default:return new ln(s,r,i)}}(n)}class yn{constructor(e,t){this.type=e,this.credential=t}static _fromIdtoken(e){return new yn("enroll",e)}static _fromMfaPendingCredential(e){return new yn("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return yn._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return yn._fromIdtoken(e.multiFactorSession.idToken)}return null}}class vn{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Ee(e),i=(t.serverResponse.mfaInfo||[]).map(e=>qt._fromServerResponse(n,e));y(t.serverResponse.mfaPendingCredential,n,"internal-error");const s=yn._fromMfaPendingCredential(t.serverResponse.mfaPendingCredential);return new vn(s,i,function(){var e=(0,r.Z)(function*(e){const r=yield e._process(n,s);delete t.serverResponse.mfaInfo,delete t.serverResponse.mfaPendingCredential;const i=Object.assign(Object.assign({},t.serverResponse),{idToken:r.idToken,refreshToken:r.refreshToken});switch(t.operationType){case"signIn":const e=yield yt._fromIdTokenResponse(n,t.operationType,i);return yield n._updateCurrentUser(e.user),e;case"reauthenticate":return y(t.user,n,"internal-error"),yt._forOperation(t.user,t.operationType,i);default:p(n,"internal-error")}});return function(t){return e.apply(this,arguments)}}())}resolveSignIn(e){var t=this;return(0,r.Z)(function*(){return t.signInResolver(e)})()}}function _n(e,t){return O(e,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:e.tenantId},t))}class wn{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(t=>qt._fromServerResponse(e.auth,t)))})}static _fromUser(e){return new wn(e)}getSession(){var e=this;return(0,r.Z)(function*(){return yn._fromIdtoken(yield e.user.getIdToken())})()}enroll(e,t){var n=this;return(0,r.Z)(function*(){const r=e,i=yield n.getSession(),s=yield W(n.user,r._process(n.user.auth,i,t));return yield n.user._updateTokensIfNecessary(s),n.user.reload()})()}unenroll(e){var t=this;return(0,r.Z)(function*(){const n="string"==typeof e?e:e.uid,r=yield t.user.getIdToken(),i=yield W(t.user,(s=t.user.auth,o={idToken:r,mfaEnrollmentId:n},O(s,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:s.tenantId},o))));var s,o;t.enrolledFactors=t.enrolledFactors.filter(({uid:e})=>e!==n),yield t.user._updateTokensIfNecessary(i);try{yield t.user.reload()}catch(a){if("auth/user-token-expired"!==a.code)throw a}})()}}const bn=new WeakMap,In="__sak";class Tn{constructor(e,t){this.storage=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(In,"1"),this.storage.removeItem(In),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}}const En=(()=>{class e extends Tn{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=(0,s.z$)();return pe(e)||we(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=be(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);(0,s.w1)()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(e,t){var n=()=>super._set,i=this;return(0,r.Z)(function*(){yield n().call(i,e,t),i.localCache[e]=JSON.stringify(t)})()}_get(e){var t=()=>super._get,n=this;return(0,r.Z)(function*(){const r=yield t().call(n,e);return n.localCache[e]=JSON.stringify(r),r})()}_remove(e){var t=()=>super._remove,n=this;return(0,r.Z)(function*(){yield t().call(n,e),delete n.localCache[e]})()}}return e.type="LOCAL",e})(),Sn=(()=>{class e extends Tn{constructor(){super(window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}return e.type="SESSION",e})();let Cn=(()=>{class e{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(e=>e.isListeningto(t));if(n)return n;const r=new e(t);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}handleEvent(e){var t=this;return(0,r.Z)(function*(){const n=e,{eventId:i,eventType:s,data:o}=n.data,a=t.handlersMap[s];if(!(null==a?void 0:a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const u=Array.from(a).map(function(){var e=(0,r.Z)(function*(e){return e(n.origin,o)});return function(t){return e.apply(this,arguments)}}()),c=yield function(e){return Promise.all(e.map(function(){var e=(0,r.Z)(function*(e){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}});return function(t){return e.apply(this,arguments)}}()))}(u);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:c})})()}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return e.receivers=[],e})();function An(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}class kn{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,n=50){var i=this;return(0,r.Z)(function*(){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const c=An("",20);r.port1.start();const l=setTimeout(()=>{u(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(t.data.response);break;default:clearTimeout(l),clearTimeout(s),u(new Error("invalid_response"))}}},i.handlers.add(o),r.port1.addEventListener("message",o.onMessage),i.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])}).finally(()=>{o&&i.removeMessageHandler(o)})})()}}function xn(){return window}function Nn(){return void 0!==xn().WorkerGlobalScope&&"function"==typeof xn().importScripts}function On(){return(On=(0,r.Z)(function*(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(e){return null}})).apply(this,arguments)}const Dn="firebaseLocalStorageDb",Rn="firebaseLocalStorage",Pn="fbase_key";class Ln{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Mn(e,t){return e.transaction([Rn],t?"readwrite":"readonly").objectStore(Rn)}function Fn(){const e=indexedDB.open(Dn,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Rn,{keyPath:Pn})}catch(r){n(r)}}),e.addEventListener("success",(0,r.Z)(function*(){const n=e.result;n.objectStoreNames.contains(Rn)?t(n):(n.close(),yield function(){const e=indexedDB.deleteDatabase(Dn);return new Ln(e).toPromise()}(),t(yield Fn()))}))})}function Un(e,t,n){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,r.Z)(function*(e,t,n){const r=Mn(e,!0).put({[Pn]:t,value:n});return new Ln(r).toPromise()})).apply(this,arguments)}function jn(){return(jn=(0,r.Z)(function*(e,t){const n=Mn(e,!1).get(t),r=yield new Ln(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function qn(e,t){const n=Mn(e,!0).delete(t);return new Ln(n).toPromise()}const Zn=(()=>{class e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var e=this;return(0,r.Z)(function*(){return e.db||(e.db=yield Fn()),e.db})()}_withRetries(e){var t=this;return(0,r.Z)(function*(){let n=0;for(;;)try{const n=yield t._openDb();return yield e(n)}catch(r){if(n++>3)throw r;t.db&&(t.db.close(),t.db=void 0)}})()}initializeServiceWorkerMessaging(){var e=this;return(0,r.Z)(function*(){return Nn()?e.initializeReceiver():e.initializeSender()})()}initializeReceiver(){var e=this;return(0,r.Z)(function*(){e.receiver=Cn._getInstance(Nn()?self:null),e.receiver._subscribe("keyChanged",function(){var t=(0,r.Z)(function*(t,n){return{keyProcessed:(yield e._poll()).includes(n.key)}});return function(e,n){return t.apply(this,arguments)}}()),e.receiver._subscribe("ping",function(){var e=(0,r.Z)(function*(e,t){return["keyChanged"]});return function(t,n){return e.apply(this,arguments)}}())})()}initializeSender(){var e=this;return(0,r.Z)(function*(){var t,n;if(e.activeServiceWorker=yield function(){return On.apply(this,arguments)}(),!e.activeServiceWorker)return;e.sender=new kn(e.activeServiceWorker);const r=yield e.sender._send("ping",{},800);r&&(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(e.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(e){var t=this;return(0,r.Z)(function*(){var n;if(t.sender&&t.activeServiceWorker&&((null===(n=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null)===t.activeServiceWorker)try{yield t.sender._send("keyChanged",{key:e},t.serviceWorkerReceiverAvailable?800:50)}catch(n){}})()}_isAvailable(){return(0,r.Z)(function*(){try{if(!indexedDB)return!1;const e=yield Fn();return yield Un(e,In,"1"),yield qn(e,In),!0}catch(e){}return!1})()}_withPendingWrite(e){var t=this;return(0,r.Z)(function*(){t.pendingWrites++;try{yield e()}finally{t.pendingWrites--}})()}_set(e,t){var n=this;return(0,r.Z)(function*(){return n._withPendingWrite((0,r.Z)(function*(){return yield n._withRetries(n=>Un(n,e,t)),n.localCache[e]=t,n.notifyServiceWorker(e)}))})()}_get(e){var t=this;return(0,r.Z)(function*(){const n=yield t._withRetries(t=>function(e,t){return jn.apply(this,arguments)}(t,e));return t.localCache[e]=n,n})()}_remove(e){var t=this;return(0,r.Z)(function*(){return t._withPendingWrite((0,r.Z)(function*(){return yield t._withRetries(t=>qn(t,e)),delete t.localCache[e],t.notifyServiceWorker(e)}))})()}_poll(){var e=this;return(0,r.Z)(function*(){const t=yield e._withRetries(e=>{const t=Mn(e,!1).getAll();return new Ln(t).toPromise()});if(!t)return[];if(0!==e.pendingWrites)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(e.localCache[i])!==JSON.stringify(s)&&(e.notifyListeners(i,s),n.push(i));for(const i of Object.keys(e.localCache))e.localCache[i]&&!r.has(i)&&(e.notifyListeners(i,null),n.push(i));return n})()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){var e=this;this.stopPolling(),this.pollTimer=setInterval((0,r.Z)(function*(){return e._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return e.type="LOCAL",e})();function zn(e,t){return O(e,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:e.tenantId},t))}function Bn(){return(Bn=(0,r.Z)(function*(e){return(yield O(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function $n(e){return new Promise((t,n)=>{const r=document.createElement("script");var i,s;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=g("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(s=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])&&void 0!==s?s:document).appendChild(r)})}function Hn(e){return`__${e}${Math.floor(1e6*Math.random())}`}const Gn=1e12;class Kn{constructor(e){this.auth=e,this.counter=Gn,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Wn(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Gn;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;return(null===(t=this._widgets.get(e||Gn))||void 0===t?void 0:t.getResponse())||""}execute(e){var t=this;return(0,r.Z)(function*(){var n;return null===(n=t._widgets.get(e||Gn))||void 0===n||n.execute(),""})()}}class Wn{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"==typeof e?document.getElementById(e):e;y(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<50;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}();const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Yn=Hn("rcb"),Qn=new S(3e4,6e4);class Jn{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!xn().grecaptcha}load(e,t=""){return y(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(xn().grecaptcha):new Promise((n,r)=>{const i=xn().setTimeout(()=>{r(g(e,"network-request-failed"))},Qn.get());xn()[Yn]=()=>{xn().clearTimeout(i),delete xn()[Yn];const s=xn().grecaptcha;if(!s)return void r(g(e,"internal-error"));const o=s.render;s.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(s)},$n(`https://www.google.com/recaptcha/api.js??${(0,s.xO)({onload:Yn,render:"explicit",hl:t})}`).catch(()=>{clearTimeout(i),r(g(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!xn().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Xn{load(e){return(0,r.Z)(function*(){return new Kn(e)})()}clearedOneInstance(){}}const er="recaptcha",tr={theme:"light",type:"image"};class nr{constructor(e,t=Object.assign({},tr),n){this.parameters=t,this.type=er,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ee(n),this.isInvisible="invisible"===this.parameters.size,y("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"==typeof e?document.getElementById(e):e;y(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Xn:new Jn,this.validateStartingState()}verify(){var e=this;return(0,r.Z)(function*(){e.assertNotDestroyed();const t=yield e.render(),n=e.getAssertedRecaptcha();return n.getResponse(t)||new Promise(r=>{const i=t=>{t&&(e.tokenChangeListeners.delete(i),r(t))};e.tokenChangeListeners.add(i),e.isInvisible&&n.execute(t)})})()}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){y(!this.parameters.sitekey,this.auth,"argument-error"),y(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),y("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(e=>e(t)),"function"==typeof e)e(t);else if("string"==typeof e){const n=xn()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){y(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var e=this;return(0,r.Z)(function*(){if(yield e.init(),!e.widgetId){let t=e.container;if(!e.isInvisible){const e=document.createElement("div");t.appendChild(e),t=e}e.widgetId=e.getAssertedRecaptcha().render(t,e.parameters)}return e.widgetId})()}init(){var e=this;return(0,r.Z)(function*(){y(T()&&!Nn(),e.auth,"internal-error"),yield function(){let e=null;return new Promise(t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()}).catch(t=>{throw e&&window.removeEventListener("load",e),t})}(),e.recaptcha=yield e._recaptchaLoader.load(e.auth,e.auth.languageCode||void 0);const t=yield function(e){return Bn.apply(this,arguments)}(e.auth);y(t,e.auth,"internal-error"),e.parameters.sitekey=t})()}getAssertedRecaptcha(){return y(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class rr{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=it._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}function ir(){return(ir=(0,r.Z)(function*(e,t,n){const r=Ee(e),i=yield ar(r,t,(0,s.m9)(n));return new rr(i,e=>Dt(r,e))})).apply(this,arguments)}function sr(){return(sr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);yield Ct(!1,r,"phone");const i=yield ar(r.auth,t,(0,s.m9)(n));return new rr(i,e=>Pt(r,e))})).apply(this,arguments)}function or(){return(or=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i=yield ar(r.auth,t,(0,s.m9)(n));return new rr(i,e=>Mt(r,e))})).apply(this,arguments)}function ar(e,t,n){return ur.apply(this,arguments)}function ur(){return(ur=(0,r.Z)(function*(e,t,n){var r;const i=yield n.verify();try{let s;if(y("string"==typeof i,e,"argument-error"),y(n.type===er,e,"argument-error"),s="string"==typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s)return y("enroll"===t.type,e,"internal-error"),(yield _n(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{y("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;return y(n,e,"missing-multi-factor-info"),(yield zn(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=yield Je(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}})).apply(this,arguments)}function cr(){return(cr=(0,r.Z)(function*(e,t){yield Et((0,s.m9)(e),t)})).apply(this,arguments)}let lr=(()=>{class e{constructor(t){this.providerId=e.PROVIDER_ID,this.auth=Ee(t)}verifyPhoneNumber(e,t){return ar(this.auth,e,(0,s.m9)(t))}static credential(e,t){return it._fromVerification(e,t)}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?it._fromTokenResponse(t,n):null}}return e.PROVIDER_ID="phone",e.PHONE_SIGN_IN_METHOD="phone",e})();function hr(e,t){return t?b(t):(y(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}class dr extends ke{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return We(e,this._buildIdpRequest())}_linkToIdToken(e,t){return We(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return We(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function fr(e){return Nt(e.auth,new dr(e),e.bypassAuthState)}function pr(e){const{auth:t,user:n}=e;return y(n,t,"internal-error"),kt(n,new dr(e),e.bypassAuthState)}function gr(e){return mr.apply(this,arguments)}function mr(){return(mr=(0,r.Z)(function*(e){const{auth:t,user:n}=e;return y(n,t,"internal-error"),Et(n,new dr(e),e.bypassAuthState)})).apply(this,arguments)}class yr{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,r.Z)(function*(t,n){e.pendingPromise={resolve:t,reject:n};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(r){e.reject(r)}});return function(e,n){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,r.Z)(function*(){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o)return void t.reject(o);const u={auth:t.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(a)(u))}catch(c){t.reject(c)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fr;case"linkViaPopup":case"linkViaRedirect":return gr;case"reauthViaPopup":case"reauthViaRedirect":return pr;default:p(this.auth,"internal-error")}}resolve(e){_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const vr=new S(2e3,1e4);function _r(){return(_r=(0,r.Z)(function*(e,t,n){const r=Ee(e);y(t instanceof at,e,"argument-error");const i=hr(r,n);return new Ir(r,"signInViaPopup",t,i).executeNotNull()})).apply(this,arguments)}function wr(){return(wr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);y(t instanceof at,r.auth,"argument-error");const i=hr(r.auth,n);return new Ir(r.auth,"reauthViaPopup",t,i,r).executeNotNull()})).apply(this,arguments)}function br(){return(br=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);y(t instanceof at,r.auth,"argument-error");const i=hr(r.auth,n);return new Ir(r.auth,"linkViaPopup",t,i,r).executeNotNull()})).apply(this,arguments)}let Ir=(()=>{class e extends yr{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,e.currentPopupAction&&e.currentPopupAction.cancel(),e.currentPopupAction=this}executeNotNull(){var e=this;return(0,r.Z)(function*(){const t=yield e.execute();return y(t,e.auth,"internal-error"),t})()}onExecution(){var e=this;return(0,r.Z)(function*(){_(1===e.filter.length,"Popup operations only handle one event");const t=An();e.authWindow=yield e.resolver._openPopup(e.auth,e.provider,e.filter[0],t),e.authWindow.associatedEvent=t,e.resolver._originValidation(e.auth).catch(t=>{e.reject(t)}),e.resolver._isIframeWebStorageSupported(e.auth,t=>{t||e.reject(g(e.auth,"web-storage-unsupported"))}),e.pollUserCancellation()})()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(g(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,e.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;this.pollId=(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(g(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(e,vr.get())};e()}}return e.currentPopupAction=null,e})();const Tr=new Map;class Er extends yr{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,r.Z)(function*(){let n=Tr.get(t.auth._key());if(!n){try{const r=(yield function(e,t){return Sr.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;n=()=>Promise.resolve(r)}catch(r){n=()=>Promise.reject(r)}Tr.set(t.auth._key(),n)}return n()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,n=this;return(0,r.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(n,e);if("unknown"!==e.type){if(e.eventId){const r=yield n.auth._redirectUserForId(e.eventId);if(r)return n.user=r,t().call(n,e);n.resolve(null)}}else n.resolve(null)})()}onExecution(){return(0,r.Z)(function*(){})()}cleanUp(){}}function Sr(){return(Sr=(0,r.Z)(function*(e,t){const n=xr(t),r="true"===(yield kr(e)._get(n));return yield kr(e)._remove(n),r})).apply(this,arguments)}function Cr(e,t){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,r.Z)(function*(e,t){return kr(e)._set(xr(t),"true")})).apply(this,arguments)}function kr(e){return b(e._redirectPersistence)}function xr(e){return le("pendingRedirect",e.config.apiKey,e.name)}function Nr(){return(Nr=(0,r.Z)(function*(e,t,n){const r=Ee(e);y(t instanceof at,e,"argument-error");const i=hr(r,n);return yield Cr(i,r),i._openRedirect(r,t,"signInViaRedirect")})).apply(this,arguments)}function Or(){return(Or=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);y(t instanceof at,r.auth,"argument-error");const i=hr(r.auth,n);yield Cr(i,r.auth);const o=yield Mr(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)})).apply(this,arguments)}function Dr(){return(Dr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);y(t instanceof at,r.auth,"argument-error");const i=hr(r.auth,n);yield Ct(!1,r,t.providerId),yield Cr(i,r.auth);const o=yield Mr(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)})).apply(this,arguments)}function Rr(){return(Rr=(0,r.Z)(function*(e,t){return yield Ee(e)._initializationPromise,Pr(e,t,!1)})).apply(this,arguments)}function Pr(e,t){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,r.Z)(function*(e,t,n=!1){const r=Ee(e),i=hr(r,t),s=new Er(r,i,n),o=yield s.execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,t)),o})).apply(this,arguments)}function Mr(e){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,r.Z)(function*(e){const t=An(`${e.uid}:::`);return e._redirectEventId=t,yield e.auth._setRedirectUser(e),yield e.auth._persistUserIfCurrent(e),t})).apply(this,arguments)}class Ur{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jr(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!jr(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(g(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vr(e))}saveEventToCache(e){this.cachedEventUids.add(Vr(e)),this.lastProcessedEventTime=Date.now()}}function Vr(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function jr({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}function qr(e){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,r.Z)(function*(e,t={}){return O(e,"GET","/v1/projects",t)})).apply(this,arguments)}const zr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Br=/^https?/;function $r(){return($r=(0,r.Z)(function*(e){if(e.config.emulator)return;const{authorizedDomains:t}=yield qr(e);for(const r of t)try{if(Hr(r))return}catch(n){}p(e,"unauthorized-domain")})).apply(this,arguments)}function Hr(e){const t=I(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Br.test(n))return!1;if(zr.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Gr=new S(3e4,6e4);function Kr(){const e=xn().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Wr=null;function Yr(e){return Wr=Wr||function(e){return new Promise((t,n)=>{var r,i,s;function o(){Kr(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Kr(),n(g(e,"network-request-failed"))},timeout:Gr.get()})}if(null===(i=null===(r=xn().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=xn().gapi)||void 0===s?void 0:s.load)){const t=Hn("iframefcb");return xn()[t]=()=>{gapi.load?o():n(g(e,"network-request-failed"))},$n(`https://apis.google.com/js/api.js?onload=${t}`)}o()}}).catch(e=>{throw Wr=null,e})}(e),Wr}const Qr=new S(5e3,15e3),Jr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},Xr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ei(e){const t=e.config;y(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?C(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:o.SDK_VERSION},i=Xr.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${(0,s.xO)(r).slice(1)}`}function ti(){return(ti=(0,r.Z)(function*(e){const t=yield Yr(e),n=xn().gapi;return y(n,e,"internal-error"),t.open({where:document.body,url:ei(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Jr,dontclear:!0},t=>new Promise(function(){var n=(0,r.Z)(function*(n,r){yield t.restyle({setHideOnLeave:!1});const i=g(e,"network-request-failed"),s=xn().setTimeout(()=>{r(i)},Qr.get());function o(){xn().clearTimeout(s),n(t)}t.ping(o).then(o,()=>{r(i)})});return function(e,t){return n.apply(this,arguments)}}()))})).apply(this,arguments)}const ni={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ri{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function ii(e,t,n,r,i,a){y(e.config.authDomain,e,"auth-domain-config-required"),y(e.config.apiKey,e,"invalid-api-key");const u={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:o.SDK_VERSION,eventId:i};if(t instanceof at){t.setDefaultLanguage(e.languageCode),u.providerId=t.providerId||"",(0,s.xb)(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))u[e]=t}if(t instanceof ut){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(u.scopes=e.join(","))}e.tenantId&&(u.tid=e.tenantId);const c=u;for(const s of Object.keys(c))void 0===c[s]&&delete c[s];return`${function({config:e}){return e.emulator?C(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${(0,s.xO)(c).slice(1)}`}const si="webStorageSupport";class oi extends class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return v("unexpected MultiFactorSessionType")}}}{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new oi(e)}_finalizeEnroll(e,t,n){return function(e,t){return O(e,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:e.tenantId},t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return O(e,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:e.tenantId},t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}var ai;class ui{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,r.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ci(){return window}function li(){return(li=(0,r.Z)(function*(e,t,n){var r;const{BuildInfo:i}=ci();_(t.sessionId,"AuthEvent did not contain a session ID");const s=yield fi(t.sessionId),o={};return we()?o.ibi=i.packageName:ye()?o.apn=i.packageName:p(e,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,ii(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,o)})).apply(this,arguments)}function hi(){return(hi=(0,r.Z)(function*(e){const{BuildInfo:t}=ci(),n={};we()?n.iosBundleId=t.packageName:ye()?n.androidPackageName=t.packageName:p(e,"operation-not-supported-in-this-environment"),yield qr(e,n)})).apply(this,arguments)}function di(){return(di=(0,r.Z)(function*(e,t,n){const{cordova:r}=ci();let i=()=>{};try{yield new Promise((s,o)=>{let a=null;function u(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"==typeof t&&t(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function c(){a||(a=window.setTimeout(()=>{o(g(e,"redirect-cancelled-by-user"))},2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(u),document.addEventListener("resume",c,!1),ye()&&document.addEventListener("visibilitychange",l,!1),i=()=>{t.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),a&&window.clearTimeout(a)}})}finally{i()}})).apply(this,arguments)}function fi(e){return pi.apply(this,arguments)}function pi(){return(pi=(0,r.Z)(function*(e){const t=gi(e),n=yield crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function gi(e){if(_(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}ai="Browser",(0,o._registerComponent)(new c.wA("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),{apiKey:r,authDomain:i}=n.options;return(e=>{y(r&&!r.includes(":"),"invalid-api-key",{appName:e.name}),y(!(null==i?void 0:i.includes(":")),"argument-error",{appName:e.name});const n={apiKey:r,authDomain:i,clientPlatform:ai,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ie(ai)},s=new Te(e,n);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(b);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(s,t),s})(n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,o._registerComponent)(new c.wA("auth-internal",e=>{return t=Ee(e.getProvider("auth").getImmediate()),new ui(t);var t},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,o.registerVersion)("@firebase/auth","0.17.1",void 0);class mi extends Ur{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}initialized(){var e=this;return(0,r.Z)(function*(){yield e.initPromise})()}}function yi(e){return vi.apply(this,arguments)}function vi(){return(vi=(0,r.Z)(function*(e){const t=yield wi()._get(bi(e));return t&&(yield wi()._remove(bi(e))),t})).apply(this,arguments)}function _i(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(Math.random()*t.length);e.push(t.charAt(n))}return e.join("")}function wi(){return b(En)}function bi(e){return le("authEvent",e.config.apiKey,e.name)}function Ii(e){if(!(null==e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return(0,s.zd)(n.join("?"))}function Ti(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:g("no-auth-event")}}function Ei(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Si(e=(0,s.z$)()){return!("file:"!==Ei()&&"ionic:"!==Ei()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ci(){try{const e=self.localStorage,t=An();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(e=(0,s.z$)()){return(0,s.w1)()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(e=(0,s.z$)()){return/Edge\/\d+/.test(e)}(e)}()||(0,s.hl)()}catch(e){return Ai()&&(0,s.hl)()}return!1}function Ai(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function ki(){return("http:"===Ei()||"https:"===Ei()||(0,s.ru)()||Si())&&!((0,s.b$)()||(0,s.UG)())&&Ci()&&!Ai()}function xi(){return Si()&&"undefined"!=typeof document}function Ni(){return(Ni=(0,r.Z)(function*(){return!!xi()&&new Promise(e=>{const t=setTimeout(()=>{e(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(t),e(!0)})})})).apply(this,arguments)}const Oi={LOCAL:"local",NONE:"none",SESSION:"session"},Di=y,Ri="persistence";function Pi(e){return Li.apply(this,arguments)}function Li(){return(Li=(0,r.Z)(function*(e){yield e._initializationPromise;const t=Mi(),n=le(Ri,e.config.apiKey,e.name);(null==t?void 0:t.sessionStorage)&&t.sessionStorage.setItem(n,e._getPersistence())})).apply(this,arguments)}function Mi(){return"undefined"!=typeof window?window:null}const Fi=y;class Ui{constructor(){this.browserResolver=b(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sn,this._completeRedirectFn=Pr}_openPopup(e,t,n,i){var o=this;return(0,r.Z)(function*(){var r;_(null===(r=o.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");const a=ii(e,t,n,I(),i);return function(e,t,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c=Object.assign(Object.assign({},ni),{width:r.toString(),height:i.toString(),top:o,left:a}),l=(0,s.z$)().toLowerCase();n&&(u=ge(l)?"_blank":n),fe(l)&&(t=t||"http://localhost",c.scrollbars="yes");const h=Object.entries(c).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=(0,s.z$)()){var t;return we(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(l)&&"_self"!==u)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new ri(null);const d=window.open(t||"",u,h);y(d,e,"popup-blocked");try{d.focus()}catch(f){}return new ri(d)}(e,a,An())})()}_openRedirect(e,t,n,i){var s=this;return(0,r.Z)(function*(){var r;return yield s._originValidation(e),r=ii(e,t,n,I(),i),xn().location.href=r,new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(_(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n}initAndGetManager(e){var t=this;return(0,r.Z)(function*(){const n=yield function(e){return ti.apply(this,arguments)}(e),r=new Ur(e);return n.register("authEvent",t=>(y(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:r.onEvent(t.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:r},t.iframes[e._key()]=n,r})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(si,{type:si},n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),p(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return $r.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return be()||pe()||we()}}),this.cordovaResolver=b(class{constructor(){this._redirectPersistence=Sn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Pr}_initialize(e){var t=this;return(0,r.Z)(function*(){const n=e._key();let r=t.eventManagers.get(n);return r||(r=new mi(e),t.eventManagers.set(n,r),t.attachCallbackListeners(e,r)),r})()}_openPopup(e){p(e,"operation-not-supported-in-this-environment")}_openRedirect(e,t,n,i){var o=this;return(0,r.Z)(function*(){!function(e){var t,n,r,i,s,o,a,u,c,l;const h=ci();y("function"==typeof(null===(t=null==h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),y(void 0!==(null===(n=null==h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),y("function"==typeof(null===(s=null===(i=null===(r=null==h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),y("function"==typeof(null===(u=null===(a=null===(o=null==h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),y("function"==typeof(null===(l=null===(c=null==h?void 0:h.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const r=yield o._initialize(e);yield r.initialized(),r.resetRedirect(),Tr.clear(),yield o._originValidation(e);const a=function(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:_i(),postBody:null,tenantId:e.tenantId,error:g(e,"no-auth-event")}}(e,n,i);yield function(e,t){return wi()._set(bi(e),t)}(e,a);const u=yield function(e,t,n){return li.apply(this,arguments)}(e,a,t),c=yield function(e){const{cordova:t}=ci();return new Promise(n=>{t.plugins.browsertab.isAvailable(r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(e=(0,s.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)})})}(u);return function(e,t,n){return di.apply(this,arguments)}(e,r,c)})()}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return hi.apply(this,arguments)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:i,BuildInfo:s}=ci(),o=setTimeout((0,r.Z)(function*(){yield yi(e),t.onEvent(Ti())}),500),a=function(){var n=(0,r.Z)(function*(n){clearTimeout(o);const r=yield yi(e);let i=null;r&&(null==n?void 0:n.url)&&(i=function(e,t){var n,r;const i=function(e){const t=Ii(e),n=t.link?decodeURIComponent(t.link):void 0,r=Ii(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Ii(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=Ii(i),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,o=null===(r=null===(n=null==s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=o?g(o):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}(r,n.url)),t.onEvent(i||Ti())});return function(e){return n.apply(this,arguments)}}();void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,a);const u=i,c=`${s.packageName.toLowerCase()}://`;ci().handleOpenURL=function(){var e=(0,r.Z)(function*(e){if(e.toLowerCase().startsWith(c)&&a({url:e}),"function"==typeof u)try{u(e)}catch(t){console.error(t)}});return function(t){return e.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Sn,this._completeRedirectFn=Pr}_initialize(e){var t=this;return(0,r.Z)(function*(){return yield t.selectUnderlyingResolver(),t.assertedUnderlyingResolver._initialize(e)})()}_openPopup(e,t,n,i){var s=this;return(0,r.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openPopup(e,t,n,i)})()}_openRedirect(e,t,n,i){var s=this;return(0,r.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openRedirect(e,t,n,i)})()}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return xi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Fi(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var e=this;return(0,r.Z)(function*(){if(e.underlyingResolver)return;const t=yield function(){return Ni.apply(this,arguments)}();e.underlyingResolver=t?e.cordovaResolver:e.browserResolver})()}}function Vi(e){return e.unwrap()}function ji(e){return Zi(e)}function qi(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new Gi(e,function(e,t){var n;const r=(0,s.m9)(e),i=t;return y(t.operationType,r,"argument-error"),y(null===(n=i.serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),vn._fromError(r,i)}(e,t));else if(r){const e=Zi(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function Zi(e){const{_tokenResponse:t}=e instanceof s.ZR?e.customData:e;if(!t)return null;if(!(e instanceof s.ZR)&&"temporaryProof"in t&&"phoneNumber"in t)return lr.credentialFromResult(e);const n=t.providerId;if(!n||"password"===n)return null;let r;switch(n){case"google.com":r=ht;break;case"facebook.com":r=lt;break;case"github.com":r=dt;break;case"twitter.com":r=pt;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:a}=t;return i||s||e||o?o?n.startsWith("saml.")?ft._create(n,o):Qe._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:i}):new ct(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof s.ZR?r.credentialFromError(e):r.credentialFromResult(e)}function zi(e,t){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,r.Z)(function*(e,t){let n;try{n=yield t}catch(o){throw o instanceof s.ZR&&qi(e,o),o}const{operationType:r,user:i}=n;return{operationType:r,credential:ji(n),additionalUserInfo:mn(n),user:Ki.getOrCreate(i)}})).apply(this,arguments)}function $i(e,t){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,r.Z)(function*(e,t){const n=yield t;return{verificationId:n.verificationId,confirm:t=>zi(e,n.confirm(t))}})).apply(this,arguments)}class Gi{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return zi(Vi(this.auth),this.resolver.resolveSignIn(e))}}let Ki=(()=>{class e{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=(0,s.m9)(e);return bn.has(t)||bn.set(t,wn._fromUser(t)),bn.get(t)}(e)}static getOrCreate(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}linkWithCredential(e){var t=this;return(0,r.Z)(function*(){return zi(t.auth,Pt(t._delegate,e))})()}linkWithPhoneNumber(e,t){var n=this;return(0,r.Z)(function*(){return $i(n.auth,function(e,t,n){return sr.apply(this,arguments)}(n._delegate,e,t))})()}linkWithPopup(e){var t=this;return(0,r.Z)(function*(){return zi(t.auth,function(e,t,n){return br.apply(this,arguments)}(t._delegate,e,Ui))})()}linkWithRedirect(e){var t=this;return(0,r.Z)(function*(){return yield Pi(Ee(t.auth)),function(e,t,n){return function(e,t,n){return Dr.apply(this,arguments)}(e,t,n)}(t._delegate,e,Ui)})()}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}reauthenticateWithCredential(e){var t=this;return(0,r.Z)(function*(){return zi(t.auth,Mt(t._delegate,e))})()}reauthenticateWithPhoneNumber(e,t){return $i(this.auth,function(e,t,n){return or.apply(this,arguments)}(this._delegate,e,t))}reauthenticateWithPopup(e){return zi(this.auth,function(e,t,n){return wr.apply(this,arguments)}(this._delegate,e,Ui))}reauthenticateWithRedirect(e){var t=this;return(0,r.Z)(function*(){return yield Pi(Ee(t.auth)),function(e,t,n){return function(e,t,n){return Or.apply(this,arguments)}(e,t,n)}(t._delegate,e,Ui)})()}sendEmailVerification(e){return function(e,t){return nn.apply(this,arguments)}(this._delegate,e)}unlink(e){var t=this;return(0,r.Z)(function*(){return yield function(e,t){return Tt.apply(this,arguments)}(t._delegate,e),t})()}updateEmail(e){return function(e,t){return un((0,s.m9)(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return un((0,s.m9)(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return function(e,t){return cr.apply(this,arguments)}(this._delegate,e)}updateProfile(e){return function(e,t){return an.apply(this,arguments)}(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return function(e,t,n){return rn.apply(this,arguments)}(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}return e.USER_MAP=new WeakMap,e})();const Wi=y;let Yi=(()=>{class e{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;Wi(n,"invalid-api-key",{appName:e.name});let r=[ce];if("undefined"!=typeof window){r=function(e,t){const n=Mi();if(!(null==n?void 0:n.sessionStorage))return[];const r=le(Ri,e,t);switch(n.sessionStorage.getItem(r)){case Oi.NONE:return[ce];case Oi.LOCAL:return[Zn,Sn];case Oi.SESSION:return[Sn];default:return[]}}(n,e.name);for(const e of[Zn,En,Sn])r.includes(e)||r.push(e)}Wi(n,"invalid-api-key",{appName:e.name});const i="undefined"!=typeof window?Ui:void 0;this._delegate=t.initialize({options:{persistence:r,popupRedirectResolver:i}}),this._delegate._updateErrorMap(l),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ki.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){!function(e,t,n){const r=Ee(e);y(r._canInitEmulator,r,"emulator-config-failed"),y(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),s=Ce(t),{host:o,port:a}=function(e){const t=Ce(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Ae(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ae(t)}}}(t);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),function(e){function t(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"==typeof window||"undefined"==typeof document||e||("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}(i)}(this._delegate,e,t)}applyActionCode(e){return function(e,t){return Ht.apply(this,arguments)}(this._delegate,e)}checkActionCode(e){return Gt(this._delegate,e)}confirmPasswordReset(e,t){return function(e,t,n){return $t.apply(this,arguments)}(this._delegate,e,t)}createUserWithEmailAndPassword(e,t){var n=this;return(0,r.Z)(function*(){return zi(n._delegate,function(e,t,n){return Yt.apply(this,arguments)}(n._delegate,e,t))})()}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return function(e,t){return tn.apply(this,arguments)}(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=st.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}(0,e)}getRedirectResult(){var e=this;return(0,r.Z)(function*(){Wi(ki(),e._delegate,"operation-not-supported-in-this-environment");const t=yield function(e,t){return Rr.apply(this,arguments)}(e._delegate,Ui);return t?zi(e._delegate,Promise.resolve(t)):{credential:null,user:null}})()}addFrameworkForLogging(e){!function(e,t){Ee(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=Qi(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=Qi(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return function(e,t,n){return Qt.apply(this,arguments)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return function(e,t,n){return Bt.apply(this,arguments)}(this._delegate,e,t||void 0)}setPersistence(e){var t=this;return(0,r.Z)(function*(){let n;switch(function(e,t){Di(Object.values(Oi).includes(t),e,"invalid-persistence-type"),(0,s.b$)()?Di(t!==Oi.SESSION,e,"unsupported-persistence-type"):(0,s.UG)()?Di(t===Oi.NONE,e,"unsupported-persistence-type"):Ai()?Di(t===Oi.NONE||t===Oi.LOCAL&&(0,s.hl)(),e,"unsupported-persistence-type"):Di(t===Oi.NONE||Ci(),e,"unsupported-persistence-type")}(t._delegate,e),e){case Oi.SESSION:n=Sn;break;case Oi.LOCAL:n=(yield b(Zn)._isAvailable())?Zn:En;break;case Oi.NONE:n=ce;break;default:return p("argument-error",{appName:t._delegate.name})}return t._delegate.setPersistence(n)})()}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return zi(this._delegate,function(e){return _t.apply(this,arguments)}(this._delegate))}signInWithCredential(e){return zi(this._delegate,Dt(this._delegate,e))}signInWithCustomToken(e){return zi(this._delegate,function(e,t){return jt.apply(this,arguments)}(this._delegate,e))}signInWithEmailAndPassword(e,t){return zi(this._delegate,function(e,t,n){return Dt((0,s.m9)(e),ot.credential(t,n))}(this._delegate,e,t))}signInWithEmailLink(e,t){return zi(this._delegate,function(e,t,n){return Jt.apply(this,arguments)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return $i(this._delegate,function(e,t,n){return ir.apply(this,arguments)}(this._delegate,e,t))}signInWithPopup(e){var t=this;return(0,r.Z)(function*(){return Wi(ki(),t._delegate,"operation-not-supported-in-this-environment"),zi(t._delegate,function(e,t,n){return _r.apply(this,arguments)}(t._delegate,e,Ui))})()}signInWithRedirect(e){var t=this;return(0,r.Z)(function*(){return Wi(ki(),t._delegate,"operation-not-supported-in-this-environment"),yield Pi(t._delegate),function(e,t,n){return function(e,t,n){return Nr.apply(this,arguments)}(e,t,n)}(t._delegate,e,Ui)})()}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return function(e,t){return Wt.apply(this,arguments)}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return e.Persistence=Oi,e})();function Qi(e,t,n){let r=e;"function"!=typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&Ki.getOrCreate(e)),error:t,complete:n}}let Ji=(()=>{class e{constructor(){this.providerId="phone",this._delegate=new lr(Vi(i.Z.auth()))}static credential(e,t){return lr.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}return e.PHONE_SIGN_IN_METHOD=lr.PHONE_SIGN_IN_METHOD,e.PROVIDER_ID=lr.PROVIDER_ID,e})();const Xi=y;var es;(es=i.Z).INTERNAL.registerComponent(new c.wA("auth-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Yi(t,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ot,FacebookAuthProvider:lt,GithubAuthProvider:dt,GoogleAuthProvider:ht,OAuthProvider:ct,PhoneAuthProvider:Ji,PhoneMultiFactorGenerator:class{constructor(){}static assertion(e){return oi._fromCredential(e)}},RecaptchaVerifier:class{constructor(e,t,n=i.Z.app()){var r;Xi(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new nr(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:pt,Auth:Yi,AuthCredential:ke,Error:s.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),es.registerVersion("@firebase/auth-compat","0.1.1")},8318:(e,t,n)=>{"use strict";n.d(t,{y:()=>c});var r=n(6673),i=n(5331),s=n(7498),o=n(6197),a=n(3392),u=n(1484);let c=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:o}=this,a=function(e,t,n){if(e){if(e instanceof r.L)return e;if(e[i.b])return e[i.b]()}return e||t||n?new r.L(e,t,n):new r.L(s.c)}(e,t,n);if(a.add(o?o.call(a,this.source):this.source||u.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(e){try{return this._subscribe(e)}catch(t){u.v.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:i}=e;if(t||i)return!1;e=n&&n instanceof r.L?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=l(t))((t,n)=>{let r;r=this.subscribe(t=>{try{e(t)}catch(i){n(i),r&&r.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[o.L](){return this}pipe(...e){return 0===e.length?this:(0===(t=e).length?a.y:1===t.length?t[0]:function(e){return t.reduce((e,t)=>t(e),e)})(this);var t}toPromise(e){return new(e=l(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function l(e){if(e||(e=u.v.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},7498:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});var r=n(1484),i=n(4294);const s={closed:!0,next(e){},error(e){if(r.v.useDeprecatedSynchronousErrorHandling)throw e;(0,i.z)(e)},complete(){}}},5959:(e,t,n)=>{"use strict";n.d(t,{Yc:()=>c,xQ:()=>l});var r=n(8318),i=n(6673),s=n(7570),o=n(3895),a=n(9291),u=n(5331);class c extends i.L{constructor(e){super(e),this.destination=e}}let l=(()=>{class e extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.b](){return new c(this)}lift(e){const t=new h(this,this);return t.operator=e,t}next(e){if(this.closed)throw new o.N;if(!this.isStopped){const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].next(e)}}error(e){if(this.closed)throw new o.N;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].error(e);this.observers.length=0}complete(){if(this.closed)throw new o.N;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let r=0;r<t;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new o.N;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new o.N;return this.hasError?(e.error(this.thrownError),s.w.EMPTY):this.isStopped?(e.complete(),s.w.EMPTY):(this.observers.push(e),new a.W(this,e))}asObservable(){const e=new r.y;return e.source=this,e}}return e.create=(e,t)=>new h(e,t),e})();class h extends l{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):s.w.EMPTY}}},9291:(e,t,n)=>{"use strict";n.d(t,{W:()=>i});var r=n(7570);class i extends r.w{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},6673:(e,t,n)=>{"use strict";n.d(t,{L:()=>c});var r=n(5024),i=n(7498),s=n(7570),o=n(5331),a=n(1484),u=n(4294);class c extends s.w{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.c;break;case 1:if(!e){this.destination=i.c;break}if("object"==typeof e){e instanceof c?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,e,t,n)}}[o.b](){return this}static create(e,t,n){const r=new c(e,t,n);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class l extends c{constructor(e,t,n,s){let o;super(),this._parentSubscriber=e;let a=this;(0,r.m)(t)?o=t:t&&(o=t.next,n=t.error,s=t.complete,t!==i.c&&(a=Object.create(t),(0,r.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):(0,u.z)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;(0,u.z)(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,u.z)(n)}}__tryOrSetError(e,t,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return a.v.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):((0,u.z)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}},7570:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});var r=n(8470),i=n(2056),s=n(5024);const o=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();let a=(()=>{class e{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(let e=0;e<n.length;++e)n[e].remove(this);if((0,s.m)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){t=h instanceof o?u(h.errors):[h]}}if((0,r.k)(l)){let e=-1,n=l.length;for(;++e<n;){const n=l[e];if((0,i.K)(n))try{n.unsubscribe()}catch(h){t=t||[],h instanceof o?t=t.concat(u(h.errors)):t.push(h)}}}if(t)throw new o(t)}add(t){let n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){const t=n;n=new e,n._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof e){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}var t;return e.EMPTY=((t=new e).closed=!0,t),e})();function u(e){return e.reduce((e,t)=>e.concat(t instanceof o?t.errors:t),[])}},1484:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},6882:(e,t,n)=>{"use strict";n.d(t,{IY:()=>o,Ds:()=>a,ft:()=>u});var r=n(6673),i=n(8318),s=n(6015);class o extends r.L{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.L{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function u(e,t){if(t.closed)return;if(e instanceof i.y)return e.subscribe(t);let n;try{n=(0,s.s)(e)(t)}catch(r){t.error(r)}return n}},2875:(e,t,n)=>{"use strict";n.d(t,{c:()=>a,N:()=>u});var r=n(5959),i=n(8318),s=n(7570),o=n(1564);class a extends i.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new s.w,e.add(this.source.subscribe(new c(this.getSubject(),this))),e.closed&&(this._connection=null,e=s.w.EMPTY)),e}refCount(){return(0,o.x)()(this)}}const u=(()=>{const e=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class c extends r.Yc{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}},7930:(e,t,n)=>{"use strict";n.d(t,{z:()=>s});var r=n(878),i=n(7471);function s(...e){return(0,i.J)(1)((0,r.of)(...e))}},653:(e,t,n)=>{"use strict";n.d(t,{E:()=>i,c:()=>s});var r=n(8318);const i=new r.y(e=>e.complete());function s(e){return e?function(e){return new r.y(t=>e.schedule(()=>t.complete()))}(e):i}},9764:(e,t,n)=>{"use strict";n.d(t,{D:()=>h});var r=n(8318),i=n(6015),s=n(7570),o=n(6197),a=n(2570),u=n(5686),c=n(5168),l=n(9653);function h(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[o.L]}(e))return function(e,t){return new r.y(n=>{const r=new s.w;return r.add(t.schedule(()=>{const i=e[o.L]();r.add(i.subscribe({next(e){r.add(t.schedule(()=>n.next(e)))},error(e){r.add(t.schedule(()=>n.error(e)))},complete(){r.add(t.schedule(()=>n.complete()))}}))})),r})}(e,t);if((0,c.t)(e))return function(e,t){return new r.y(n=>{const r=new s.w;return r.add(t.schedule(()=>e.then(e=>{r.add(t.schedule(()=>{n.next(e),r.add(t.schedule(()=>n.complete()))}))},e=>{r.add(t.schedule(()=>n.error(e)))}))),r})}(e,t);if((0,l.z)(e))return(0,a.r)(e,t);if(function(e){return e&&"function"==typeof e[u.hZ]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.y(n=>{const r=new s.w;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(t.schedule(()=>{i=e[u.hZ](),r.add(t.schedule(function(){if(n.closed)return;let e,t;try{const n=i.next();e=n.value,t=n.done}catch(r){return void n.error(r)}t?n.complete():(n.next(e),this.schedule())}))})),r})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof r.y?e:new r.y((0,i.s)(e))}},9342:(e,t,n)=>{"use strict";n.d(t,{n:()=>o});var r=n(8318),i=n(625),s=n(2570);function o(e,t){return t?(0,s.r)(e,t):new r.y((0,i.V)(e))}},1906:(e,t,n)=>{"use strict";n.d(t,{T:()=>a});var r=n(8318),i=n(6163),s=n(7471),o=n(9342);function a(...e){let t=Number.POSITIVE_INFINITY,n=null,a=e[e.length-1];return(0,i.K)(a)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof a&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof r.y?e[0]:(0,s.J)(t)((0,o.n)(e,n))}},878:(e,t,n)=>{"use strict";n.d(t,{of:()=>o});var r=n(6163),i=n(9342),s=n(2570);function o(...e){let t=e[e.length-1];return(0,r.K)(t)?(e.pop(),(0,s.r)(e,t)):(0,i.n)(e)}},7768:(e,t,n)=>{"use strict";n.d(t,{d:()=>i});var r=n(6673);function i(e=null){return t=>t.lift(new s(e))}class s{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new o(e,this.defaultValue))}}class o extends r.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},3835:(e,t,n)=>{"use strict";n.d(t,{h:()=>i});var r=n(6673);function i(e,t){return function(n){return n.lift(new s(e,t))}}class s{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new o(e,this.predicate,this.thisArg))}}class o extends r.L{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}},3530:(e,t,n)=>{"use strict";n.d(t,{P:()=>c});var r=n(9665),i=n(3835),s=n(611),o=n(7768),a=n(790),u=n(3392);function c(e,t){const n=arguments.length>=2;return c=>c.pipe(e?(0,i.h)((t,n)=>e(t,n,c)):u.y,(0,s.q)(1),n?(0,o.d)(t):(0,a.T)(()=>new r.K))}},9996:(e,t,n)=>{"use strict";n.d(t,{U:()=>i});var r=n(6673);function i(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(e,t))}}class s{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new o(e,this.project,this.thisArg))}}class o extends r.L{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}},7471:(e,t,n)=>{"use strict";n.d(t,{J:()=>s});var r=n(3982),i=n(3392);function s(e=Number.POSITIVE_INFINITY){return(0,r.zg)(i.y,e)}},3982:(e,t,n)=>{"use strict";n.d(t,{zg:()=>o});var r=n(9996),i=n(9764),s=n(6882);function o(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?s=>s.pipe(o((n,s)=>(0,i.D)(e(n,s)).pipe((0,r.U)((e,r)=>t(n,e,s,r))),n)):("number"==typeof t&&(n=t),t=>t.lift(new a(e,n)))}class a{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new u(e,this.project,this.concurrent))}}class u extends s.Ds{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)}_innerSub(e){const t=new s.IY(this),n=this.destination;n.add(t);const r=(0,s.ft)(e,t);r!==t&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9098:(e,t,n)=>{"use strict";n.d(t,{ht:()=>l,QV:()=>u});var r=n(6673),i=n(653),s=n(878),o=n(8318);let a=(()=>{class e{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return(0,s.of)(this.value);case"E":return e=this.error,new o.y(t=>t.error(e));case"C":return(0,i.c)()}var e;throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}static createError(t){return new e("E",void 0,t)}static createComplete(){return e.completeNotification}}return e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e})();function u(e,t=0){return function(n){return n.lift(new c(e,t))}}class c{constructor(e,t=0){this.scheduler=e,this.delay=t}call(e,t){return t.subscribe(new l(e,this.scheduler,this.delay))}}class l extends r.L{constructor(e,t,n=0){super(e),this.scheduler=t,this.delay=n}static dispatch(e){const{notification:t,destination:n}=e;t.observe(n),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(e,this.destination)))}_next(e){this.scheduleMessage(a.createNext(e))}_error(e){this.scheduleMessage(a.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(e,t){this.notification=e,this.destination=t}}},1564:(e,t,n)=>{"use strict";n.d(t,{x:()=>i});var r=n(6673);function i(){return function(e){return e.lift(new s(e))}}class s{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const r=new o(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.L{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},2023:(e,t,n)=>{"use strict";n.d(t,{R:()=>i});var r=n(6673);function i(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new s(e,t,n))}}class s{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new o(e,this.accumulator,this.seed,this.hasSeed))}}class o extends r.L{constructor(e,t,n,r){super(e),this.accumulator=t,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}},6238:(e,t,n)=>{"use strict";n.d(t,{O:()=>s});var r=n(7930),i=n(6163);function s(...e){const t=e[e.length-1];return(0,i.K)(t)?(e.pop(),n=>(0,r.z)(e,n,t)):t=>(0,r.z)(e,t)}},4187:(e,t,n)=>{"use strict";n.d(t,{R:()=>m});var r=n(8318);let i=1;const s=(()=>Promise.resolve())(),o={};function a(e){return e in o&&(delete o[e],!0)}const u={setImmediate(e){const t=i++;return o[t]=!0,s.then(()=>a(t)&&e()),t},clearImmediate(e){a(e)}};var c=n(8277);class l extends c.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=u.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(u.clearImmediate(t),e.scheduled=void 0)}}var h=n(1098);class d extends h.v{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,r=-1,i=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++r<i&&(e=t.shift()));if(this.active=!1,n){for(;++r<i&&(e=t.shift());)e.unsubscribe();throw n}}}const f=new d(l);var p=n(8470);class g extends r.y{constructor(e,t=0,n=f){var r;super(),this.source=e,this.delayTime=t,this.scheduler=n,((0,p.k)(r=t)||!(r-parseFloat(r)+1>=0)||t<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=f)}static create(e,t=0,n=f){return new g(e,t,n)}static dispatch(e){const{source:t,subscriber:n}=e;return this.add(t.subscribe(n))}_subscribe(e){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:e})}}function m(e,t=0){return function(n){return n.lift(new y(e,t))}}class y{constructor(e,t){this.scheduler=e,this.delay=t}call(e,t){return new g(t,this.delay,this.scheduler).subscribe(e)}}},4689:(e,t,n)=>{"use strict";n.d(t,{w:()=>o});var r=n(9996),i=n(9764),s=n(6882);function o(e,t){return"function"==typeof t?n=>n.pipe(o((n,s)=>(0,i.D)(e(n,s)).pipe((0,r.U)((e,r)=>t(n,e,s,r))))):t=>t.lift(new a(e))}class a{constructor(e){this.project=e}call(e,t){return t.subscribe(new u(e,this.project))}}class u extends s.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const n=new s.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,s.ft)(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}},611:(e,t,n)=>{"use strict";n.d(t,{q:()=>o});var r=n(6673),i=n(8402),s=n(653);function o(e){return t=>0===e?(0,s.c)():t.lift(new a(e))}class a{constructor(e){if(this.total=e,this.total<0)throw new i.W}call(e,t){return t.subscribe(new u(e,this.total))}}class u extends r.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}},6599:(e,t,n)=>{"use strict";n.d(t,{b:()=>o});var r=n(6673);function i(){}var s=n(5024);function o(e,t,n){return function(r){return r.lift(new a(e,t,n))}}class a{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new u(e,this.nextOrObserver,this.error,this.complete))}}class u extends r.L{constructor(e,t,n,r){super(e),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,(0,s.m)(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||i,this._tapError=t.error||i,this._tapComplete=t.complete||i)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}},790:(e,t,n)=>{"use strict";n.d(t,{T:()=>s});var r=n(9665),i=n(6673);function s(e=u){return t=>t.lift(new o(e))}class o{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new a(e,this.errorFactory))}}class a extends i.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function u(){return new r.K}},2570:(e,t,n)=>{"use strict";n.d(t,{r:()=>s});var r=n(8318),i=n(7570);function s(e,t){return new r.y(n=>{const r=new i.w;let s=0;return r.add(t.schedule(function(){s!==e.length?(n.next(e[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},8277:(e,t,n)=>{"use strict";n.d(t,{o:()=>s});var r=n(7570);class i extends r.w{constructor(e,t){super()}schedule(e,t=0){return this}}class s extends i{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n,r=!1;try{this.work(e)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}},1098:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});let r=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class i extends r{constructor(e,t=r.now){super(e,()=>i.delegate&&i.delegate!==this?i.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}},8569:(e,t,n)=>{"use strict";n.d(t,{z:()=>i});var r=n(8277);const i=new(n(1098).v)(r.o)},8489:(e,t,n)=>{"use strict";n.d(t,{c:()=>u,N:()=>a});var r=n(8277);class i extends r.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}}var s=n(1098);class o extends s.v{}const a=new o(i),u=a},5686:(e,t,n)=>{"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(t,{hZ:()=>i});const i=r()},6197:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},5331:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},8402:(e,t,n)=>{"use strict";n.d(t,{W:()=>r});const r=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})()},9665:(e,t,n)=>{"use strict";n.d(t,{K:()=>r});const r=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})()},3895:(e,t,n)=>{"use strict";n.d(t,{N:()=>r});const r=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})()},4294:(e,t,n)=>{"use strict";function r(e){setTimeout(()=>{throw e},0)}n.d(t,{z:()=>r})},3392:(e,t,n)=>{"use strict";function r(e){return e}n.d(t,{y:()=>r})},8470:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});const r=(()=>Array.isArray||(e=>e&&"number"==typeof e.length))()},9653:(e,t,n)=>{"use strict";n.d(t,{z:()=>r});const r=e=>e&&"number"==typeof e.length&&"function"!=typeof e},5024:(e,t,n)=>{"use strict";function r(e){return"function"==typeof e}n.d(t,{m:()=>r})},2056:(e,t,n)=>{"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,{K:()=>r})},5168:(e,t,n)=>{"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,{t:()=>r})},6163:(e,t,n)=>{"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,{K:()=>r})},6015:(e,t,n)=>{"use strict";n.d(t,{s:()=>l});var r=n(625),i=n(4294),s=n(5686),o=n(6197),a=n(9653),u=n(5168),c=n(2056);const l=e=>{if(e&&"function"==typeof e[o.L])return l=e,e=>{const t=l[o.L]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if((0,a.z)(e))return(0,r.V)(e);if((0,u.t)(e))return n=e,e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,i.z),e);if(e&&"function"==typeof e[s.hZ])return t=e,e=>{const n=t[s.hZ]();for(;;){let t;try{t=n.next()}catch(r){return e.error(r),e}if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e};{const t=(0,c.K)(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var t,n,l}},625:(e,t,n)=>{"use strict";n.d(t,{V:()=>r});const r=e=>t=>{for(let n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}},2471:(e,t,n)=>{"use strict";var r=n(1116),i=n(7368);class s extends r.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class o extends s{static makeCurrent(){(0,r.HT)(new o)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(u=u||document.querySelector("base"),u?u.getAttribute("href"):null);return null==t?null:function(e){a=a||document.createElement("a"),a.setAttribute("href",e);const t=a.pathname;return"/"===t.charAt(0)?t:`/${t}`}(t)}resetBaseElement(){u=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return(0,r.Mx)(document.cookie,e)}}let a,u=null;const c=new i.OlP("TRANSITION_ID"),l=[{provide:i.ip1,useFactory:function(e,t,n){return()=>{n.get(i.CZH).donePromise.then(()=>{const n=(0,r.q)();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(t=>t.getAttribute("ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[c,r.K0,i.zs3],multi:!0}];class h{static init(){(0,i.VLi)(new h)}addToWindow(e){i.dqk.getAngularTestability=(t,n=!0)=>{const r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},i.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),i.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),i.dqk.frameworkStabilizers||(i.dqk.frameworkStabilizers=[]),i.dqk.frameworkStabilizers.push(e=>{const t=i.dqk.getAllAngularTestabilities();let n=t.length,r=!1;const s=function(t){r=r||t,n--,0==n&&e(r)};t.forEach(function(e){e.whenStable(s)})})}findTestabilityInTree(e,t,n){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:n?(0,r.q)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let d=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();const f=new i.OlP("EventManagerPlugins");let p=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let r=0;r<n.length;r++){const t=n[r];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(f),i.LFG(i.R0b))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();class g{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const i=(0,r.q)().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,n)}}let m=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})(),y=(()=>{class e extends m{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,t,n){e.forEach(e=>{const r=this._doc.createElement("style");r.textContent=e,n.push(t.appendChild(r))})}addHost(e){const t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}removeHost(e){const t=this._hostNodes.get(e);t&&t.forEach(v),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((t,n)=>{this._addStylesToHost(e,n,t)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(v))}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(r.K0))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();function v(e){(0,r.q)().remove(e)}const _={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},w=/%COMP%/g;function b(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?b(e,i,n):(i=i.replace(w,e),n.push(i))}return n}function I(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let T=(()=>{class e{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new E(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case i.ifc.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new S(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case 1:case i.ifc.ShadowDom:return new C(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=b(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(p),i.LFG(y),i.LFG(i.AFp))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();class E{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(_[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;const i=_[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const r=_[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,r){r&(i.JOm.DashCase|i.JOm.Important)?e.style.setProperty(t,n,r&i.JOm.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&i.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,I(n)):this.eventManager.addEventListener(e,t,I(n))}}class S extends E{constructor(e,t,n,r){super(e),this.component=n;const i=b(r+"-"+n.id,n.styles,[]);t.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(w,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(w,r+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class C extends E{constructor(e,t,n,r){super(e),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=b(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const e=document.createElement("style");e.textContent=i[s],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let A=(()=>{class e extends g{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,n){return e.addEventListener(t,n,!1),()=>this.removeEventListener(e,t,n)}removeEventListener(e,t,n){return e.removeEventListener(t,n)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(r.K0))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();const k=["alt","control","meta","shift"],x={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},N={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},O={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let D=(()=>{class e extends g{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,i){const s=e.parseEventName(n),o=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,r.q)().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=e._normalizeKey(n.pop());let s="";if(k.forEach(e=>{const t=n.indexOf(e);t>-1&&(n.splice(t,1),s+=e+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(e){let t="",n=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&N.hasOwnProperty(t)&&(t=N[t]))}return x[t]||t}(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),k.forEach(r=>{r!=n&&(0,O[r])(e)&&(t+=r+".")}),t+=n,t}static eventCallback(t,n,r){return i=>{e.getEventFullKey(i)===t&&r.runGuarded(()=>n(i))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(r.K0))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();const R=(0,i.eFA)(i._c5,"browser",[{provide:i.Lbi,useValue:r.bD},{provide:i.g9A,useValue:function(){o.makeCurrent(),h.init()},multi:!0},{provide:r.K0,useFactory:function(){return(0,i.RDi)(document),document},deps:[]}]),P=[[],{provide:i.zSh,useValue:"root"},{provide:i.qLn,useFactory:function(){return new i.qLn},deps:[]},{provide:f,useClass:A,multi:!0,deps:[r.K0,i.R0b,i.Lbi]},{provide:f,useClass:D,multi:!0,deps:[r.K0]},[],{provide:T,useClass:T,deps:[p,y,i.AFp]},{provide:i.FYo,useExisting:T},{provide:m,useExisting:y},{provide:y,useClass:y,deps:[r.K0]},{provide:i.dDg,useClass:i.dDg,deps:[i.R0b]},{provide:p,useClass:p,deps:[f,i.R0b]},{provide:r.JF,useClass:d,deps:[]},[]];let L=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:i.AFp,useValue:t.appId},{provide:c,useExisting:i.AFp},l]}}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(e,12))},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:P,imports:[r.ez,i.hGG]}),e})();"undefined"!=typeof window&&window;var M=n(806),F=n(8569),U=n(8318),V=n(9764),j=n(878),q=n(5271),Z=n(6238),z=n(6673);function B(){return e=>e.lift(new $)}class ${call(e,t){return t.subscribe(new H(e))}}class H extends z.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}var G=n(9996),K=n(2023);class W{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new Y(e,this.compare,this.keySelector))}}class Y extends z.L{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:e}=this;n=e(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}var Q=n(3835),J=n(9098),X=n(9748),ee=(n(1119),n(1932)),te=n(6304),ne=n(7092),re=n(5119),ie=n(308),se=n(250),oe=function(e,t){return(oe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function ae(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var ue,ce="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},le=le||{},he=ce||self;function de(){}function fe(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function pe(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ge="closure_uid_"+(1e9*Math.random()>>>0),me=0;function ye(e,t,n){return e.call.apply(e.bind,arguments)}function ve(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function _e(e,t,n){return(_e=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ye:ve).apply(null,arguments)}function we(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function be(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Ie(){this.s=this.s,this.o=this.o}var Te={};Ie.prototype.s=!1,Ie.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,ge)&&e[ge]||(e[ge]=++me)}(this);delete Te[e]}},Ie.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Ee=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Se=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function Ce(e){return Array.prototype.concat.apply([],arguments)}function Ae(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function ke(e){return/^[\s\xa0]*$/.test(e)}var xe,Ne=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Oe(e,t){return-1!=e.indexOf(t)}function De(e,t){return e<t?-1:e>t?1:0}e:{var Re=he.navigator;if(Re){var Pe=Re.userAgent;if(Pe){xe=Pe;break e}}xe=""}function Le(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Me(e){var t={};for(var n in e)t[n]=e[n];return t}var Fe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ue(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var s=0;s<Fe.length;s++)n=Fe[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ve(e){return Ve[" "](e),e}Ve[" "]=de;var je,qe,Ze=Oe(xe,"Opera"),ze=Oe(xe,"Trident")||Oe(xe,"MSIE"),Be=Oe(xe,"Edge"),$e=Be||ze,He=Oe(xe,"Gecko")&&!(Oe(xe.toLowerCase(),"webkit")&&!Oe(xe,"Edge"))&&!(Oe(xe,"Trident")||Oe(xe,"MSIE"))&&!Oe(xe,"Edge"),Ge=Oe(xe.toLowerCase(),"webkit")&&!Oe(xe,"Edge");function Ke(){var e=he.document;return e?e.documentMode:void 0}e:{var We="",Ye=(qe=xe,He?/rv:([^\);]+)(\)|;)/.exec(qe):Be?/Edge\/([\d\.]+)/.exec(qe):ze?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(qe):Ge?/WebKit\/(\S+)/.exec(qe):Ze?/(?:Version)[ \/]?(\S+)/.exec(qe):void 0);if(Ye&&(We=Ye?Ye[1]:""),ze){var Qe=Ke();if(null!=Qe&&Qe>parseFloat(We)){je=String(Qe);break e}}je=We}var Je={};var Xe=he.document&&ze&&(Ke()||parseInt(je,10))||void 0,et=function(){if(!he.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{he.addEventListener("test",de,t),he.removeEventListener("test",de,t)}catch(n){}return e}();function tt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function nt(e,t){if(tt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(He){e:{try{Ve(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:rt[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&nt.Z.h.call(this)}}tt.prototype.h=function(){this.defaultPrevented=!0},be(nt,tt);var rt={2:"touch",3:"pen",4:"mouse"};nt.prototype.h=function(){nt.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var it="closure_listenable_"+(1e6*Math.random()|0),st=0;function ot(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++st,this.ca=this.fa=!1}function at(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function ut(e){this.src=e,this.g={},this.h=0}function ct(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Ee(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(at(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function lt(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}ut.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=lt(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new ot(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var ht="closure_lm_"+(1e6*Math.random()|0),dt={};function ft(e,t,n,r,i){if(r&&r.once)return gt(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)ft(e,t[s],n,r,i);return null}return n=It(n),e&&e[it]?e.N(t,n,pe(r)?!!r.capture:!!r,i):pt(e,t,n,!1,r,i)}function pt(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=pe(i)?!!i.capture:!!i,a=wt(e);if(a||(e[ht]=a=new ut(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){var e=_t;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)et||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(vt(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function gt(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)gt(e,t[s],n,r,i);return null}return n=It(n),e&&e[it]?e.O(t,n,pe(r)?!!r.capture:!!r,i):pt(e,t,n,!0,r,i)}function mt(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)mt(e,t[s],n,r,i);else r=pe(r)?!!r.capture:!!r,n=It(n),e&&e[it]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=lt(s=e.g[t],n,r,i))&&(at(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--))):e&&(e=wt(e))&&(t=e.g[t.toString()],e=-1,t&&(e=lt(t,n,r,i)),(n=-1<e?t[e]:null)&&yt(n))}function yt(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[it])ct(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(vt(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=wt(t))?(ct(n,e),0==n.h&&(n.src=null,t[ht]=null)):at(e)}}}function vt(e){return e in dt?dt[e]:dt[e]="on"+e}function _t(e,t){if(e.ca)e=!0;else{t=new nt(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&yt(e),e=n.call(r,t)}return e}function wt(e){return(e=e[ht])instanceof ut?e:null}var bt="__closure_events_fn_"+(1e9*Math.random()>>>0);function It(e){return"function"==typeof e?e:(e[bt]||(e[bt]=function(t){return e.handleEvent(t)}),e[bt])}function Tt(){Ie.call(this),this.i=new ut(this),this.P=this,this.I=null}function Et(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new tt(t,e);else if(t instanceof tt)t.target=t.target||e;else{var i=t;Ue(t=new tt(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=St(o,r,!0,t)&&i}if(i=St(o=t.g=e,r,!0,t)&&i,i=St(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=St(o=t.g=n[s],r,!1,t)&&i}function St(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&ct(e.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}be(Tt,Ie),Tt.prototype[it]=!0,Tt.prototype.removeEventListener=function(e,t,n,r){mt(this,e,t,n,r)},Tt.prototype.M=function(){if(Tt.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)at(n[r]);delete t.g[e],t.h--}}this.I=null},Tt.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Tt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ct=he.JSON.stringify;function At(){var e=Lt,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var kt,xt=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=Nt.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),Nt=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,this.g=(e=this.g).next,e.next=null):e=this.i(),e},e}())(function(){return new Ot},function(e){return e.reset()}),Ot=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function Dt(e){he.setTimeout(function(){throw e},0)}function Rt(e,t){kt||function(){var e=he.Promise.resolve(void 0);kt=function(){e.then(Mt)}}(),Pt||(kt(),Pt=!0),Lt.add(e,t)}var Pt=!1,Lt=new xt;function Mt(){for(var e;e=At();){try{e.h.call(e.g)}catch(n){Dt(n)}var t=Nt;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Pt=!1}function Ft(e,t){Tt.call(this),this.h=e||1,this.g=t||he,this.j=_e(this.kb,this),this.l=Date.now()}function Ut(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Vt(e,t,n){if("function"==typeof e)n&&(e=_e(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=_e(e.handleEvent,e)}return 2147483647<Number(t)?-1:he.setTimeout(e,t||0)}function jt(e){e.g=Vt(function(){e.g=null,e.i&&(e.i=!1,jt(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}be(Ft,Tt),(ue=Ft.prototype).da=!1,ue.S=null,ue.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Et(this,"tick"),this.da&&(Ut(this),this.start()))}},ue.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ue.M=function(){Ft.Z.M.call(this),Ut(this),delete this.g};var qt=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}oe(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:jt(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(he.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Ie);function Zt(e){Ie.call(this),this.h=e,this.g={}}be(Zt,Ie);var zt=[];function Bt(e,t,n,r){Array.isArray(n)||(n&&(zt[0]=n.toString()),n=zt);for(var i=0;i<n.length;i++){var s=ft(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function $t(e){Le(e.g,function(e,t){this.g.hasOwnProperty(t)&&yt(e)},e),e.g={}}function Ht(){this.g=!0}function Gt(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Ct(n)}catch(a){return t}}(e,n)+(r?" "+r:"")})}Zt.prototype.M=function(){Zt.Z.M.call(this),$t(this)},Zt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ht.prototype.Aa=function(){this.g=!1},Ht.prototype.info=function(){};var Kt={},Wt=null;function Yt(){return Wt=Wt||new Tt}function Qt(e){tt.call(this,Kt.Ma,e)}function Jt(e){var t=Yt();Et(t,new Qt(t,e))}function Xt(e,t){tt.call(this,Kt.STAT_EVENT,e),this.stat=t}function en(e){var t=Yt();Et(t,new Xt(t,e))}function tn(e,t){tt.call(this,Kt.Na,e),this.size=t}function nn(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return he.setTimeout(function(){e()},t)}Kt.Ma="serverreachability",be(Qt,tt),Kt.STAT_EVENT="statevent",be(Xt,tt),Kt.Na="timingevent",be(tn,tt);var rn={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},sn={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function on(){}function an(){}on.prototype.h=null;var un,cn={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ln(){tt.call(this,"d")}function hn(){tt.call(this,"c")}function dn(){}function fn(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Zt(this),this.P=gn,this.W=new Ft(e=$e?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new pn}function pn(){this.i=null,this.g="",this.h=!1}be(ln,tt),be(hn,tt),be(dn,on),dn.prototype.g=function(){return new XMLHttpRequest},dn.prototype.i=function(){return{}},un=new dn;var gn=45e3,mn={},yn={};function vn(e,t,n){e.K=1,e.v=qn(Ln(t)),e.s=n,e.U=!0,_n(e,null)}function _n(e,t){e.F=Date.now(),Tn(e),e.A=Ln(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),er(n.h,"t",r),e.C=0,n=e.l.H,e.h=new pn,e.g=ti(e.l,n?t:null,!e.s),0<e.O&&(e.L=new qt(_e(e.Ia,e,e.g),e.O)),Bt(e.V,e.g,"readystatechange",e.gb),t=e.H?Me(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Jt(1),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.j,e.u,e.A,e.m,e.X,e.s)}function wn(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function bn(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=In(e,n))==yn){4==t&&(e.o=4,en(14),i=!1),Gt(e.j,e.m,null,"[Incomplete Response]");break}if(r==mn){e.o=4,en(15),Gt(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Gt(e.j,e.m,r,null),kn(e,r)}wn(e)&&r!=yn&&r!=mn&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,en(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Gr(t),t.L=!0,en(11))):(Gt(e.j,e.m,n,"[Invalid Chunked Response]"),An(e),Cn(e))}function In(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?yn:(n=Number(t.substring(n,r)),isNaN(n)?mn:(r+=1)+n>t.length?yn:(t=t.substr(r,n),e.C=r+n,t))}function Tn(e){e.Y=Date.now()+e.P,En(e,e.P)}function En(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=nn(_e(e.eb,e),t)}function Sn(e){e.B&&(he.clearTimeout(e.B),e.B=null)}function Cn(e){0==e.l.G||e.I||Yr(e.l,e)}function An(e){Sn(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Ut(e.W),$t(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function kn(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||ar(n.i,e)))if(n.I=e.N,!e.J&&ar(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(s){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Wr(n),Ur(n)}Hr(n),en(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=nn(_e(n.ab,n),6e3));if(1>=or(n.i)&&n.ka){try{n.ka()}catch(s){}n.ka=void 0}}else Jr(n,11)}else if((e.J||n.g==e)&&Wr(n),!ke(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var s=i[t];if(n.U=s[0],s=s[1],2==n.G)if("c"==s[0]){n.J=s[1],n.la=s[2];var o=s[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var a=s[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var u=s[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(Oe(l,"spdy")||Oe(l,"quic")||Oe(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(ur(h,h.h),h.h=null))}if(r.D){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.sa=d,jn(r.F,r.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var f=e;if((r=n).oa=ei(r,r.H?r.la:null,r.W),f.J){cr(r.i,f);var p=f,g=r.K;g&&p.setTimeout(g),p.B&&(Sn(p),Tn(p)),r.g=f}else $r(r);0<n.l.length&&qr(n)}else"stop"!=s[0]&&"close"!=s[0]||Jr(n,7);else 3==n.G&&("stop"==s[0]||"close"==s[0]?"stop"==s[0]?Jr(n,7):Fr(n):"noop"!=s[0]&&n.j&&n.j.wa(s),n.A=0)}Jt(4)}catch(s){}}function xn(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(fe(e)||"string"==typeof e)Se(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(fe(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(fe(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function Nn(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Nn)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function On(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Dn(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Dn(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Dn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(ue=fn.prototype).setTimeout=function(e){this.P=e},ue.gb=function(e){e=e.target;var t=this.L;t&&3==Dr(e)?t.l():this.Ia(e)},ue.Ia=function(e){try{if(e==this.g)e:{var t=Dr(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||$e||this.g&&(this.h.h||this.g.ga()||Rr(this.g)))){this.I||4!=t||7==n||Jt(8==n||0>=r?3:2),Sn(this);var i=this.g.ba();this.N=i;t:if(wn(this)){var s=Rr(this.g);e="";var o=s.length,a=4==Dr(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){An(this),Cn(this);var u="";break t}this.h.i=new he.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:a&&n==o-1});s.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ke(c)){var h=c;break t}}h=null}if(!(i=h)){this.i=!1,this.o=3,en(12),An(this),Cn(this);break e}Gt(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,kn(this,i)}this.U?(bn(this,t,u),$e&&this.i&&3==t&&(Bt(this.V,this.W,"tick",this.fb),this.W.start())):(Gt(this.j,this.m,u,null),kn(this,u)),4==t&&An(this),this.i&&!this.I&&(4==t?Yr(this.l,this):(this.i=!1,Tn(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,en(12)):(this.o=0,en(13)),An(this),Cn(this)}}}catch(t){}},ue.fb=function(){if(this.g){var e=Dr(this.g),t=this.g.ga();this.C<t.length&&(Sn(this),bn(this,e,t),this.i&&4!=e&&Tn(this))}},ue.cancel=function(){this.I=!0,An(this)},ue.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Jt(3),en(17)),An(this),this.o=2,Cn(this)):En(this,this.Y-e)},(ue=Nn.prototype).R=function(){On(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},ue.T=function(){return On(this),this.g.concat()},ue.get=function(e,t){return Dn(this.h,e)?this.h[e]:t},ue.set=function(e,t){Dn(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},ue.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};var Rn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pn(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Pn){this.g=void 0!==t?t:e.g,Mn(this,e.j),this.s=e.s,Fn(this,e.i),Un(this,e.m),this.l=e.l,t=e.h;var n=new Yn;n.i=t.i,t.g&&(n.g=new Nn(t.g),n.h=t.h),Vn(this,n),this.o=e.o}else e&&(n=String(e).match(Rn))?(this.g=!!t,Mn(this,n[1]||"",!0),this.s=Zn(n[2]||""),Fn(this,n[3]||"",!0),Un(this,n[4]),this.l=Zn(n[5]||"",!0),Vn(this,n[6]||"",!0),this.o=Zn(n[7]||"")):(this.g=!!t,this.h=new Yn(null,this.g))}function Ln(e){return new Pn(e)}function Mn(e,t,n){e.j=n?Zn(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Fn(e,t,n){e.i=n?Zn(t,!0):t}function Un(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Vn(e,t,n){t instanceof Yn?(e.h=t,function(e,t){t&&!e.j&&(Qn(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Jn(this,t),er(this,n,e))},e)),e.j=t}(e.h,e.g)):(n||(t=zn(t,Kn)),e.h=new Yn(t,e.g))}function jn(e,t,n){e.h.set(t,n)}function qn(e){return jn(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Zn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function zn(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Bn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Bn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Pn.prototype.toString=function(){var e=[],t=this.j;t&&e.push(zn(t,$n,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(zn(t,$n,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(zn(n,"/"==n.charAt(0)?Gn:Hn,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",zn(n,Wn)),e.join("")};var $n=/[#\/\?@]/g,Hn=/[#\?:]/g,Gn=/[#\?]/g,Kn=/[#\?@]/g,Wn=/#/g;function Yn(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Qn(e){e.g||(e.g=new Nn,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Jn(e,t){Qn(e),t=tr(e,t),Dn(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Dn((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&On(e)))}function Xn(e,t){return Qn(e),t=tr(e,t),Dn(e.g.h,t)}function er(e,t,n){Jn(e,t),0<n.length&&(e.i=null,e.g.set(tr(e,t),Ae(n)),e.h+=n.length)}function tr(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(ue=Yn.prototype).add=function(e,t){Qn(this),this.i=null,e=tr(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},ue.forEach=function(e,t){Qn(this),this.g.forEach(function(n,r){Se(n,function(n){e.call(t,n,r,this)},this)},this)},ue.T=function(){Qn(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n},ue.R=function(e){Qn(this);var t=[];if("string"==typeof e)Xn(this,e)&&(t=Ce(t,this.g.get(tr(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Ce(t,e[n])}return t},ue.set=function(e,t){return Qn(this),this.i=null,Xn(this,e=tr(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},ue.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},ue.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),e.push(o)}}return this.i=e.join("&")};var nr=function(){return function(e,t){this.h=e,this.g=t}}();function rr(e){this.l=e||ir,e=he.PerformanceNavigationTiming?0<(e=he.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(he.g&&he.g.Ea&&he.g.Ea()&&he.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ir=10;function sr(e){return!!e.h||!!e.g&&e.g.size>=e.j}function or(e){return e.h?1:e.g?e.g.size:0}function ar(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ur(e,t){e.g?e.g.add(t):e.h=t}function cr(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function lr(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=ae(e.g.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.D)}catch(o){t={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return Ae(e.i)}function hr(){}function dr(){this.g=new hr}function fr(e,t,n){var r=n||"";try{xn(e,function(e,n){var i=e;pe(e)&&(i=Ct(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function pr(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function gr(e){this.l=e.$b||null,this.j=e.ib||!1}function mr(e,t){Tt.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=yr,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rr.prototype.cancel=function(){var e,t;if(this.i=lr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=ae(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},hr.prototype.stringify=function(e){return he.JSON.stringify(e,void 0)},hr.prototype.parse=function(e){return he.JSON.parse(e,void 0)},be(gr,on),gr.prototype.g=function(){return new mr(this.l,this.j)},gr.prototype.i=function(e){return function(){return e}}({}),be(mr,Tt);var yr=0;function vr(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function _r(e){e.readyState=4,e.l=null,e.j=null,e.A=null,wr(e)}function wr(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ue=mr.prototype).open=function(e,t){if(this.readyState!=yr)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,wr(this)},ue.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||he).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},ue.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,_r(this)),this.readyState=yr},ue.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,wr(this)),this.g&&(this.readyState=3,wr(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==he.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;vr(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},ue.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?_r(this):wr(this),3==this.readyState&&vr(this)}},ue.Ua=function(e){this.g&&(this.response=this.responseText=e,_r(this))},ue.Ta=function(e){this.g&&(this.response=e,_r(this))},ue.ha=function(){this.g&&_r(this)},ue.setRequestHeader=function(e,t){this.v.append(e,t)},ue.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},ue.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(mr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var br=he.JSON.parse;function Ir(e){Tt.call(this),this.headers=new Nn,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Tr,this.K=this.L=!1}be(Ir,Tt);var Tr="",Er=/^https?$/i,Sr=["POST","PUT"];function Cr(e){return"content-type"==e.toLowerCase()}function Ar(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,kr(e),Nr(e)}function kr(e){e.D||(e.D=!0,Et(e,"complete"),Et(e,"error"))}function xr(e){if(e.h&&void 0!==le&&(!e.C[1]||4!=Dr(e)||2!=e.ba()))if(e.v&&4==Dr(e))Vt(e.Fa,0,e);else if(Et(e,"readystatechange"),4==Dr(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var s=String(e.H).match(Rn)[1]||null;if(!s&&he.self&&he.self.location){var o=he.self.location.protocol;s=o.substr(0,o.length-1)}i=!Er.test(s?s.toLowerCase():"")}t=i}if(t)Et(e,"complete"),Et(e,"success");else{e.m=6;try{var a=2<Dr(e)?e.g.statusText:""}catch(u){a=""}e.j=a+" ["+e.ba()+"]",kr(e)}}finally{Nr(e)}}}function Nr(e,t){if(e.g){Or(e);var n=e.g,r=e.C[0]?de:null;e.g=null,e.C=null,t||Et(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Or(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(he.clearTimeout(e.A),e.A=null)}function Dr(e){return e.g?e.g.readyState:0}function Rr(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Tr:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Pr(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Le(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):jn(e,t,n))}function Lr(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Mr(e){this.za=0,this.l=[],this.h=new Ht,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Lr("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Lr("baseRetryDelayMs",5e3,e),this.$a=Lr("retryDelaySeedMs",1e4,e),this.Ya=Lr("forwardChannelMaxRetries",2,e),this.ra=Lr("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new rr(e&&e.concurrentRequestLimit),this.Ca=new dr,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Fr(e){if(Vr(e),3==e.G){var t=e.V++,n=Ln(e.F);jn(n,"SID",e.J),jn(n,"RID",t),jn(n,"TYPE","terminate"),zr(e,n),(t=new fn(e,e.h,t,void 0)).K=2,t.v=qn(Ln(n)),n=!1,he.navigator&&he.navigator.sendBeacon&&(n=he.navigator.sendBeacon(t.v.toString(),"")),!n&&he.Image&&((new Image).src=t.v,n=!0),n||(t.g=ti(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Tn(t)}Xr(e)}function Ur(e){e.g&&(Gr(e),e.g.cancel(),e.g=null)}function Vr(e){Ur(e),e.u&&(he.clearTimeout(e.u),e.u=null),Wr(e),e.i.cancel(),e.m&&("number"==typeof e.m&&he.clearTimeout(e.m),e.m=null)}function jr(e,t){e.l.push(new nr(e.Za++,t)),3==e.G&&qr(e)}function qr(e){sr(e.i)||e.m||(e.m=!0,Rt(e.Ha,e),e.C=0)}function Zr(e,t){var n;n=t?t.m:e.V++;var r=Ln(e.F);jn(r,"SID",e.J),jn(r,"RID",n),jn(r,"AID",e.U),zr(e,r),e.o&&e.s&&Pr(r,e.o,e.s),n=new fn(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Br(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),ur(e.i,n),vn(n,r,t)}function zr(e,t){e.j&&xn({},function(e,n){jn(t,n,e)})}function Br(e,t,n){n=Math.min(e.l.length,n);var r=e.j?_e(e.j.Oa,e.j,e):null;e:for(var i=e.l,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].h)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=s))s=Math.max(0,i[u].h-100),a=!1;else try{fr(l,o,"req"+c+"_")}catch(Ni){r&&r(l)}}if(a){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function $r(e){e.g||e.u||(e.Y=1,Rt(e.Ga,e),e.A=0)}function Hr(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=nn(_e(e.Ga,e),Qr(e,e.A)),e.A++,0))}function Gr(e){null!=e.B&&(he.clearTimeout(e.B),e.B=null)}function Kr(e){e.g=new fn(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Ln(e.oa);jn(t,"RID","rpc"),jn(t,"SID",e.J),jn(t,"CI",e.N?"0":"1"),jn(t,"AID",e.U),zr(e,t),jn(t,"TYPE","xmlhttp"),e.o&&e.s&&Pr(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=qn(Ln(t)),n.s=null,n.U=!0,_n(n,e)}function Wr(e){null!=e.v&&(he.clearTimeout(e.v),e.v=null)}function Yr(e,t){var n=null;if(e.g==t){Wr(e),Gr(e),e.g=null;var r=2}else{if(!ar(e.i,t))return;n=t.D,cr(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Et(r=Yt(),new tn(r,n,t,i)),qr(e)}else $r(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(or(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=nn(_e(e.Ha,e,t),Qr(e,e.C)),e.C++,0)))}(e,t)||2==r&&Hr(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Jr(e,5);break;case 4:Jr(e,10);break;case 3:Jr(e,6);break;default:Jr(e,2)}}function Qr(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Jr(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=_e(e.jb,e);n||(n=new Pn("//www.google.com/images/cleardot.gif"),he.location&&"http"==he.location.protocol||Mn(n,"https"),qn(n)),function(e,t){var n=new Ht;if(he.Image){var r=new Image;r.onload=we(pr,n,r,"TestLoadImage: loaded",!0,t),r.onerror=we(pr,n,r,"TestLoadImage: error",!1,t),r.onabort=we(pr,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=we(pr,n,r,"TestLoadImage: timeout",!1,t),he.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else en(2);e.G=0,e.j&&e.j.va(t),Xr(e),Vr(e)}function Xr(e){e.G=0,e.I=-1,e.j&&(0==lr(e.i).length&&0==e.l.length||(e.i.i.length=0,Ae(e.l),e.l.length=0),e.j.ua())}function ei(e,t,n){var r=function(e){return e instanceof Pn?Ln(e):new Pn(e,void 0)}(n);if(""!=r.i)t&&Fn(r,t+"."+r.i),Un(r,r.m);else{var i=he.location;r=function(e,t,n,r){var i=new Pn(null,void 0);return e&&Mn(i,e),t&&Fn(i,t),n&&Un(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Le(e.aa,function(e,t){jn(r,t,e)}),n=e.sa,(t=e.D)&&n&&jn(r,t,n),jn(r,"VER",e.ma),zr(e,r),r}function ti(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Ir(n&&e.Ba&&!e.qa?new gr({ib:!0}):e.qa)).L=e.H,t}function ni(){}function ri(){if(ze&&!(10<=Number(Xe)))throw Error("Environmental error: no available transport.")}function ii(e,t){Tt.call(this),this.g=new Mr(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!ke(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ke(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new ai(this)}function si(e){ln.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function oi(){hn.call(this),this.status=1}function ai(e){this.g=e}(ue=Ir.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():un.g(),this.C=function(e){return e.h||(e.h=e.i())}(this.u?this.u:un),this.g.onreadystatechange=_e(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void Ar(this,s)}e=n||"";var i=new Nn(this.headers);r&&xn(r,function(e,t){i.set(t,e)}),r=function(e){e:{for(var t=Cr,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=he.FormData&&e instanceof he.FormData,!(0<=Ee(Sr,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.g.setRequestHeader(t,e)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Or(this),0<this.B&&((this.K=function(e){return ze&&function(){return e=Je,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){for(var e=0,t=Ne(String(je)).split("."),n=Ne("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var s=t[i]||"",o=n[i]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==s[0].length&&0==o[0].length)break;e=De(0==s[1].length?0:parseInt(s[1],10),0==o[1].length?0:parseInt(o[1],10))||De(0==s[2].length,0==o[2].length)||De(s[2],o[2]),s=s[3],o=o[3]}while(0==e)}return 0<=e}();var e}()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_e(this.pa,this)):this.A=Vt(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Ar(this,s)}},ue.pa=function(){void 0!==le&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Et(this,"timeout"),this.abort(8))},ue.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Et(this,"complete"),Et(this,"abort"),Nr(this))},ue.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Nr(this,!0)),Ir.Z.M.call(this)},ue.Fa=function(){this.s||(this.F||this.v||this.l?xr(this):this.cb())},ue.cb=function(){xr(this)},ue.ba=function(){try{return 2<Dr(this)?this.g.status:-1}catch(qe){return-1}},ue.ga=function(){try{return this.g?this.g.responseText:""}catch(qe){return""}},ue.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),br(t)}},ue.Da=function(){return this.m},ue.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ue=Mr.prototype).ma=8,ue.G=1,ue.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},ue.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new fn(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Ue(n=Me(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var s=this.l[i];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(r+=s)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Br(this,t,r),jn(i=Ln(this.F),"RID",e),jn(i,"CVER",22),this.D&&jn(i,"X-HTTP-Session-Id",this.D),zr(this,i),this.o&&n&&Pr(i,this.o,n),ur(this.i,t),this.Ra&&jn(i,"TYPE","init"),this.ja?(jn(i,"$req",r),jn(i,"SID","null"),t.$=!0,vn(t,i,null)):vn(t,i,r),this.G=2}}else 3==this.G&&(e?Zr(this,e):0==this.l.length||sr(this.i)||Zr(this))},ue.Ga=function(){if(this.u=null,Kr(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=nn(_e(this.bb,this),e)}},ue.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,en(10),Ur(this),Kr(this))},ue.ab=function(){null!=this.v&&(this.v=null,Ur(this),Hr(this),en(19))},ue.jb=function(e){e?(this.h.info("Successfully pinged google.com"),en(2)):(this.h.info("Failed to ping google.com"),en(1))},(ue=ni.prototype).xa=function(){},ue.wa=function(){},ue.va=function(){},ue.ua=function(){},ue.Oa=function(){},ri.prototype.g=function(e,t){return new ii(e,t)},be(ii,Tt),ii.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Rt(_e(e.hb,e,t))),en(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=ei(e,null,e.W),qr(e)},ii.prototype.close=function(){Fr(this.g)},ii.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,jr(this.g,t)}else this.v?((t={}).__data__=Ct(e),jr(this.g,t)):jr(this.g,e)},ii.prototype.M=function(){this.g.j=null,delete this.j,Fr(this.g),delete this.g,ii.Z.M.call(this)},be(si,ln),be(oi,hn),be(ai,ni),ai.prototype.xa=function(){Et(this.g,"a")},ai.prototype.wa=function(e){Et(this.g,new si(e))},ai.prototype.va=function(e){Et(this.g,new oi(e))},ai.prototype.ua=function(){Et(this.g,"b")},ri.prototype.createWebChannel=ri.prototype.g,ii.prototype.send=ii.prototype.u,ii.prototype.open=ii.prototype.m,ii.prototype.close=ii.prototype.close,rn.NO_ERROR=0,rn.TIMEOUT=8,rn.HTTP_ERROR=6,sn.COMPLETE="complete",an.EventType=cn,cn.OPEN="a",cn.CLOSE="b",cn.ERROR="c",cn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.N,Ir.prototype.listenOnce=Ir.prototype.O,Ir.prototype.getLastError=Ir.prototype.La,Ir.prototype.getLastErrorCode=Ir.prototype.Da,Ir.prototype.getStatus=Ir.prototype.ba,Ir.prototype.getResponseJson=Ir.prototype.Qa,Ir.prototype.getResponseText=Ir.prototype.ga,Ir.prototype.send=Ir.prototype.ea;var ui=rn,ci=sn,li=Kt,hi=gr,di=an,fi=Ir;class pi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pi.UNAUTHENTICATED=new pi(null),pi.GOOGLE_CREDENTIALS=new pi("google-credentials-uid"),pi.FIRST_PARTY=new pi("first-party-uid"),pi.MOCK_USER=new pi("mock-user");let gi="9.0.1";const mi=new ie.Yd("@firebase/firestore");function yi(){return mi.logLevel}function vi(e,...t){if(mi.logLevel<=ie.in.DEBUG){const n=t.map(bi);mi.debug(`Firestore (${gi}): ${e}`,...n)}}function _i(e,...t){if(mi.logLevel<=ie.in.ERROR){const n=t.map(bi);mi.error(`Firestore (${gi}): ${e}`,...n)}}function wi(e,...t){if(mi.logLevel<=ie.in.WARN){const n=t.map(bi);mi.warn(`Firestore (${gi}): ${e}`,...n)}}function bi(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function Ii(e="Unexpected state"){const t=`FIRESTORE (${gi}) INTERNAL ASSERTION FAILED: `+e;throw _i(t),new Error(t)}function Ti(e,t){e||Ii()}function Ei(e,t){return e}const Si={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ci extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ai{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ki{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class xi{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(pi.UNAUTHENTICATED))}shutdown(){}}class Ni{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Oi{constructor(e){this.t=e,this.currentUser=pi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var n=this;let r=this.i;const i=e=>this.i!==r?(r=this.i,t(e)):Promise.resolve();let s=new Ai;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ai,e.enqueueRetryable(()=>i(this.currentUser))};const o=t=>{e.enqueueRetryable((0,te.Z)(function*(){vi("FirebaseCredentialsProvider","Auth detected"),n.auth=t,n.auth.addAuthTokenListener(n.o),yield s.promise,yield i(n.currentUser)}))};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(vi("FirebaseCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ai)}},0),e.enqueueRetryable((0,te.Z)(function*(){0===n.i&&(yield s.promise,yield i(n.currentUser))}))}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(vi("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Ti("string"==typeof t.accessToken),new ki(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ti(null===e||"string"==typeof e),new pi(e)}}class Di{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=pi.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class Ri{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Di(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(pi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Pi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.g(e),this.p=e=>t.writeSequenceNumber(e))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function Li(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Pi.T=-1;class Mi{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=Li(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function Fi(e,t){return e<t?-1:e>t?1:0}function Ui(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}function Vi(e){return e+"\0"}class ji{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ci(Si.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ci(Si.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ci(Si.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ci(Si.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ji.fromMillis(Date.now())}static fromDate(e){return ji.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new ji(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Fi(this.nanoseconds,e.nanoseconds):Fi(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class qi{constructor(e){this.timestamp=e}static fromTimestamp(e){return new qi(e)}static min(){return new qi(new ji(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Zi(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function zi(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Bi(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class $i{constructor(e,t,n){void 0===t?t=0:t>e.length&&Ii(),void 0===n?n=e.length-t:n>e.length-t&&Ii(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===$i.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof $i?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Hi extends $i{construct(e,t,n){return new Hi(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ci(Si.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new Hi(t)}static emptyPath(){return new Hi([])}}const Gi=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ki extends $i{construct(e,t,n){return new Ki(e,t,n)}static isValidIdentifier(e){return Gi.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ki.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ki(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Ci(Si.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Ci(Si.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Ci(Si.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Ci(Si.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ki(t)}static emptyPath(){return new Ki([])}}class Wi{constructor(e){this.fields=e,e.sort(Ki.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ui(this.fields,e.fields,(e,t)=>e.isEqual(t))}}let Yi=(()=>{class e{constructor(e){this.binaryString=e}static fromBase64String(t){const n=atob(t);return new e(n)}static fromUint8Array(t){const n=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t);return new e(n)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fi(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}return e.EMPTY_BYTE_STRING=new e(""),e})();const Qi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ji(e){if(Ti(!!e),"string"==typeof e){let t=0;const n=Qi.exec(e);if(Ti(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Xi(e.seconds),nanos:Xi(e.nanos)}}function Xi(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function es(e){return"string"==typeof e?Yi.fromBase64String(e):Yi.fromUint8Array(e)}function ts(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ns(e){const t=e.mapValue.fields.__previous_value__;return ts(t)?ns(t):t}function rs(e){const t=Ji(e.mapValue.fields.__local_write_time__.timestampValue);return new ji(t.seconds,t.nanos)}function is(e){return null==e}function ss(e){return 0===e&&1/e==-1/0}function os(e){return"number"==typeof e&&Number.isInteger(e)&&!ss(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}class as{constructor(e){this.path=e}static fromPath(e){return new as(Hi.fromString(e))}static fromName(e){return new as(Hi.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===Hi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Hi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new as(new Hi(e.slice()))}}function us(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ts(e)?4:10:Ii()}function cs(e,t){const n=us(e);if(n!==us(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return rs(e).isEqual(rs(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Ji(e.timestampValue),r=Ji(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return es(e.bytesValue).isEqual(es(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Xi(e.geoPointValue.latitude)===Xi(t.geoPointValue.latitude)&&Xi(e.geoPointValue.longitude)===Xi(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Xi(e.integerValue)===Xi(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Xi(e.doubleValue),r=Xi(t.doubleValue);return n===r?ss(n)===ss(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ui(e.arrayValue.values||[],t.arrayValue.values||[],cs);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Zi(n)!==Zi(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!cs(n[i],r[i])))return!1;return!0}(e,t);default:return Ii()}}function ls(e,t){return void 0!==(e.values||[]).find(e=>cs(e,t))}function hs(e,t){const n=us(e),r=us(t);if(n!==r)return Fi(n,r);switch(n){case 0:return 0;case 1:return Fi(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Xi(e.integerValue||e.doubleValue),r=Xi(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ds(e.timestampValue,t.timestampValue);case 4:return ds(rs(e),rs(t));case 5:return Fi(e.stringValue,t.stringValue);case 6:return function(e,t){const n=es(e),r=es(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Fi(n[i],r[i]);if(0!==e)return e}return Fi(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Fi(Xi(e.latitude),Xi(t.latitude));return 0!==n?n:Fi(Xi(e.longitude),Xi(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=hs(n[i],r[i]);if(e)return e}return Fi(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=Fi(r[o],s[o]);if(0!==e)return e;const t=hs(n[r[o]],i[s[o]]);if(0!==t)return t}return Fi(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Ii()}}function ds(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Fi(e,t);const n=Ji(e),r=Ji(t),i=Fi(n.seconds,r.seconds);return 0!==i?i:Fi(n.nanos,r.nanos)}function fs(e){return ps(e)}function ps(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Ji(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?es(e.bytesValue).toBase64():"referenceValue"in e?as.fromName(e.referenceValue).toString():"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=ps(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${ps(e.fields[i])}`;return n+"}"}(e.mapValue):Ii();var t}function gs(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function ms(e){return!!e&&"integerValue"in e}function ys(e){return!!e&&"arrayValue"in e}function vs(e){return!!e&&"nullValue"in e}function _s(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ws(e){return!!e&&"mapValue"in e}function bs(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return zi(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=bs(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=bs(e.arrayValue.values[n]);return t}return Object.assign({},e)}class Is{constructor(e){this.value=e}static empty(){return new Is({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!ws(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=bs(t)}setAll(e){let t=Ki.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=bs(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());ws(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return cs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];ws(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){zi(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Is(bs(this.value))}}function Ts(e){const t=[];return zi(e.fields,(e,n)=>{const r=new Ki([e]);if(ws(n)){const e=Ts(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Wi(t)}class Es{constructor(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}static newInvalidDocument(e){return new Es(e,0,qi.min(),Is.empty(),0)}static newFoundDocument(e,t,n){return new Es(e,1,t,n,0)}static newNoDocument(e,t){return new Es(e,2,t,Is.empty(),0)}static newUnknownDocument(e,t){return new Es(e,3,t,Is.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Is.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Is.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Es&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Es(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ss{constructor(e,t=null,n=[],r=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.A=null}}function Cs(e,t=null,n=[],r=[],i=null,s=null,o=null){return new Ss(e,t,n,r,i,s,o)}function As(e){const t=Ei(e);if(null===t.A){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>function(e){return e.field.canonicalString()+e.op.toString()+fs(e.value)}(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),is(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=js(t.startAt)),t.endAt&&(e+="|ub:",e+=js(t.endAt)),t.A=e}return t.A}function ks(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++)if(!Zs(e.orderBy[i],t.orderBy[i]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if((n=e.filters[i]).op!==(r=t.filters[i]).op||!n.field.isEqual(r.field)||!cs(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Bs(e.startAt,t.startAt)&&Bs(e.endAt,t.endAt)}function xs(e){return as.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Ns extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,n):new Os(e,t,n):"array-contains"===t?new Ls(e,n):"in"===t?new Ms(e,n):"not-in"===t?new Fs(e,n):"array-contains-any"===t?new Us(e,n):new Ns(e,t,n)}static R(e,t,n){return"in"===t?new Ds(e,n):new Rs(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(hs(t,this.value)):null!==t&&us(this.value)===us(t)&&this.P(hs(t,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ii()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Os extends Ns{constructor(e,t,n){super(e,t,n),this.key=as.fromName(n.referenceValue)}matches(e){const t=as.comparator(e.key,this.key);return this.P(t)}}class Ds extends Ns{constructor(e,t){super(e,"in",t),this.keys=Ps(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Rs extends Ns{constructor(e,t){super(e,"not-in",t),this.keys=Ps(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ps(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>as.fromName(e.referenceValue))}class Ls extends Ns{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ys(t)&&ls(t.arrayValue,this.value)}}class Ms extends Ns{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ls(this.value.arrayValue,t)}}class Fs extends Ns{constructor(e,t){super(e,"not-in",t)}matches(e){if(ls(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ls(this.value.arrayValue,t)}}class Us extends Ns{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ys(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>ls(this.value.arrayValue,e))}}class Vs{constructor(e,t){this.position=e,this.before=t}}function js(e){return`${e.before?"b":"a"}:${e.position.map(e=>fs(e)).join(",")}`}class qs{constructor(e,t="asc"){this.field=e,this.dir=t}}function Zs(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function zs(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?as.comparator(as.fromName(o.referenceValue),n.key):hs(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Bs(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!cs(e.position[n],t.position[n]))return!1;return!0}class $s{constructor(e,t=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.V=null,this.S=null}}function Hs(e,t,n,r,i,s,o,a){return new $s(e,t,n,r,i,s,o,a)}function Gs(e){return new $s(e)}function Ks(e){return!is(e.limit)&&"F"===e.limitType}function Ws(e){return!is(e.limit)&&"L"===e.limitType}function Ys(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Qs(e){for(const t of e.filters)if(t.v())return t.field;return null}function Js(e){return null!==e.collectionGroup}function Xs(e){const t=Ei(e);if(null===t.V){t.V=[];const e=Qs(t),n=Ys(t);if(null!==e&&null===n)e.isKeyField()||t.V.push(new qs(e)),t.V.push(new qs(Ki.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.V.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.V.push(new qs(Ki.keyField(),e))}}}return t.V}function eo(e){const t=Ei(e);if(!t.S)if("F"===t.limitType)t.S=Cs(t.path,t.collectionGroup,Xs(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of Xs(t))e.push(new qs(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new Vs(t.endAt.position,!t.endAt.before):null,r=t.startAt?new Vs(t.startAt.position,!t.startAt.before):null;t.S=Cs(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.S}function to(e,t,n){return new $s(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function no(e,t){return ks(eo(e),eo(t))&&e.limitType===t.limitType}function ro(e){return`${As(eo(e))}|lt:${e.limitType}`}function io(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>{return`${(t=e).field.canonicalString()} ${t.op} ${fs(t.value)}`;var t}).join(", ")}]`),is(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: "+js(e.startAt)),e.endAt&&(t+=", endAt: "+js(e.endAt)),`Target(${t})`}(eo(e))}; limitType=${e.limitType})`}function so(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):as.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!zs(e.startAt,Xs(e),t)||e.endAt&&zs(e.endAt,Xs(e),t))}(e,t)}function oo(e){return(t,n)=>{let r=!1;for(const i of Xs(e)){const e=ao(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function ao(e,t,n){const r=e.field.isKeyField()?as.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?hs(r,i):Ii()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ii()}}function uo(e,t){if(e.D){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ss(t)?"-0":t}}function co(e){return{integerValue:""+e}}function lo(e,t){return os(t)?co(t):uo(e,t)}class ho{constructor(){this._=void 0}}function fo(e,t,n){return e instanceof mo?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof yo?vo(e,t):e instanceof _o?wo(e,t):function(e,t){const n=go(e,t),r=Io(n)+Io(e.C);return ms(n)&&ms(e.C)?co(r):uo(e.N,r)}(e,t)}function po(e,t,n){return e instanceof yo?vo(e,t):e instanceof _o?wo(e,t):n}function go(e,t){return e instanceof bo?ms(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class mo extends ho{}class yo extends ho{constructor(e){super(),this.elements=e}}function vo(e,t){const n=To(t);for(const r of e.elements)n.some(e=>cs(e,r))||n.push(r);return{arrayValue:{values:n}}}class _o extends ho{constructor(e){super(),this.elements=e}}function wo(e,t){let n=To(t);for(const r of e.elements)n=n.filter(e=>!cs(e,r));return{arrayValue:{values:n}}}class bo extends ho{constructor(e,t){super(),this.N=e,this.C=t}}function Io(e){return Xi(e.integerValue||e.doubleValue)}function To(e){return ys(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Eo{constructor(e,t){this.field=e,this.transform=t}}class So{constructor(e,t){this.version=e,this.transformResults=t}}class Co{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Co}static exists(e){return new Co(void 0,e)}static updateTime(e){return new Co(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ao(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class ko{}function xo(e,t,n){e instanceof Po?function(e,t,n){const r=e.value.clone(),i=Fo(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Lo?function(e,t,n){if(!Ao(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Fo(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Mo(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function No(e,t,n){e instanceof Po?function(e,t,n){if(!Ao(e.precondition,t))return;const r=e.value.clone(),i=Uo(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Ro(t),r).setHasLocalMutations()}(e,t,n):e instanceof Lo?function(e,t,n){if(!Ao(e.precondition,t))return;const r=Uo(e.fieldTransforms,n,t),i=t.data;i.setAll(Mo(e)),i.setAll(r),t.convertToFoundDocument(Ro(t),i).setHasLocalMutations()}(e,t,n):function(e,t){Ao(e.precondition,t)&&t.convertToNoDocument(qi.min())}(e,t)}function Oo(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=go(r.transform,e||null);null!=i&&(null==n&&(n=Is.empty()),n.set(r.field,i))}return n||null}function Do(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ui(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof yo&&t instanceof yo||e instanceof _o&&t instanceof _o?Ui(e.elements,t.elements,cs):e instanceof bo&&t instanceof bo?cs(e.C,t.C):e instanceof mo&&t instanceof mo}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Ro(e){return e.isFoundDocument()?e.version:qi.min()}class Po extends ko{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class Lo extends ko{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function Mo(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Fo(e,t,n){const r=new Map;Ti(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,po(o,a,n[i]))}return r}function Uo(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,fo(e,s,t))}return r}class Vo extends ko{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class jo extends ko{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class qo{constructor(e){this.count=e}}var Zo,zo;function Bo(e){switch(e){case Si.OK:return Ii();case Si.CANCELLED:case Si.UNKNOWN:case Si.DEADLINE_EXCEEDED:case Si.RESOURCE_EXHAUSTED:case Si.INTERNAL:case Si.UNAVAILABLE:case Si.UNAUTHENTICATED:return!1;case Si.INVALID_ARGUMENT:case Si.NOT_FOUND:case Si.ALREADY_EXISTS:case Si.PERMISSION_DENIED:case Si.FAILED_PRECONDITION:case Si.ABORTED:case Si.OUT_OF_RANGE:case Si.UNIMPLEMENTED:case Si.DATA_LOSS:return!0;default:return Ii()}}function $o(e){if(void 0===e)return _i("GRPC error has no .code"),Si.UNKNOWN;switch(e){case Zo.OK:return Si.OK;case Zo.CANCELLED:return Si.CANCELLED;case Zo.UNKNOWN:return Si.UNKNOWN;case Zo.DEADLINE_EXCEEDED:return Si.DEADLINE_EXCEEDED;case Zo.RESOURCE_EXHAUSTED:return Si.RESOURCE_EXHAUSTED;case Zo.INTERNAL:return Si.INTERNAL;case Zo.UNAVAILABLE:return Si.UNAVAILABLE;case Zo.UNAUTHENTICATED:return Si.UNAUTHENTICATED;case Zo.INVALID_ARGUMENT:return Si.INVALID_ARGUMENT;case Zo.NOT_FOUND:return Si.NOT_FOUND;case Zo.ALREADY_EXISTS:return Si.ALREADY_EXISTS;case Zo.PERMISSION_DENIED:return Si.PERMISSION_DENIED;case Zo.FAILED_PRECONDITION:return Si.FAILED_PRECONDITION;case Zo.ABORTED:return Si.ABORTED;case Zo.OUT_OF_RANGE:return Si.OUT_OF_RANGE;case Zo.UNIMPLEMENTED:return Si.UNIMPLEMENTED;case Zo.DATA_LOSS:return Si.DATA_LOSS;default:return Ii()}}(zo=Zo||(Zo={}))[zo.OK=0]="OK",zo[zo.CANCELLED=1]="CANCELLED",zo[zo.UNKNOWN=2]="UNKNOWN",zo[zo.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zo[zo.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zo[zo.NOT_FOUND=5]="NOT_FOUND",zo[zo.ALREADY_EXISTS=6]="ALREADY_EXISTS",zo[zo.PERMISSION_DENIED=7]="PERMISSION_DENIED",zo[zo.UNAUTHENTICATED=16]="UNAUTHENTICATED",zo[zo.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zo[zo.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zo[zo.ABORTED=10]="ABORTED",zo[zo.OUT_OF_RANGE=11]="OUT_OF_RANGE",zo[zo.UNIMPLEMENTED=12]="UNIMPLEMENTED",zo[zo.INTERNAL=13]="INTERNAL",zo[zo.UNAVAILABLE=14]="UNAVAILABLE",zo[zo.DATA_LOSS=15]="DATA_LOSS";class Ho{constructor(e,t){this.comparator=e,this.root=t||Ko.EMPTY}insert(e,t){return new Ho(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ko.BLACK,null,null))}remove(e){return new Ho(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ko.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Go(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Go(this.root,e,this.comparator,!1)}getReverseIterator(){return new Go(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Go(this.root,e,this.comparator,!0)}}class Go{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ko{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Ko.RED,this.left=null!=r?r:Ko.EMPTY,this.right=null!=i?i:Ko.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Ko(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ko.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ko.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ko.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ko.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ii();if(this.right.isRed())throw Ii();const e=this.left.check();if(e!==this.right.check())throw Ii();return e+(this.isRed()?0:1)}}Ko.EMPTY=null,Ko.RED=!0,Ko.BLACK=!1,Ko.EMPTY=new class{constructor(){this.size=0}get key(){throw Ii()}get value(){throw Ii()}get color(){throw Ii()}get left(){throw Ii()}get right(){throw Ii()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Ko(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wo{constructor(e){this.comparator=e,this.data=new Ho(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Yo(this.data.getIterator())}getIteratorFrom(e){return new Yo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Wo))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Wo(this.comparator);return t.data=e,t}}class Yo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Qo=new Ho(as.comparator);function Jo(){return Qo}const Xo=new Ho(as.comparator);function ea(){return Xo}const ta=new Ho(as.comparator);function na(){return ta}const ra=new Wo(as.comparator);function ia(...e){let t=ra;for(const n of e)t=t.add(n);return t}const sa=new Wo(Fi);function oa(){return sa}class aa{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,ua.createSynthesizedTargetChangeForCurrentChange(e,t)),new aa(qi.min(),n,oa(),Jo(),ia())}}class ua{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new ua(Yi.EMPTY_BYTE_STRING,t,ia(),ia(),ia())}}class ca{constructor(e,t,n,r){this.k=e,this.removedTargetIds=t,this.key=n,this.$=r}}class la{constructor(e,t){this.targetId=e,this.O=t}}class ha{constructor(e,t,n=Yi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class da{constructor(){this.F=0,this.M=ga(),this.L=Yi.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=ia(),t=ia(),n=ia();return this.M.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ii()}}),new ua(this.L,this.B,e,t,n)}G(){this.U=!1,this.M=ga()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class fa{constructor(e){this.tt=e,this.et=new Map,this.nt=Jo(),this.st=pa(),this.it=new Wo(Fi)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.at(t,e.key,e.$);for(const t of e.removedTargetIds)this.at(t,e.key,e.$)}ct(e){this.forEachTarget(e,t=>{const n=this.ut(t);switch(e.state){case 0:this.ht(t)&&n.j(e.resumeToken);break;case 1:n.X(),n.q||n.G(),n.j(e.resumeToken);break;case 2:n.X(),n.q||this.removeTarget(t);break;case 3:this.ht(t)&&(n.Z(),n.j(e.resumeToken));break;case 4:this.ht(t)&&(this.lt(t),n.j(e.resumeToken));break;default:Ii()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach((e,n)=>{this.ht(n)&&t(n)})}ft(e){const t=e.targetId,n=e.O.count,r=this.dt(t);if(r){const e=r.target;if(xs(e))if(0===n){const n=new as(e.path);this.at(t,n,Es.newNoDocument(n,qi.min()))}else Ti(1===n);else this.wt(t)!==n&&(this.lt(t),this.it=this.it.add(t))}}_t(e){const t=new Map;this.et.forEach((n,r)=>{const i=this.dt(r);if(i){if(n.current&&xs(i.target)){const t=new as(i.target.path);null!==this.nt.get(t)||this.gt(r,t)||this.at(r,t,Es.newNoDocument(t,e))}n.K&&(t.set(r,n.W()),n.G())}});let n=ia();this.st.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.dt(e);return!t||2===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))});const r=new aa(e,t,this.it,this.nt,n);return this.nt=Jo(),this.st=pa(),this.it=new Wo(Fi),r}ot(e,t){if(!this.ht(e))return;const n=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,n),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}at(e,t,n){if(!this.ht(e))return;const r=this.ut(e);this.gt(e,t)?r.H(t,1):r.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),n&&(this.nt=this.nt.insert(t,n))}removeTarget(e){this.et.delete(e)}wt(e){const t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new da,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new Wo(Fi),this.st=this.st.insert(e,t)),t}ht(e){const t=null!==this.dt(e);return t||vi("WatchChangeAggregator","Detected inactive target",e),t}dt(e){const t=this.et.get(e);return t&&t.q?null:this.tt.Et(e)}lt(e){this.et.set(e,new da),this.tt.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function pa(){return new Ho(as.comparator)}function ga(){return new Ho(as.comparator)}const ma={asc:"ASCENDING",desc:"DESCENDING"},ya={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class va{constructor(e,t){this.databaseId=e,this.D=t}}function _a(e,t){return e.D?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function wa(e,t){return e.D?t.toBase64():t.toUint8Array()}function ba(e,t){return _a(e,t.toTimestamp())}function Ia(e){return Ti(!!e),qi.fromTimestamp(function(e){const t=Ji(e);return new ji(t.seconds,t.nanos)}(e))}function Ta(e,t){return function(e){return new Hi(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Ea(e){const t=Hi.fromString(e);return Ti(Ka(t)),t}function Sa(e,t){return Ta(e.databaseId,t.path)}function Ca(e,t){const n=Ea(t);if(n.get(1)!==e.databaseId.projectId)throw new Ci(Si.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ci(Si.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new as(Na(n))}function Aa(e,t){return Ta(e.databaseId,t)}function ka(e){const t=Ea(e);return 4===t.length?Hi.emptyPath():Na(t)}function xa(e){return new Hi(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Na(e){return Ti(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Oa(e,t,n){return{name:Sa(e,t),fields:n.value.mapValue.fields}}function Da(e,t,n){const r=Ca(e,t.name),i=Ia(t.updateTime),s=new Is({mapValue:{fields:t.fields}}),o=Es.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Ra(e,t){let n;if(t instanceof Po)n={update:Oa(e,t.key,t.value)};else if(t instanceof Vo)n={delete:Sa(e,t.key)};else if(t instanceof Lo)n={update:Oa(e,t.key,t.data),updateMask:Ga(t.fieldMask)};else{if(!(t instanceof jo))return Ii();n={verify:Sa(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof mo)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof yo)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof _o)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof bo)return{fieldPath:t.field.canonicalString(),increment:n.C};throw Ii()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ba(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ii()}(e,t.precondition)),n}function Pa(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Co.updateTime(Ia(e.updateTime)):void 0!==e.exists?Co.exists(e.exists):Co.none()}(t.currentDocument):Co.none(),r=t.updateTransforms?t.updateTransforms.map(t=>function(e,t){let n=null;"setToServerValue"in t?(Ti("REQUEST_TIME"===t.setToServerValue),n=new mo):"appendMissingElements"in t?n=new yo(t.appendMissingElements.values||[]):"removeAllFromArray"in t?n=new _o(t.removeAllFromArray.values||[]):"increment"in t?n=new bo(e,t.increment):Ii();const r=Ki.fromServerFormat(t.fieldPath);return new Eo(r,n)}(e,t)):[];if(t.update){const i=Ca(e,t.update.name),s=new Is({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){return new Wi((e.fieldPaths||[]).map(e=>Ki.fromServerFormat(e)))}(t.updateMask);return new Lo(i,s,e,n,r)}return new Po(i,s,n,r)}if(t.delete){const r=Ca(e,t.delete);return new Vo(r,n)}if(t.verify){const r=Ca(e,t.verify);return new jo(r,n)}return Ii()}function La(e,t){return{documents:[Aa(e,t.path)]}}function Ma(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Aa(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Aa(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map(e=>function(e){if("=="===e.op){if(_s(e.value))return{unaryFilter:{field:za(e.field),op:"IS_NAN"}};if(vs(e.value))return{unaryFilter:{field:za(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(_s(e.value))return{unaryFilter:{field:za(e.field),op:"IS_NOT_NAN"}};if(vs(e.value))return{unaryFilter:{field:za(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(e.field),op:Za(e.op),value:e.value}}}(e));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:za(e.field),direction:qa(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(e,t){return e.D||is(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=Va(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Va(t.endAt)),n}function Fa(e){let t=ka(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ti(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=Ua(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(e=>function(e){return new qs(Ba(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,is(t)?null:t}(n.limit));let u=null;n.startAt&&(u=ja(n.startAt));let c=null;return n.endAt&&(c=ja(n.endAt)),Hs(t,i,o,s,a,"F",u,c)}function Ua(e){return e?void 0!==e.unaryFilter?[Ha(e)]:void 0!==e.fieldFilter?[$a(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(e=>Ua(e)).reduce((e,t)=>e.concat(t)):Ii():[]}function Va(e){return{before:e.before,values:e.position}}function ja(e){return new Vs(e.values||[],!!e.before)}function qa(e){return ma[e]}function Za(e){return ya[e]}function za(e){return{fieldPath:e.canonicalString()}}function Ba(e){return Ki.fromServerFormat(e.fieldPath)}function $a(e){return Ns.create(Ba(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ii()}}(e.fieldFilter.op),e.fieldFilter.value)}function Ha(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ba(e.unaryFilter.field);return Ns.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Ba(e.unaryFilter.field);return Ns.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ba(e.unaryFilter.field);return Ns.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ba(e.unaryFilter.field);return Ns.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ii()}}function Ga(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Ka(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Wa(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Qa(t)),t=Ya(e.get(n),t);return Qa(t)}function Ya(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function Qa(e){return e+"\x01\x01"}function Ja(e){const t=e.length;if(Ti(t>=2),2===t)return Ti("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Hi.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&Ii(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:Ii()}s=t+2}return new Hi(r)}class Xa{constructor(e,t){this.seconds=e,this.nanoseconds=t}}let eu=(()=>{class e{constructor(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}}return e.store="owner",e.key="owner",e})(),tu=(()=>{class e{constructor(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}}return e.store="mutationQueues",e.keyPath="userId",e})();class nu{constructor(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}}nu.store="mutations",nu.keyPath="batchId",nu.userMutationsIndex="userMutationsIndex",nu.userMutationsKeyPath=["userId","batchId"];let ru=(()=>{class e{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Wa(t)]}static key(e,t,n){return[e,Wa(t),n]}}return e.store="documentMutations",e.PLACEHOLDER=new e,e})();class iu{constructor(e,t){this.path=e,this.readTime=t}}class su{constructor(e,t){this.path=e,this.version=t}}class ou{constructor(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s}}ou.store="remoteDocuments",ou.readTimeIndex="readTimeIndex",ou.readTimeIndexPath="readTime",ou.collectionReadTimeIndex="collectionReadTimeIndex",ou.collectionReadTimeIndexPath=["parentPath","readTime"];let au=(()=>{class e{constructor(e){this.byteSize=e}}return e.store="remoteDocumentGlobal",e.key="remoteDocumentGlobalKey",e})();class uu{constructor(e,t,n,r,i,s,o){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o}}uu.store="targets",uu.keyPath="targetId",uu.queryTargetsIndexName="queryTargetsIndex",uu.queryTargetsKeyPath=["canonicalId","targetId"];class cu{constructor(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n}}cu.store="targetDocuments",cu.keyPath=["targetId","path"],cu.documentTargetsIndex="documentTargetsIndex",cu.documentTargetsKeyPath=["path","targetId"];let lu=(()=>{class e{constructor(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}return e.key="targetGlobalKey",e.store="targetGlobal",e})(),hu=(()=>{class e{constructor(e,t){this.collectionId=e,this.parent=t}}return e.store="collectionParents",e.keyPath=["collectionId","parent"],e})(),du=(()=>{class e{constructor(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}}return e.store="clientMetadata",e.keyPath="clientId",e})(),fu=(()=>{class e{constructor(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}}return e.store="bundles",e.keyPath="bundleId",e})(),pu=(()=>{class e{constructor(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}}return e.store="namedQueries",e.keyPath="name",e})();const gu=[tu.store,nu.store,ru.store,ou.store,uu.store,eu.store,lu.store,cu.store,du.store,au.store,hu.store,fu.store,pu.store],mu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yu{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class vu{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ii(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new vu((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof vu?t:vu.resolve(t)}catch(e){return vu.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):vu.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):vu.reject(t)}static resolve(e){return new vu((t,n)=>{t(e)})}static reject(e){return new vu((t,n)=>{n(e)})}static waitFor(e){return new vu((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=vu.resolve(!1);for(const n of e)t=t.next(e=>e?vu.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}}class _u{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.Tt=new Ai,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{t.error?this.Tt.reject(new Iu(e,t.error)):this.Tt.resolve()},this.transaction.onerror=t=>{const n=Au(t.target.error);this.Tt.reject(new Iu(e,n))}}static open(e,t,n,r){try{return new _u(t,e.transaction(r,n))}catch(e){throw new Iu(t,e)}}get It(){return this.Tt.promise}abort(e){e&&this.Tt.reject(e),this.aborted||(vi("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new Eu(t)}}class wu{constructor(e,t,n){this.name=e,this.version=t,this.At=n,12.2===wu.Rt((0,se.z$)())&&_i("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return vi("SimpleDb","Removing database:",e),Su(window.indexedDB.deleteDatabase(e)).toPromise()}static Pt(){if("undefined"==typeof indexedDB)return!1;if(wu.bt())return!0;const e=(0,se.z$)(),t=wu.Rt(e),n=0<t&&t<10,r=wu.vt(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static bt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}static St(e,t){return e.store(t)}static Rt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static vt(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}Dt(e){var t=this;return(0,te.Z)(function*(){return t.db||(vi("SimpleDb","Opening database:",t.name),t.db=yield new Promise((n,r)=>{const i=indexedDB.open(t.name,t.version);i.onsuccess=e=>{n(e.target.result)},i.onblocked=()=>{r(new Iu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=t=>{const n=t.target.error;r("VersionError"===n.name?new Ci(Si.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Iu(e,n))},i.onupgradeneeded=e=>{vi("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',e.oldVersion),t.At.Ct(e.target.result,i.transaction,e.oldVersion,t.version).next(()=>{vi("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Nt&&(t.db.onversionchange=e=>t.Nt(e)),t.db})()}xt(e){this.Nt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,n,r){var i=this;return(0,te.Z)(function*(){const s="readonly"===t;let o=0;for(;;){++o;try{i.db=yield i.Dt(e);const t=_u.open(i.db,e,s?"readonly":"readwrite",n),o=r(t).catch(e=>(t.abort(e),vu.reject(e))).toPromise();return o.catch(()=>{}),yield t.It,o}catch(e){const n="FirebaseError"!==e.name&&o<3;if(vi("SimpleDb","Transaction failed with error:",e.message,"Retrying:",n),i.close(),!n)return Promise.reject(e)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class bu{constructor(e){this.kt=e,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(e){this.kt=e}done(){this.$t=!0}Mt(e){this.Ot=e}delete(){return Su(this.kt.delete())}}class Iu extends Ci{constructor(e,t){super(Si.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Tu(e){return"IndexedDbTransactionError"===e.name}class Eu{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(vi("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(vi("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Su(n)}add(e){return vi("SimpleDb","ADD",this.store.name,e,e),Su(this.store.add(e))}get(e){return Su(this.store.get(e)).next(t=>(void 0===t&&(t=null),vi("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return vi("SimpleDb","DELETE",this.store.name,e),Su(this.store.delete(e))}count(){return vi("SimpleDb","COUNT",this.store.name),Su(this.store.count())}Lt(e,t){const n=this.cursor(this.options(e,t)),r=[];return this.Bt(n,(e,t)=>{r.push(t)}).next(()=>r)}Ut(e,t){vi("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.qt=!1;const r=this.cursor(n);return this.Bt(r,(e,t,n)=>n.delete())}Kt(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.Bt(r,t)}jt(e){const t=this.cursor({});return new vu((n,r)=>{t.onerror=e=>{const t=Au(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next(e=>{e?r.continue():n()}):n()}})}Bt(e,t){const n=[];return new vu((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new bu(i),o=t(i.primaryKey,i.value,s);if(o instanceof vu){const e=o.catch(e=>(s.done(),vu.reject(e)));n.push(e)}s.isDone?r():null===s.Ft?i.continue():i.continue(s.Ft)}}).next(()=>vu.waitFor(n))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.qt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Su(e){return new vu((t,n)=>{e.onsuccess=e=>{t(e.target.result)},e.onerror=e=>{const t=Au(e.target.error);n(t)}})}let Cu=!1;function Au(e){const t=wu.Rt((0,se.z$)());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Ci("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Cu||(Cu=!0,setTimeout(()=>{throw e},0)),e}}return e}class ku extends yu{constructor(e,t){super(),this.Qt=e,this.currentSequenceNumber=t}}function xu(e,t){const n=Ei(e);return wu.St(n.Qt,t)}class Nu{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&xo(t,e,n[r])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&No(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&No(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const n=e.get(t.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(qi.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ia())}isEqual(e){return this.batchId===e.batchId&&Ui(this.mutations,e.mutations,(e,t)=>Do(e,t))&&Ui(this.baseMutations,e.baseMutations,(e,t)=>Do(e,t))}}class Ou{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Ti(e.mutations.length===n.length);let r=na();const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Ou(e,t,n,r)}}class Du{constructor(e,t,n,r,i=qi.min(),s=qi.min(),o=Yi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(e){return new Du(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Du(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Du(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Ru{constructor(e){this.Wt=e}}function Pu(e,t){if(t.document)return Da(e.Wt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=as.fromSegments(t.noDocument.path),n=Vu(t.noDocument.readTime),r=Es.newNoDocument(e,n);return t.hasCommittedMutations?r.setHasCommittedMutations():r}if(t.unknownDocument){const e=as.fromSegments(t.unknownDocument.path),n=Vu(t.unknownDocument.version);return Es.newUnknownDocument(e,n)}return Ii()}function Lu(e,t,n){const r=Mu(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){const n=function(e,t){return{name:Sa(e,t.key),fields:t.data.value.mapValue.fields,updateTime:_a(e,t.version.toTimestamp())}}(e.Wt,t);return new ou(null,null,n,t.hasCommittedMutations,r,i)}if(t.isNoDocument()){const e=t.key.path.toArray(),n=Uu(t.version),s=t.hasCommittedMutations;return new ou(null,new iu(e,n),null,s,r,i)}if(t.isUnknownDocument()){const e=t.key.path.toArray(),n=Uu(t.version);return new ou(new su(e,n),null,null,!0,r,i)}return Ii()}function Mu(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Fu(e){const t=new ji(e[0],e[1]);return qi.fromTimestamp(t)}function Uu(e){const t=e.toTimestamp();return new Xa(t.seconds,t.nanoseconds)}function Vu(e){const t=new ji(e.seconds,e.nanoseconds);return qi.fromTimestamp(t)}function ju(e,t){const n=(t.baseMutations||[]).map(t=>Pa(e.Wt,t));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(e.updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s)}const r=t.mutations.map(t=>Pa(e.Wt,t)),i=ji.fromMillis(t.localWriteTimeMs);return new Nu(t.batchId,i,n,r)}function qu(e){const t=Vu(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Vu(e.lastLimboFreeSnapshotVersion):qi.min();let r;var i;return void 0!==e.query.documents?(Ti(1===(i=e.query).documents.length),r=eo(Gs(ka(i.documents[0])))):r=function(e){return eo(Fa(e))}(e.query),new Du(r,e.targetId,0,e.lastListenSequenceNumber,t,n,Yi.fromBase64String(e.resumeToken))}function Zu(e,t){const n=Uu(t.snapshotVersion),r=Uu(t.lastLimboFreeSnapshotVersion);let i;i=xs(t.target)?La(e.Wt,t.target):Ma(e.Wt,t.target);const s=t.resumeToken.toBase64();return new uu(t.targetId,As(t.target),n,s,t.sequenceNumber,r,i)}function zu(e){const t=Fa({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?to(t,t.limit,"L"):t}class Bu{getBundleMetadata(e,t){return $u(e).get(t).next(e=>{if(e)return{id:(t=e).bundleId,createTime:Vu(t.createTime),version:t.version};var t})}saveBundleMetadata(e,t){return $u(e).put({bundleId:(n=t).id,createTime:Uu(Ia(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return Hu(e).get(t).next(e=>{if(e)return{name:(t=e).name,query:zu(t.bundledQuery),readTime:Vu(t.readTime)};var t})}saveNamedQuery(e,t){return Hu(e).put(function(e){return{name:e.name,readTime:Uu(Ia(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function $u(e){return xu(e,fu.store)}function Hu(e){return xu(e,pu.store)}class Gu{constructor(){this.Gt=new Ku}addToCollectionParentIndex(e,t){return this.Gt.add(t),vu.resolve()}getCollectionParents(e,t){return vu.resolve(this.Gt.getEntries(t))}}class Ku{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Wo(Hi.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Wo(Hi.comparator)).toArray()}}class Wu{constructor(){this.zt=new Ku}addToCollectionParentIndex(e,t){if(!this.zt.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.zt.add(t)});const i={collectionId:n,parent:Wa(r)};return Yu(e).put(i)}return vu.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[Vi(t),""],!1,!0);return Yu(e).Lt(r).next(e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Ja(r.parent))}return n})}}function Yu(e){return xu(e,hu.store)}const Qu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ju{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Ju(e,Ju.DEFAULT_COLLECTION_PERCENTILE,Ju.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Xu(e,t,n){const r=e.store(nu.store),i=e.store(ru.store),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const u=r.Kt({range:o},(e,t,n)=>(a++,n.delete()));s.push(u.next(()=>{Ti(1===a)}));const c=[];for(const l of n.mutations){const e=ru.key(t,l.key.path,n.batchId);s.push(i.delete(e)),c.push(l.key)}return vu.waitFor(s).next(()=>c)}function ec(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Ii();t=e.noDocument}return JSON.stringify(t).length}Ju.DEFAULT_COLLECTION_PERCENTILE=10,Ju.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ju.DEFAULT=new Ju(41943040,Ju.DEFAULT_COLLECTION_PERCENTILE,Ju.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ju.DISABLED=new Ju(-1,0,0);class tc{constructor(e,t,n,r){this.userId=e,this.N=t,this.Ht=n,this.referenceDelegate=r,this.Jt={}}static Yt(e,t,n,r){Ti(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new tc(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return rc(e).Kt({index:nu.userMutationsIndex,range:n},(e,n,r)=>{t=!1,r.done()}).next(()=>t)}addMutationBatch(e,t,n,r){const i=ic(e),s=rc(e);return s.add({}).next(o=>{Ti("number"==typeof o);const a=new Nu(o,t,n,r),u=function(e,t,n){const r=n.baseMutations.map(t=>Ra(e.Wt,t)),i=n.mutations.map(t=>Ra(e.Wt,t));return new nu(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(this.N,this.userId,a),c=[];let l=new Wo((e,t)=>Fi(e.canonicalString(),t.canonicalString()));for(const e of r){const t=ru.key(this.userId,e.key.path,o);l=l.add(e.key.path.popLast()),c.push(s.put(u)),c.push(i.put(t,ru.PLACEHOLDER))}return l.forEach(t=>{c.push(this.Ht.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.Jt[o]=a.keys()}),vu.waitFor(c).next(()=>a)})}lookupMutationBatch(e,t){return rc(e).get(t).next(e=>e?(Ti(e.userId===this.userId),ju(this.N,e)):null)}Xt(e,t){return this.Jt[t]?vu.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){const n=e.keys();return this.Jt[t]=n,n}return null})}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return rc(e).Kt({index:nu.userMutationsIndex,range:r},(e,t,r)=>{t.userId===this.userId&&(Ti(t.batchId>=n),i=ju(this.N,t)),r.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return rc(e).Kt({index:nu.userMutationsIndex,range:t,reverse:!0},(e,t,r)=>{n=t.batchId,r.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return rc(e).Lt(nu.userMutationsIndex,t).next(e=>e.map(e=>ju(this.N,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=ru.prefixForPath(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return ic(e).Kt({range:r},(n,r,s)=>{const[o,a,u]=n,c=Ja(a);if(o===this.userId&&t.path.isEqual(c))return rc(e).get(u).next(e=>{if(!e)throw Ii();Ti(e.userId===this.userId),i.push(ju(this.N,e))});s.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Wo(Fi);const r=[];return t.forEach(t=>{const i=ru.prefixForPath(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=ic(e).Kt({range:s},(e,r,i)=>{const[s,o,a]=e,u=Ja(o);s===this.userId&&t.path.isEqual(u)?n=n.add(a):i.done()});r.push(o)}),vu.waitFor(r).next(()=>this.Zt(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=ru.prefixForPath(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new Wo(Fi);return ic(e).Kt({range:s},(e,t,i)=>{const[s,a,u]=e,c=Ja(a);s===this.userId&&n.isPrefixOf(c)?c.length===r&&(o=o.add(u)):i.done()}).next(()=>this.Zt(e,o))}Zt(e,t){const n=[],r=[];return t.forEach(t=>{r.push(rc(e).get(t).next(e=>{if(null===e)throw Ii();Ti(e.userId===this.userId),n.push(ju(this.N,e))}))}),vu.waitFor(r).next(()=>n)}removeMutationBatch(e,t){return Xu(e.Qt,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this.te(t.batchId)}),vu.forEach(n,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}te(e){delete this.Jt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return vu.resolve();const n=IDBKeyRange.lowerBound(ru.prefixForUser(this.userId)),r=[];return ic(e).Kt({range:n},(e,t,n)=>{if(e[0]===this.userId){const t=Ja(e[1]);r.push(t)}else n.done()}).next(()=>{Ti(0===r.length)})})}containsKey(e,t){return nc(e,this.userId,t)}ee(e){return sc(e).get(this.userId).next(e=>e||new tu(this.userId,-1,""))}}function nc(e,t,n){const r=ru.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return ic(e).Kt({range:s,qt:!0},(e,n,r)=>{const[s,a,u]=e;s===t&&a===i&&(o=!0),r.done()}).next(()=>o)}function rc(e){return xu(e,nu.store)}function ic(e){return xu(e,ru.store)}function sc(e){return xu(e,tu.store)}class oc{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new oc(0)}static ie(){return new oc(-1)}}class ac{constructor(e,t){this.referenceDelegate=e,this.N=t}allocateTargetId(e){return this.re(e).next(t=>{const n=new oc(t.highestTargetId);return t.highestTargetId=n.next(),this.oe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.re(e).next(e=>qi.fromTimestamp(new ji(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.re(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.re(e).next(r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.oe(e,r)))}addTargetData(e,t){return this.ae(e,t).next(()=>this.re(e).next(n=>(n.targetCount+=1,this.ce(t,n),this.oe(e,n))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>uc(e).delete(t.targetId)).next(()=>this.re(e)).next(t=>(Ti(t.targetCount>0),t.targetCount-=1,this.oe(e,t)))}removeTargets(e,t,n){let r=0;const i=[];return uc(e).Kt((s,o)=>{const a=qu(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))}).next(()=>vu.waitFor(i)).next(()=>r)}forEachTarget(e,t){return uc(e).Kt((e,n)=>{const r=qu(n);t(r)})}re(e){return cc(e).get(lu.key).next(e=>(Ti(null!==e),e))}oe(e,t){return cc(e).put(lu.key,t)}ae(e,t){return uc(e).put(Zu(this.N,t))}ce(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.re(e).next(e=>e.targetCount)}getTargetData(e,t){const n=As(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return uc(e).Kt({range:r,index:uu.queryTargetsIndexName},(e,n,r)=>{const s=qu(n);ks(t,s.target)&&(i=s,r.done())}).next(()=>i)}addMatchingKeys(e,t,n){const r=[],i=lc(e);return t.forEach(t=>{const s=Wa(t.path);r.push(i.put(new cu(n,s))),r.push(this.referenceDelegate.addReference(e,n,t))}),vu.waitFor(r)}removeMatchingKeys(e,t,n){const r=lc(e);return vu.forEach(t,t=>{const i=Wa(t.path);return vu.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])})}removeMatchingKeysForTargetId(e,t){const n=lc(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=lc(e);let i=ia();return r.Kt({range:n,qt:!0},(e,t,n)=>{const r=Ja(e[1]),s=new as(r);i=i.add(s)}).next(()=>i)}containsKey(e,t){const n=Wa(t.path),r=IDBKeyRange.bound([n],[Vi(n)],!1,!0);let i=0;return lc(e).Kt({index:cu.documentTargetsIndex,qt:!0,range:r},([e,t],n,r)=>{0!==e&&(i++,r.done())}).next(()=>i>0)}Et(e,t){return uc(e).get(t).next(e=>e?qu(e):null)}}function uc(e){return xu(e,uu.store)}function cc(e){return xu(e,lu.store)}function lc(e){return xu(e,cu.store)}function hc(e){return dc.apply(this,arguments)}function dc(){return(dc=(0,te.Z)(function*(e){if(e.code!==Si.FAILED_PRECONDITION||e.message!==mu)throw e;vi("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function fc([e,t],[n,r]){const i=Fi(e,n);return 0===i?Fi(t,r):i}class pc{constructor(e){this.ue=e,this.buffer=new Wo(fc),this.he=0}le(){return++this.he}fe(e){const t=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();fc(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class gc{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.de=!1,this.we=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(e){var t=this;const n=this.de?3e5:6e4;vi("LruGarbageCollector",`Garbage collection scheduled in ${n}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,te.Z)(function*(){t.we=null,t.de=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(e){Tu(e)?vi("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):yield hc(e)}yield t._e(e)}))}}class mc{constructor(e,t){this.me=e,this.params=t}calculateTargetCount(e,t){return this.me.ge(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return vu.resolve(Pi.T);const n=new pc(t);return this.me.forEachTarget(e,e=>n.fe(e.sequenceNumber)).next(()=>this.me.ye(e,e=>n.fe(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.me.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.me.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(vi("LruGarbageCollector","Garbage collection skipped; disabled"),vu.resolve(Qu)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(vi("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qu):this.pe(e,t))}getCacheSize(e){return this.me.getCacheSize(e)}pe(e,t){let n,r,i,s,o,a,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(vi("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(u=Date.now(),yi()<=ie.in.DEBUG&&vi("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-c}ms\n\tDetermined least recently used ${r} in `+(o-s)+"ms\n"+`\tRemoved ${i} targets in `+(a-o)+"ms\n"+`\tRemoved ${e} documents in `+(u-a)+"ms\n"+`Total Duration: ${u-c}ms`),vu.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}class yc{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new mc(e,t)}(this,t)}ge(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}Ee(e){let t=0;return this.ye(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ye(e,t){return this.Te(e,(e,n)=>t(n))}addReference(e,t,n){return vc(e,n)}removeReference(e,t,n){return vc(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return vc(e,t)}Ie(e,t){return function(e,t){let n=!1;return sc(e).jt(r=>nc(e,r,t).next(e=>(e&&(n=!0),vu.resolve(!e)))).next(()=>n)}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Te(e,(s,o)=>{if(o<=t){const t=this.Ie(e,s).next(t=>{if(!t)return i++,n.getEntry(e,s).next(()=>(n.removeEntry(s),lc(e).delete([0,Wa(s.path)])))});r.push(t)}}).next(()=>vu.waitFor(r)).next(()=>n.apply(e)).next(()=>i)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return vc(e,t)}Te(e,t){const n=lc(e);let r,i=Pi.T;return n.Kt({index:cu.documentTargetsIndex},([e,n],{path:s,sequenceNumber:o})=>{0===e?(i!==Pi.T&&t(new as(Ja(r)),i),i=o,r=s):i=Pi.T}).next(()=>{i!==Pi.T&&t(new as(Ja(r)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function vc(e,t){return lc(e).put(function(e,t){return new cu(0,Wa(e.path),t)}(t,e.currentSequenceNumber))}class _c{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}forEach(e){zi(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Bi(this.inner)}}class wc{constructor(){this.changes=new _c(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:qi.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Es.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?vu.resolve(n.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class bc{constructor(e,t){this.N=e,this.Ht=t}addEntry(e,t,n){return Ec(e).put(Sc(t),n)}removeEntry(e,t){const n=Ec(e),r=Sc(t);return n.delete(r)}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.Ae(e,n)))}getEntry(e,t){return Ec(e).get(Sc(t)).next(e=>this.Re(t,e))}Pe(e,t){return Ec(e).get(Sc(t)).next(e=>({document:this.Re(t,e),size:ec(e)}))}getEntries(e,t){let n=Jo();return this.be(e,t,(e,t)=>{const r=this.Re(e,t);n=n.insert(e,r)}).next(()=>n)}ve(e,t){let n=Jo(),r=new Ho(as.comparator);return this.be(e,t,(e,t)=>{const i=this.Re(e,t);n=n.insert(e,i),r=r.insert(e,ec(t))}).next(()=>({documents:n,Ve:r}))}be(e,t,n){if(t.isEmpty())return vu.resolve();const r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator();let s=i.getNext();return Ec(e).Kt({range:r},(e,t,r)=>{const o=as.fromSegments(e);for(;s&&as.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,t),s=i.hasNext()?i.getNext():null),s?r.Mt(s.path.toArray()):r.done()}).next(()=>{for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})}getDocumentsMatchingQuery(e,t,n){let r=Jo();const i=t.path.length+1,s={};if(n.isEqual(qi.min())){const e=t.path.toArray();s.range=IDBKeyRange.lowerBound(e)}else{const e=t.path.toArray(),r=Mu(n);s.range=IDBKeyRange.lowerBound([e,r],!0),s.index=ou.collectionReadTimeIndex}return Ec(e).Kt(s,(e,n,s)=>{if(e.length!==i)return;const o=Pu(this.N,n);t.path.isPrefixOf(o.key.path)?so(t,o)&&(r=r.insert(o.key,o)):s.done()}).next(()=>r)}newChangeBuffer(e){return new Ic(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return Tc(e).get(au.key).next(e=>(Ti(!!e),e))}Ae(e,t){return Tc(e).put(au.key,t)}Re(e,t){if(t){const e=Pu(this.N,t);if(!e.isNoDocument()||!e.version.isEqual(qi.min()))return e}return Es.newInvalidDocument(e)}}class Ic extends wc{constructor(e,t){super(),this.Se=e,this.trackRemovals=t,this.De=new _c(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){const t=[];let n=0,r=new Wo((e,t)=>Fi(e.canonicalString(),t.canonicalString()));return this.changes.forEach((i,s)=>{const o=this.De.get(i);if(s.document.isValidDocument()){const a=Lu(this.Se.N,s.document,this.getReadTime(i));r=r.add(i.path.popLast());const u=ec(a);n+=u-o,t.push(this.Se.addEntry(e,i,a))}else if(n-=o,this.trackRemovals){const n=Lu(this.Se.N,Es.newNoDocument(i,qi.min()),this.getReadTime(i));t.push(this.Se.addEntry(e,i,n))}else t.push(this.Se.removeEntry(e,i))}),r.forEach(n=>{t.push(this.Se.Ht.addToCollectionParentIndex(e,n))}),t.push(this.Se.updateMetadata(e,n)),vu.waitFor(t)}getFromCache(e,t){return this.Se.Pe(e,t).next(e=>(this.De.set(t,e.size),e.document))}getAllFromCache(e,t){return this.Se.ve(e,t).next(({documents:e,Ve:t})=>(t.forEach((e,t)=>{this.De.set(e,t)}),e))}}function Tc(e){return xu(e,au.store)}function Ec(e){return xu(e,ou.store)}function Sc(e){return e.path.toArray()}class Cc{constructor(e){this.N=e}Ct(e,t,n,r){Ti(n<r&&n>=0&&r<=11);const i=new _u("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(eu.store)}(e),function(e){e.createObjectStore(tu.store,{keyPath:tu.keyPath}),e.createObjectStore(nu.store,{keyPath:nu.keyPath,autoIncrement:!0}).createIndex(nu.userMutationsIndex,nu.userMutationsKeyPath,{unique:!0}),e.createObjectStore(ru.store)}(e),Ac(e),function(e){e.createObjectStore(ou.store)}(e));let s=vu.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(cu.store),e.deleteObjectStore(uu.store),e.deleteObjectStore(lu.store)}(e),Ac(e)),s=s.next(()=>function(e){const t=e.store(lu.store),n=new lu(0,0,qi.min().toTimestamp(),0);return t.put(lu.key,n)}(i))),n<4&&r>=4&&(0!==n&&(s=s.next(()=>function(e,t){return t.store(nu.store).Lt().next(n=>{e.deleteObjectStore(nu.store),e.createObjectStore(nu.store,{keyPath:nu.keyPath,autoIncrement:!0}).createIndex(nu.userMutationsIndex,nu.userMutationsKeyPath,{unique:!0});const r=t.store(nu.store),i=n.map(e=>r.put(e));return vu.waitFor(i)})}(e,i))),s=s.next(()=>{!function(e){e.createObjectStore(du.store,{keyPath:du.keyPath})}(e)})),n<5&&r>=5&&(s=s.next(()=>this.Ce(i))),n<6&&r>=6&&(s=s.next(()=>(function(e){e.createObjectStore(au.store)}(e),this.Ne(i)))),n<7&&r>=7&&(s=s.next(()=>this.xe(i))),n<8&&r>=8&&(s=s.next(()=>this.ke(e,i))),n<9&&r>=9&&(s=s.next(()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){const t=e.objectStore(ou.store);t.createIndex(ou.readTimeIndex,ou.readTimeIndexPath,{unique:!1}),t.createIndex(ou.collectionReadTimeIndex,ou.collectionReadTimeIndexPath,{unique:!1})}(t)})),n<10&&r>=10&&(s=s.next(()=>this.$e(i))),n<11&&r>=11&&(s=s.next(()=>{!function(e){e.createObjectStore(fu.store,{keyPath:fu.keyPath})}(e),function(e){e.createObjectStore(pu.store,{keyPath:pu.keyPath})}(e)})),s}Ne(e){let t=0;return e.store(ou.store).Kt((e,n)=>{t+=ec(n)}).next(()=>{const n=new au(t);return e.store(au.store).put(au.key,n)})}Ce(e){const t=e.store(tu.store),n=e.store(nu.store);return t.Lt().next(t=>vu.forEach(t,t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.Lt(nu.userMutationsIndex,r).next(n=>vu.forEach(n,n=>{Ti(n.userId===t.userId);const r=ju(this.N,n);return Xu(e,t.userId,r).next(()=>{})}))}))}xe(e){const t=e.store(cu.store),n=e.store(ou.store);return e.store(lu.store).get(lu.key).next(e=>{const r=[];return n.Kt((n,i)=>{const s=new Hi(n),o=function(e){return[0,Wa(e)]}(s);r.push(t.get(o).next(n=>n?vu.resolve():(n=>t.put(new cu(0,Wa(n),e.highestListenSequenceNumber)))(s)))}).next(()=>vu.waitFor(r))})}ke(e,t){e.createObjectStore(hu.store,{keyPath:hu.keyPath});const n=t.store(hu.store),r=new Ku,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Wa(r)})}};return t.store(ou.store).Kt({qt:!0},(e,t)=>{const n=new Hi(e);return i(n.popLast())}).next(()=>t.store(ru.store).Kt({qt:!0},([e,t,n],r)=>{const s=Ja(t);return i(s.popLast())}))}$e(e){const t=e.store(uu.store);return t.Kt((e,n)=>{const r=qu(n),i=Zu(this.N,r);return t.put(i)})}}function Ac(e){e.createObjectStore(cu.store,{keyPath:cu.keyPath}).createIndex(cu.documentTargetsIndex,cu.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(uu.store,{keyPath:uu.keyPath}).createIndex(uu.queryTargetsIndexName,uu.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(lu.store)}const kc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class xc{constructor(e,t,n,r,i,s,o,a,u,c){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Oe=i,this.window=s,this.document=o,this.Fe=u,this.Me=c,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=e=>Promise.resolve(),!xc.Pt())throw new Ci(Si.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new yc(this,r),this.We=t+"main",this.N=new Ru(a),this.Ge=new wu(this.We,11,new Cc(this.N)),this.ze=new ac(this.referenceDelegate,this.N),this.Ht=new Wu,this.He=function(e,t){return new bc(e,t)}(this.N,this.Ht),this.Je=new Bu,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===c&&_i("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ci(Si.FAILED_PRECONDITION,kc);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ze.getHighestSequenceNumber(e))}).then(e=>{this.Le=new Pi(e,this.Fe)}).then(()=>{this.Be=!0}).catch(e=>(this.Ge&&this.Ge.close(),Promise.reject(e)))}nn(e){var t=this;return this.Qe=function(){var n=(0,te.Z)(function*(n){if(t.started)return e(n)});return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ge.xt(function(){var t=(0,te.Z)(function*(t){null===t.newVersion&&(yield e())});return function(e){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,te.Z)(function*(){t.started&&(yield t.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Oc(e).put(new du(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(e).next(e=>{e||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(e)).next(t=>this.isPrimary&&!t?this.on(e).next(()=>!1):!!t&&this.an(e).next(()=>!0))).catch(e=>{if(Tu(e))return vi("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return vi("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.Qe(e)),this.isPrimary=e})}sn(e){return Nc(e).get(eu.key).next(e=>vu.resolve(this.cn(e)))}un(e){return Oc(e).delete(this.clientId)}hn(){var e=this;return(0,te.Z)(function*(){if(e.isPrimary&&!e.ln(e.je,18e5)){e.je=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const n=xu(t,du.store);return n.Lt().next(t=>{const r=e.fn(t,18e5),i=t.filter(e=>-1===r.indexOf(e));return vu.forEach(i,e=>n.delete(e.clientId)).next(()=>i)})}).catch(()=>[]);if(e.Ye)for(const n of t)e.Ye.removeItem(e.dn(n.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(e){return!!e&&e.ownerId===this.clientId}rn(e){return this.Me?vu.resolve(!0):Nc(e).get(eu.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)){if(this.cn(t)&&this.networkEnabled)return!0;if(!this.cn(t)){if(!t.allowTabSynchronization)throw new Ci(Si.FAILED_PRECONDITION,kc);return!1}}return!(!this.networkEnabled||!this.inForeground)||Oc(e).Lt().next(e=>void 0===this.fn(e,5e3).find(e=>{if(this.clientId!==e.clientId){const t=!this.inForeground&&e.inForeground,n=this.networkEnabled===e.networkEnabled;if(!this.networkEnabled&&e.networkEnabled||t&&n)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&vi("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var e=this;return(0,te.Z)(function*(){e.Be=!1,e._n(),e.Ke&&(e.Ke.cancel(),e.Ke=null),e.mn(),e.gn(),yield e.Ge.runTransaction("shutdown","readwrite",[eu.store,du.store],t=>{const n=new ku(t,Pi.T);return e.on(n).next(()=>e.un(n))}),e.Ge.close(),e.yn()})()}fn(e,t){return e.filter(e=>this.ln(e.updateTimeMs,t)&&!this.wn(e.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",e=>Oc(e).Lt().next(e=>this.fn(e,18e5).map(e=>e.clientId)))}get started(){return this.Be}getMutationQueue(e){return tc.Yt(e,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(e,t,n){let r;return vi("IndexedDbPersistence","Starting transaction:",e),this.Ge.runTransaction(e,"readonly"===t?"readonly":"readwrite",gu,i=>(r=new ku(i,this.Le?this.Le.next():Pi.T),"readwrite-primary"===t?this.sn(r).next(e=>!!e||this.rn(r)).next(t=>{if(!t)throw _i(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Ci(Si.FAILED_PRECONDITION,mu);return n(r)}).next(e=>this.an(r).next(()=>e)):this.En(r).next(()=>n(r)))).then(e=>(r.raiseOnCommittedEvent(),e))}En(e){return Nc(e).get(eu.key).next(e=>{if(null!==e&&this.ln(e.leaseTimestampMs,5e3)&&!this.wn(e.ownerId)&&!this.cn(e)&&!(this.Me||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Ci(Si.FAILED_PRECONDITION,kc)})}an(e){const t=new eu(this.clientId,this.allowTabSynchronization,Date.now());return Nc(e).put(eu.key,t)}static Pt(){return wu.Pt()}on(e){const t=Nc(e);return t.get(eu.key).next(e=>this.cn(e)?(vi("IndexedDbPersistence","Releasing primary lease."),t.delete(eu.key)):vu.resolve())}ln(e,t){const n=Date.now();return!(e<n-t||e>n&&(_i(`Detected an update time that is in the future: ${e} > ${n}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=()=>{this._n(),(0,se.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(e){var t;try{const n=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return vi("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return _i("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(e){_i("Failed to set zombie client id.",e)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(e){}}dn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Nc(e){return xu(e,eu.store)}function Oc(e){return xu(e,du.store)}function Dc(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Rc{constructor(e,t){this.progress=e,this.Tn=t}}class Pc{constructor(e,t,n){this.He=e,this.In=t,this.Ht=n}An(e,t){return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next(n=>this.Rn(e,t,n))}Rn(e,t,n){return this.He.getEntry(e,t).next(e=>{for(const t of n)t.applyToLocalView(e);return e})}Pn(e,t){e.forEach((e,n)=>{for(const r of t)r.applyToLocalView(n)})}bn(e,t){return this.He.getEntries(e,t).next(t=>this.vn(e,t).next(()=>t))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>this.Pn(t,e))}getDocumentsMatchingQuery(e,t,n){return function(e){return as.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Vn(e,t.path):Js(t)?this.Sn(e,t,n):this.Dn(e,t,n)}Vn(e,t){return this.An(e,new as(t)).next(e=>{let t=ea();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}Sn(e,t,n){const r=t.collectionGroup;let i=ea();return this.Ht.getCollectionParents(e,r).next(s=>vu.forEach(s,s=>{const o=function(e,t){return new $s(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.Dn(e,o,n).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}Dn(e,t,n){let r,i;return this.He.getDocumentsMatchingQuery(e,t,n).next(n=>(r=n,this.In.getAllMutationBatchesAffectingQuery(e,t))).next(t=>(i=t,this.Cn(e,i,r).next(e=>{r=e;for(const t of i)for(const e of t.mutations){const n=e.key;let i=r.get(n);null==i&&(i=Es.newInvalidDocument(n),r=r.insert(n,i)),No(e,i,t.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}}))).next(()=>(r.forEach((e,n)=>{so(t,n)||(r=r.remove(e))}),r))}Cn(e,t,n){let r=ia();for(const s of t)for(const e of s.mutations)e instanceof Lo&&null===n.get(e.key)&&(r=r.add(e.key));let i=n;return this.He.getEntries(e,r).next(e=>(e.forEach((e,t)=>{t.isFoundDocument()&&(i=i.insert(e,t))}),i))}}class Lc{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Nn=n,this.xn=r}static kn(e,t){let n=ia(),r=ia();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Lc(e,t.fromCache,n,r)}}class Mc{$n(e){this.On=e}getDocumentsMatchingQuery(e,t,n,r){return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(qi.min())?this.Fn(e,t):this.On.bn(e,r).next(i=>{const s=this.Mn(t,i);return(Ks(t)||Ws(t))&&this.Ln(t.limitType,s,r,n)?this.Fn(e,t):(yi()<=ie.in.DEBUG&&vi("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),io(t)),this.On.getDocumentsMatchingQuery(e,t,n).next(e=>(s.forEach(t=>{e=e.insert(t.key,t)}),e)))})}Mn(e,t){let n=new Wo(oo(e));return t.forEach((t,r)=>{so(e,r)&&(n=n.add(r))}),n}Ln(e,t,n,r){if(n.size!==t.size)return!0;const i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Fn(e,t){return yi()<=ie.in.DEBUG&&vi("QueryEngine","Using full collection scan to execute query:",io(t)),this.On.getDocumentsMatchingQuery(e,t,qi.min())}}class Fc{constructor(e,t,n,r){this.persistence=e,this.Bn=t,this.N=r,this.Un=new Ho(Fi),this.qn=new _c(e=>As(e),ks),this.Kn=qi.min(),this.In=e.getMutationQueue(n),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new Pc(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Un))}}function Uc(e,t,n,r){return new Fc(e,t,n,r)}function Vc(e,t){return jc.apply(this,arguments)}function jc(){return(jc=(0,te.Z)(function*(e,t){const n=Ei(e);let r=n.In,i=n.Qn;const s=yield n.persistence.runTransaction("Handle user change","readonly",e=>{let s;return n.In.getAllMutationBatches(e).next(o=>(s=o,r=n.persistence.getMutationQueue(t),i=new Pc(n.jn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e))).next(t=>{const n=[],r=[];let o=ia();for(const e of s){n.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){r.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return i.bn(e,o).next(e=>({Wn:e,removedBatchIds:n,addedBatchIds:r}))})});return n.In=r,n.Qn=i,n.Bn.$n(n.Qn),s})).apply(this,arguments)}function qc(e,t){const n=Ei(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.jn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=vu.resolve();return s.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);Ti(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))})}),o.next(()=>e.In.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.In.performConsistencyCheck(e)).next(()=>n.Qn.bn(e,r))})}function Zc(e){const t=Ei(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.ze.getLastRemoteSnapshotVersion(e))}function zc(e,t){const n=Ei(e),r=t.snapshotVersion;let i=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.jn.newChangeBuffer({trackRemovals:!0});i=n.Un;const o=[];t.targetChanges.forEach((t,s)=>{const a=i.get(s);if(!a)return;o.push(n.ze.removeMatchingKeys(e,t.removedDocuments,s).next(()=>n.ze.addMatchingKeys(e,t.addedDocuments,s)));const u=t.resumeToken;if(u.approximateByteSize()>0){const c=a.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(s,c),function(e,t,n){return Ti(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,t)&&o.push(n.ze.updateTargetData(e,c))}});let a=Jo();if(t.documentUpdates.forEach((r,i)=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(Bc(e,s,t.documentUpdates,r,void 0).next(e=>{a=e})),!r.isEqual(qi.min())){const t=n.ze.getLastRemoteSnapshotVersion(e).next(t=>n.ze.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return vu.waitFor(o).next(()=>s.apply(e)).next(()=>n.Qn.vn(e,a)).next(()=>a)}).then(e=>(n.Un=i,e))}function Bc(e,t,n,r,i){let s=ia();return n.forEach(e=>s=s.add(e)),t.getEntries(e,s).next(e=>{let s=Jo();return n.forEach((n,o)=>{const a=e.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(qi.min())?(t.removeEntry(n,u),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o,u),s=s.insert(n,o)):vi("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function $c(e,t){const n=Ei(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.In.getNextMutationBatchAfterBatchId(e,t)))}function Hc(e,t){const n=Ei(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.ze.getTargetData(e,t).next(i=>i?(r=i,vu.resolve(r)):n.ze.allocateTargetId(e).next(i=>(r=new Du(t,i,0,e.currentSequenceNumber),n.ze.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Un.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Un=n.Un.insert(e.targetId,e),n.qn.set(t,e.targetId)),e})}function Gc(e,t,n){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,te.Z)(function*(e,t,n){const r=Ei(e),i=r.Un.get(t),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Tu(e))throw e;vi("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Un=r.Un.remove(t),r.qn.delete(i.target)})).apply(this,arguments)}function Wc(e,t,n){const r=Ei(e);let i=qi.min(),s=ia();return r.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const r=Ei(e),i=r.qn.get(n);return void 0!==i?vu.resolve(r.Un.get(i)):r.ze.getTargetData(t,n)}(r,e,eo(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Bn.getDocumentsMatchingQuery(e,t,n?i:qi.min(),n?s:ia())).next(e=>({documents:e,Gn:s})))}function Yc(e,t){const n=Ei(e),r=Ei(n.ze),i=n.Un.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",e=>r.Et(e,t).next(e=>e?e.target:null))}function Qc(e){const t=Ei(e);return t.persistence.runTransaction("Get new document changes","readonly",e=>function(e,t,n){const r=Ei(e);let i=Jo(),s=Mu(n);const o=Ec(t),a=IDBKeyRange.lowerBound(s,!0);return o.Kt({index:ou.readTimeIndex,range:a},(e,t)=>{const n=Pu(r.N,t);i=i.insert(n.key,n),s=t.readTime}).next(()=>({Tn:i,readTime:Fu(s)}))}(t.jn,e,t.Kn)).then(({Tn:e,readTime:n})=>(t.Kn=n,e))}function Jc(){return(Jc=(0,te.Z)(function*(e){const t=Ei(e);return t.persistence.runTransaction("Synchronize last document change read time","readonly",e=>function(e){const t=Ec(e);let n=qi.min();return t.Kt({index:ou.readTimeIndex,reverse:!0},(e,t,r)=>{t.readTime&&(n=Fu(t.readTime)),r.done()}).next(()=>n)}(e)).then(e=>{t.Kn=e})})).apply(this,arguments)}function Xc(){return(Xc=(0,te.Z)(function*(e,t,n,r){const i=Ei(e);let s=ia(),o=Jo(),a=na();for(const l of n){const e=t.zn(l.metadata.name);l.document&&(s=s.add(e)),o=o.insert(e,t.Hn(l)),a=a.insert(e,t.Jn(l.metadata.readTime))}const u=i.jn.newChangeBuffer({trackRemovals:!0}),c=yield Hc(i,function(e){return eo(Gs(Hi.fromString(`__bundle__/docs/${e}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",e=>Bc(e,u,o,qi.min(),a).next(t=>(u.apply(e),t)).next(t=>i.ze.removeMatchingKeysForTargetId(e,c.targetId).next(()=>i.ze.addMatchingKeys(e,s,c.targetId)).next(()=>i.Qn.vn(e,t)).next(()=>t)))})).apply(this,arguments)}function el(e,t){return tl.apply(this,arguments)}function tl(){return(tl=(0,te.Z)(function*(e,t,n=ia()){const r=yield Hc(e,eo(zu(t.bundledQuery))),i=Ei(e);return i.persistence.runTransaction("Save named query","readwrite",e=>{const s=Ia(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Je.saveNamedQuery(e,t);const o=r.withResumeToken(Yi.EMPTY_BYTE_STRING,s);return i.Un=i.Un.insert(o.targetId,o),i.ze.updateTargetData(e,o).next(()=>i.ze.removeMatchingKeysForTargetId(e,r.targetId)).next(()=>i.ze.addMatchingKeys(e,n,r.targetId)).next(()=>i.Je.saveNamedQuery(e,t))})})).apply(this,arguments)}class nl{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return vu.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){var n;return this.Yn.set(t.id,{id:(n=t).id,version:n.version,createTime:Ia(n.createTime)}),vu.resolve()}getNamedQuery(e,t){return vu.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,function(e){return{name:e.name,query:zu(e.bundledQuery),readTime:Ia(e.readTime)}}(t)),vu.resolve()}}class rl{constructor(){this.Zn=new Wo(il.ts),this.es=new Wo(il.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const n=new il(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}ss(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.rs(new il(e,t))}os(e,t){e.forEach(e=>this.removeReference(e,t))}cs(e){const t=new as(new Hi([])),n=new il(t,e),r=new il(t,e+1),i=[];return this.es.forEachInRange([n,r],e=>{this.rs(e),i.push(e.key)}),i}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new as(new Hi([])),n=new il(t,e),r=new il(t,e+1);let i=ia();return this.es.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new il(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class il{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return as.comparator(e.key,t.key)||Fi(e.ls,t.ls)}static ns(e,t){return Fi(e.ls,t.ls)||as.comparator(e.key,t.key)}}class sl{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new Wo(il.ts)}checkEmpty(e){return vu.resolve(0===this.In.length)}addMutationBatch(e,t,n,r){const i=this.fs;this.fs++;const s=new Nu(i,t,n,r);this.In.push(s);for(const o of r)this.ds=this.ds.add(new il(o.key,i)),this.Ht.addToCollectionParentIndex(e,o.key.path.popLast());return vu.resolve(s)}lookupMutationBatch(e,t){return vu.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){const n=this._s(t+1),r=n<0?0:n;return vu.resolve(this.In.length>r?this.In[r]:null)}getHighestUnacknowledgedBatchId(){return vu.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return vu.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new il(t,0),r=new il(t,Number.POSITIVE_INFINITY),i=[];return this.ds.forEachInRange([n,r],e=>{const t=this.ws(e.ls);i.push(t)}),vu.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Wo(Fi);return t.forEach(e=>{const t=new il(e,0),r=new il(e,Number.POSITIVE_INFINITY);this.ds.forEachInRange([t,r],e=>{n=n.add(e.ls)})}),vu.resolve(this.gs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;as.isDocumentKey(i)||(i=i.child(""));const s=new il(new as(i),0);let o=new Wo(Fi);return this.ds.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)},s),vu.resolve(this.gs(o))}gs(e){const t=[];return e.forEach(e=>{const n=this.ws(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Ti(0===this.ys(t.batchId,"removed")),this.In.shift();let n=this.ds;return vu.forEach(t.mutations,r=>{const i=new il(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ds=n})}te(e){}containsKey(e,t){const n=new il(t,0),r=this.ds.firstAfterOrEqual(n);return vu.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return vu.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}class ol{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new Ho(as.comparator),this.size=0}addEntry(e,t,n){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.ps(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-s,this.Ht.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return vu.resolve(n?n.document.clone():Es.newInvalidDocument(t))}getEntries(e,t){let n=Jo();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.clone():Es.newInvalidDocument(e))}),vu.resolve(n)}getDocumentsMatchingQuery(e,t,n){let r=Jo();const i=new as(t.path.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:e,value:{document:i,readTime:o}}=s.getNext();if(!t.path.isPrefixOf(e.path))break;o.compareTo(n)<=0||so(t,i)&&(r=r.insert(i.key,i.clone()))}return vu.resolve(r)}Es(e,t){return vu.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new al(this)}getSize(e){return vu.resolve(this.size)}}class al extends wc{constructor(e){super(),this.Se=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.document.isValidDocument()?t.push(this.Se.addEntry(e,r.document,this.getReadTime(n))):this.Se.removeEntry(n)}),vu.waitFor(t)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}class ul{constructor(e){this.persistence=e,this.Ts=new _c(e=>As(e),ks),this.lastRemoteSnapshotVersion=qi.min(),this.highestTargetId=0,this.Is=0,this.As=new rl,this.targetCount=0,this.Rs=oc.se()}forEachTarget(e,t){return this.Ts.forEach((e,n)=>t(n)),vu.resolve()}getLastRemoteSnapshotVersion(e){return vu.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return vu.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),vu.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Is&&(this.Is=t),vu.resolve()}ae(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new oc(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,vu.resolve()}updateTargetData(e,t){return this.ae(t),vu.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,vu.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Ts.forEach((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Ts.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),vu.waitFor(i).next(()=>r)}getTargetCount(e){return vu.resolve(this.targetCount)}getTargetData(e,t){const n=this.Ts.get(t)||null;return vu.resolve(n)}addMatchingKeys(e,t,n){return this.As.ss(t,n),vu.resolve()}removeMatchingKeys(e,t,n){this.As.os(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),vu.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),vu.resolve()}getMatchingKeysForTargetId(e,t){const n=this.As.hs(t);return vu.resolve(n)}containsKey(e,t){return vu.resolve(this.As.containsKey(t))}}class cl{constructor(e,t){this.Ps={},this.Le=new Pi(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new ul(this),this.Ht=new Gu,this.He=function(e,t){return new ol(e,t)}(this.Ht,e=>this.referenceDelegate.bs(e)),this.N=new Ru(t),this.Je=new nl(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.Ps[e.toKey()];return t||(t=new sl(this.Ht,this.referenceDelegate),this.Ps[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,n){vi("MemoryPersistence","Starting transaction:",e);const r=new ll(this.Le.next());return this.referenceDelegate.vs(),n(r).next(e=>this.referenceDelegate.Vs(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ss(e,t){return vu.or(Object.values(this.Ps).map(n=>()=>n.containsKey(e,t)))}}class ll extends yu{constructor(e){super(),this.currentSequenceNumber=e}}class hl{constructor(e){this.persistence=e,this.Ds=new rl,this.Cs=null}static Ns(e){return new hl(e)}get xs(){if(this.Cs)return this.Cs;throw Ii()}addReference(e,t,n){return this.Ds.addReference(n,t),this.xs.delete(n.toString()),vu.resolve()}removeReference(e,t,n){return this.Ds.removeReference(n,t),this.xs.add(n.toString()),vu.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),vu.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach(e=>this.xs.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.xs.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}vs(){this.Cs=new Set}Vs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return vu.forEach(this.xs,n=>{const r=as.fromPath(n);return this.ks(e,r).next(e=>{e||t.removeEntry(r)})}).next(()=>(this.Cs=null,t.apply(e)))}updateLimboDocument(e,t){return this.ks(e,t).next(e=>{e?this.xs.delete(t.toString()):this.xs.add(t.toString())})}bs(e){return 0}ks(e,t){return vu.or([()=>vu.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}function dl(e,t){return`firestore_clients_${e}_${t}`}function fl(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function pl(e,t){return`firestore_targets_${e}_${t}`}class gl{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static $s(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new Ci(r.error.code,r.error.message))),s?new gl(e,t,r.state,i):(_i("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ml{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static $s(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new Ci(n.error.code,n.error.message))),i?new ml(e,n.state,r):(_i("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class yl{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=oa();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=os(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new yl(e,i):(_i("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class vl{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new vl(t.clientId,t.onlineState):(_i("SharedClientState",`Failed to parse online state: ${e}`),null)}}class _l{constructor(){this.activeTargetIds=oa()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wl{constructor(e,t,n,r,i){this.window=e,this.Oe=t,this.persistenceKey=n,this.Ls=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Ho(Fi),this.started=!1,this.Ks=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.js=dl(this.persistenceKey,this.Ls),this.Qs=function(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.qs=this.qs.insert(this.Ls,new _l),this.Ws=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Hs=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.Js=function(e){return`firestore_bundle_loaded_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static Pt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,te.Z)(function*(){const t=yield e.syncEngine.pn();for(const r of t){if(r===e.Ls)continue;const t=e.getItem(dl(e.persistenceKey,r));if(t){const n=yl.$s(r,t);n&&(e.qs=e.qs.insert(n.clientId,n))}}e.Ys();const n=e.storage.getItem(e.Hs);if(n){const t=e.Xs(n);t&&e.Zs(t)}for(const r of e.Ks)e.Us(r);e.Ks=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Qs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(e){let t=!1;return this.qs.forEach((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ei(e,"pending")}updateMutationState(e,t,n){this.ei(e,t,n),this.ni(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(pl(this.persistenceKey,e));if(n){const r=ml.$s(e,n);r&&(t=r.state)}}return this.si.Fs(e),this.Ys(),t}removeLocalQueryTarget(e){this.si.Ms(e),this.Ys()}isLocalQueryTarget(e){return this.si.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(pl(this.persistenceKey,e))}updateQueryState(e,t,n){this.ii(e,t,n)}handleUserChange(e,t,n){t.forEach(e=>{this.ni(e)}),this.currentUser=e,n.forEach(e=>{this.addPendingMutation(e)})}setOnlineState(e){this.ri(e)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return vi("SharedClientState","READ",e,t),t}setItem(e,t){vi("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){vi("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Us(e){var t=this;const n=e;if(n.storageArea===this.storage){if(vi("SharedClientState","EVENT",n.key,n.newValue),n.key===this.js)return void _i("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,te.Z)(function*(){if(t.started){if(null!==n.key)if(t.Ws.test(n.key)){if(null==n.newValue){const e=t.ai(n.key);return t.ci(e,null)}{const e=t.ui(n.key,n.newValue);if(e)return t.ci(e.clientId,e)}}else if(t.Gs.test(n.key)){if(null!==n.newValue){const e=t.hi(n.key,n.newValue);if(e)return t.li(e)}}else if(t.zs.test(n.key)){if(null!==n.newValue){const e=t.fi(n.key,n.newValue);if(e)return t.di(e)}}else if(n.key===t.Hs){if(null!==n.newValue){const e=t.Xs(n.newValue);if(e)return t.Zs(e)}}else if(n.key===t.Qs){const e=function(e){let t=Pi.T;if(null!=e)try{const n=JSON.parse(e);Ti("number"==typeof n),t=n}catch(e){_i("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue);e!==Pi.T&&t.sequenceNumberHandler(e)}else if(n.key===t.Js)return t.syncEngine.wi()}else t.Ks.push(n)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(e,t,n){const r=new gl(this.currentUser,e,t,n),i=fl(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Os())}ni(e){const t=fl(this.persistenceKey,this.currentUser,e);this.removeItem(t)}ri(e){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:e}))}ii(e,t,n){const r=pl(this.persistenceKey,e),i=new ml(e,t,n);this.setItem(r,i.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(e){const t=this.Ws.exec(e);return t?t[1]:null}ui(e,t){const n=this.ai(e);return yl.$s(n,t)}hi(e,t){const n=this.Gs.exec(e),r=Number(n[1]);return gl.$s(new pi(void 0!==n[2]?n[2]:null),r,t)}fi(e,t){const n=this.zs.exec(e),r=Number(n[1]);return ml.$s(r,t)}Xs(e){return vl.$s(e)}li(e){var t=this;return(0,te.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine._i(e.batchId,e.state,e.error);vi("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}di(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}ci(e,t){const n=t?this.qs.insert(e,t):this.qs.remove(e),r=this.ti(this.qs),i=this.ti(n),s=[],o=[];return i.forEach(e=>{r.has(e)||s.push(e)}),r.forEach(e=>{i.has(e)||o.push(e)}),this.syncEngine.gi(s,o).then(()=>{this.qs=n})}Zs(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ti(e){let t=oa();return e.forEach((e,n)=>{t=t.unionWith(n.activeTargetIds)}),t}}class bl{constructor(){this.yi=new _l,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,n){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new _l,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class Il{Ei(e){}shutdown(){}}class Tl{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.Pi=[],this.bi()}Ei(e){this.Pi.push(e)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}bi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){vi("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Pi)e(0)}Ri(){vi("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Pi)e(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const El={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Sl{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class Cl extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,t,n,r){const i=this.Bi(e,t);vi("RestConnection","Sending: ",i,n);const s={};return this.Ui(s,r),this.qi(e,i,s,n).then(e=>(vi("RestConnection","Received: ",e),e),t=>{throw wi("RestConnection",`${e} failed with error: `,t,"url: ",i,"request:",n),t})}Ki(e,t,n,r){return this.Li(e,t,n,r)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+gi,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])}Bi(e,t){return`${this.Fi}/v1/${t}:${El[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,t,n,r){return new Promise((i,s)=>{const o=new fi;o.listenOnce(ci.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case ui.NO_ERROR:const t=o.getResponseJson();vi("Connection","XHR received:",JSON.stringify(t)),i(t);break;case ui.TIMEOUT:vi("Connection",'RPC "'+e+'" timed out'),s(new Ci(Si.DEADLINE_EXCEEDED,"Request time out"));break;case ui.HTTP_ERROR:const n=o.getStatus();if(vi("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const e=o.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Si).indexOf(t)>=0?t:Si.UNKNOWN}(e.status);s(new Ci(t,e.message))}else s(new Ci(Si.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Ci(Si.UNAVAILABLE,"Connection failed."));break;default:Ii()}}finally{vi("Connection",'RPC "'+e+'" completed.')}});const a=JSON.stringify(r);o.send(t,"POST",a,n,15)})}ji(e,t){const n=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=new ri,i=Yt(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new hi({})),this.Ui(s.initMessageHeaders,t),(0,se.uI)()||(0,se.b$)()||(0,se.d)()||(0,se.w1)()||(0,se.Mn)()||(0,se.ru)()||(s.httpHeadersOverwriteParam="$httpHeaders");const o=n.join("");vi("Connection","Creating WebChannel: "+o,s);const a=r.createWebChannel(o,s);let u=!1,c=!1;const l=new Sl({vi:e=>{c?vi("Connection","Not sending because WebChannel is closed:",e):(u||(vi("Connection","Opening WebChannel transport."),a.open(),u=!0),vi("Connection","WebChannel sending:",e),a.send(e))},Vi:()=>a.close()}),h=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return h(a,di.EventType.OPEN,()=>{c||vi("Connection","WebChannel transport opened.")}),h(a,di.EventType.CLOSE,()=>{c||(c=!0,vi("Connection","WebChannel transport closed"),l.$i())}),h(a,di.EventType.ERROR,e=>{c||(c=!0,wi("Connection","WebChannel transport errored:",e),l.$i(new Ci(Si.UNAVAILABLE,"The operation could not be completed")))}),h(a,di.EventType.MESSAGE,e=>{var t;if(!c){const n=e.data[0];Ti(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){vi("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=Zo[e];if(void 0!==t)return $o(t)}(e),n=i.message;void 0===t&&(t=Si.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),c=!0,l.$i(new Ci(t,n)),a.close()}else vi("Connection","WebChannel received:",n),l.Oi(n)}}),h(i,li.STAT_EVENT,e=>{10===e.stat?vi("Connection","Detected buffering proxy"):11===e.stat&&vi("Connection","Detected no buffering proxy")}),setTimeout(()=>{l.ki()},0),l}}function Al(){return"undefined"!=typeof window?window:null}function kl(){return"undefined"!=typeof document?document:null}function xl(e){return new va(e,!0)}class Nl{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Oe=e,this.timerId=t,this.Qi=n,this.Wi=r,this.Gi=i,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const t=Math.floor(this.zi+this.Zi()),n=Math.max(0,Date.now()-this.Ji),r=Math.max(0,t-n);r>0&&vi("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.zi} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,r,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class Ol{constructor(e,t,n,r,i,s){this.Oe=e,this.er=n,this.nr=r,this.credentialsProvider=i,this.listener=s,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Nl(e,t)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var e=this;return(0,te.Z)(function*(){e.ar()&&(yield e.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(e){this._r(),this.stream.send(e)}dr(){var e=this;return(0,te.Z)(function*(){if(e.cr())return e.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(e,t){var n=this;return(0,te.Z)(function*(){n._r(),n.rr.cancel(),n.sr++,3!==e?n.rr.reset():t&&t.code===Si.RESOURCE_EXHAUSTED?(_i(t.toString()),_i("Using maximum backoff delay to prevent overloading the backend."),n.rr.Yi()):t&&t.code===Si.UNAUTHENTICATED&&n.credentialsProvider.invalidateToken(),null!==n.stream&&(n.mr(),n.stream.close(),n.stream=null),n.state=e,yield n.listener.Ci(t)})()}mr(){}auth(){this.state=1;const e=this.gr(this.sr),t=this.sr;this.credentialsProvider.getToken().then(e=>{this.sr===t&&this.yr(e)},t=>{e(()=>{const e=new Ci(Si.UNKNOWN,"Fetching auth token failed: "+t.message);return this.pr(e)})})}yr(e){const t=this.gr(this.sr);this.stream=this.Er(e),this.stream.Si(()=>{t(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(e=>{t(()=>this.pr(e))}),this.stream.onMessage(e=>{t(()=>this.onMessage(e))})}ur(){var e=this;this.state=4,this.rr.Xi((0,te.Z)(function*(){e.state=0,e.start()}))}pr(e){return vi("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(3,e)}gr(e){return t=>{this.Oe.enqueueAndForget(()=>this.sr===e?t():(vi("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Dl extends Ol{constructor(e,t,n,r,i){super(e,"listen_stream_connection_backoff","listen_stream_idle",t,n,i),this.N=r}Er(e){return this.nr.ji("Listen",e)}onMessage(e){this.rr.reset();const t=function(e,t){let n;if("targetChange"in t){const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ii()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.D?(Ti(void 0===t||"string"==typeof t),Yi.fromBase64String(t||"")):(Ti(void 0===t||t instanceof Uint8Array),Yi.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?Si.UNKNOWN:$o(e.code);return new Ci(t,e.message||"")}(o);n=new ha(r,i,s,a||null)}else if("documentChange"in t){const r=t.documentChange,i=Ca(e,r.document.name),s=Ia(r.document.updateTime),o=new Is({mapValue:{fields:r.document.fields}}),a=Es.newFoundDocument(i,s,o);n=new ca(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in t){const r=t.documentDelete,i=Ca(e,r.document),s=r.readTime?Ia(r.readTime):qi.min(),o=Es.newNoDocument(i,s);n=new ca([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in t){const r=t.documentRemove,i=Ca(e,r.document);n=new ca([],r.removedTargetIds||[],i,null)}else{if(!("filter"in t))return Ii();{const e=t.filter,r=new qo(e.count||0);n=new la(e.targetId,r)}}return n}(this.N,e),n=function(e){if(!("targetChange"in e))return qi.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?qi.min():t.readTime?Ia(t.readTime):qi.min()}(e);return this.listener.Tr(t,n)}Ir(e){const t={};t.database=xa(this.N),t.addTarget=function(e,t){let n;const r=t.target;return n=xs(r)?{documents:La(e,r)}:{query:Ma(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=wa(e,t.resumeToken):t.snapshotVersion.compareTo(qi.min())>0&&(n.readTime=_a(e,t.snapshotVersion.toTimestamp())),n}(this.N,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ii()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);n&&(t.labels=n),this.wr(t)}Ar(e){const t={};t.database=xa(this.N),t.removeTarget=e,this.wr(t)}}class Rl extends Ol{constructor(e,t,n,r,i){super(e,"write_stream_connection_backoff","write_stream_idle",t,n,i),this.N=r,this.Rr=!1}get Pr(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.br([])}Er(e){return this.nr.ji("Write",e)}onMessage(e){if(Ti(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Rr){this.rr.reset();const t=function(e,t){return e&&e.length>0?(Ti(void 0!==t),e.map(e=>function(e,t){let n=Ia(e.updateTime?e.updateTime:t);return n.isEqual(qi.min())&&(n=Ia(t)),new So(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Ia(e.commitTime);return this.listener.vr(n,t)}return Ti(!e.writeResults||0===e.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const e={};e.database=xa(this.N),this.wr(e)}br(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Ra(this.N,e))};this.wr(t)}}class Pl extends class{}{constructor(e,t,n){super(),this.credentials=e,this.nr=t,this.N=n,this.Dr=!1}Cr(){if(this.Dr)throw new Ci(Si.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,t,n){return this.Cr(),this.credentials.getToken().then(r=>this.nr.Li(e,t,n,r)).catch(e=>{throw"FirebaseError"===e.name?(e.code===Si.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new Ci(Si.UNKNOWN,e.toString())})}Ki(e,t,n){return this.Cr(),this.credentials.getToken().then(r=>this.nr.Ki(e,t,n,r)).catch(e=>{throw"FirebaseError"===e.name?(e.code===Si.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new Ci(Si.UNKNOWN,e.toString())})}terminate(){this.Dr=!0}}class Ll{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(e){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Fr("Offline")))}set(e){this.Br(),this.Nr=0,"Online"===e&&(this.$r=!1),this.Fr(e)}Fr(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Mr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(_i(t),this.$r=!1):vi("OnlineStateTracker",t)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class Ml{constructor(e,t,n,r,i){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=i,this.Qr.Ei(e=>{n.enqueueAndForget((0,te.Z)(function*(){var e;Gl(s)&&(vi("RemoteStore","Restarting streams for network reachability change."),yield(e=(0,te.Z)(function*(e){const t=Ei(e);t.Kr.add(4),yield Vl(t),t.Wr.set("Unknown"),t.Kr.delete(4),yield Fl(t)}),function(t){return e.apply(this,arguments)})(s))}))}),this.Wr=new Ll(n,r)}}function Fl(e){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,te.Z)(function*(e){if(Gl(e))for(const t of e.jr)yield t(!0)})).apply(this,arguments)}function Vl(e){return jl.apply(this,arguments)}function jl(){return(jl=(0,te.Z)(function*(e){for(const t of e.jr)yield t(!1)})).apply(this,arguments)}function ql(e,t){const n=Ei(e);n.qr.has(t.targetId)||(n.qr.set(t.targetId,t),Hl(n)?$l(n):wh(n).cr()&&zl(n,t))}function Zl(e,t){const n=Ei(e),r=wh(n);n.qr.delete(t),r.cr()&&Bl(n,t),0===n.qr.size&&(r.cr()?r.lr():Gl(n)&&n.Wr.set("Unknown"))}function zl(e,t){e.Gr.Y(t.targetId),wh(e).Ir(t)}function Bl(e,t){e.Gr.Y(t),wh(e).Ar(t)}function $l(e){e.Gr=new fa({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.qr.get(t)||null}),wh(e).start(),e.Wr.Or()}function Hl(e){return Gl(e)&&!wh(e).ar()&&e.qr.size>0}function Gl(e){return 0===Ei(e).Kr.size}function Kl(e){e.Gr=void 0}function Wl(e){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,te.Z)(function*(e){e.qr.forEach((t,n)=>{zl(e,t)})})).apply(this,arguments)}function Ql(e,t){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,te.Z)(function*(e,t){Kl(e),Hl(e)?(e.Wr.Lr(t),$l(e)):e.Wr.set("Unknown")})).apply(this,arguments)}function Xl(e,t,n){return eh.apply(this,arguments)}function eh(){return(eh=(0,te.Z)(function*(e,t,n){if(e.Wr.set("Online"),t instanceof ha&&2===t.state&&t.cause)try{yield(r=(0,te.Z)(function*(e,t){const n=t.cause;for(const r of t.targetIds)e.qr.has(r)&&(yield e.remoteSyncer.rejectListen(r,n),e.qr.delete(r),e.Gr.removeTarget(r))}),function(e,t){return r.apply(this,arguments)})(e,t)}catch(n){vi("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),yield th(e,n)}else if(t instanceof ca?e.Gr.rt(t):t instanceof la?e.Gr.ft(t):e.Gr.ct(t),!n.isEqual(qi.min()))try{const t=yield Zc(e.localStore);n.compareTo(t)>=0&&(yield function(e,t){const n=e.Gr._t(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.qr.get(r);i&&e.qr.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach(t=>{const n=e.qr.get(t);if(!n)return;e.qr.set(t,n.withResumeToken(Yi.EMPTY_BYTE_STRING,n.snapshotVersion)),Bl(e,t);const r=new Du(n.target,t,1,n.sequenceNumber);zl(e,r)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n))}catch(t){vi("RemoteStore","Failed to raise snapshot:",t),yield th(e,t)}var r})).apply(this,arguments)}function th(e,t,n){return nh.apply(this,arguments)}function nh(){return(nh=(0,te.Z)(function*(e,t,n){if(!Tu(t))throw t;e.Kr.add(1),yield Vl(e),e.Wr.set("Offline"),n||(n=()=>Zc(e.localStore)),e.asyncQueue.enqueueRetryable((0,te.Z)(function*(){vi("RemoteStore","Retrying IndexedDB access"),yield n(),e.Kr.delete(1),yield Fl(e)}))})).apply(this,arguments)}function rh(e,t){return t().catch(n=>th(e,n,t))}function ih(e){return sh.apply(this,arguments)}function sh(){return(sh=(0,te.Z)(function*(e){const t=Ei(e),n=bh(t);let r=t.Ur.length>0?t.Ur[t.Ur.length-1].batchId:-1;for(;oh(t);)try{const e=yield $c(t.localStore,r);if(null===e){0===t.Ur.length&&n.lr();break}r=e.batchId,ah(t,e)}catch(e){yield th(t,e)}uh(t)&&ch(t)})).apply(this,arguments)}function oh(e){return Gl(e)&&e.Ur.length<10}function ah(e,t){e.Ur.push(t);const n=bh(e);n.cr()&&n.Pr&&n.br(t.mutations)}function uh(e){return Gl(e)&&!bh(e).ar()&&e.Ur.length>0}function ch(e){bh(e).start()}function lh(e){return hh.apply(this,arguments)}function hh(){return(hh=(0,te.Z)(function*(e){bh(e).Sr()})).apply(this,arguments)}function dh(e){return fh.apply(this,arguments)}function fh(){return(fh=(0,te.Z)(function*(e){const t=bh(e);for(const n of e.Ur)t.br(n.mutations)})).apply(this,arguments)}function ph(e,t,n){return gh.apply(this,arguments)}function gh(){return(gh=(0,te.Z)(function*(e,t,n){const r=e.Ur.shift(),i=Ou.from(r,t,n);yield rh(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),yield ih(e)})).apply(this,arguments)}function mh(e,t){return yh.apply(this,arguments)}function yh(){return(yh=(0,te.Z)(function*(e,t){var n;t&&bh(e).Pr&&(yield(n=(0,te.Z)(function*(e,t){if(Bo(n=t.code)&&n!==Si.ABORTED){const n=e.Ur.shift();bh(e).hr(),yield rh(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),yield ih(e)}var n}),function(e,t){return n.apply(this,arguments)})(e,t)),uh(e)&&ch(e)})).apply(this,arguments)}function vh(e,t){return _h.apply(this,arguments)}function _h(){return(_h=(0,te.Z)(function*(e,t){const n=Ei(e);t?(n.Kr.delete(2),yield Fl(n)):t||(n.Kr.add(2),yield Vl(n),n.Wr.set("Unknown"))})).apply(this,arguments)}function wh(e){return e.zr||(e.zr=function(e,t,n){const r=Ei(e);return r.Cr(),new Dl(t,r.nr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:Wl.bind(null,e),Ci:Ql.bind(null,e),Tr:Xl.bind(null,e)}),e.jr.push(function(){var t=(0,te.Z)(function*(t){t?(e.zr.hr(),Hl(e)?$l(e):e.Wr.set("Unknown")):(yield e.zr.stop(),Kl(e))});return function(e){return t.apply(this,arguments)}}())),e.zr}function bh(e){return e.Hr||(e.Hr=function(e,t,n){const r=Ei(e);return r.Cr(),new Rl(t,r.nr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:lh.bind(null,e),Ci:mh.bind(null,e),Vr:dh.bind(null,e),vr:ph.bind(null,e)}),e.jr.push(function(){var t=(0,te.Z)(function*(t){t?(e.Hr.hr(),yield ih(e)):(yield e.Hr.stop(),e.Ur.length>0&&(vi("RemoteStore",`Stopping write stream with ${e.Ur.length} pending writes`),e.Ur=[]))});return function(e){return t.apply(this,arguments)}}())),e.Hr}class Ih{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new Ih(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ci(Si.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Th(e,t){if(_i("AsyncQueue",`${t}: ${e}`),Tu(e))return new Ci(Si.UNAVAILABLE,`${t}: ${e}`);throw e}class Eh{constructor(e){this.comparator=e?(t,n)=>e(t,n)||as.comparator(t.key,n.key):(e,t)=>as.comparator(e.key,t.key),this.keyedMap=ea(),this.sortedSet=new Ho(this.comparator)}static emptySet(e){return new Eh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Eh))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Eh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Sh{constructor(){this.Jr=new Ho(as.comparator)}track(e){const t=e.doc.key,n=this.Jr.get(t);n?0!==e.type&&3===n.type?this.Jr=this.Jr.insert(t,e):3===e.type&&1!==n.type?this.Jr=this.Jr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jr=this.Jr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jr=this.Jr.remove(t):1===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):Ii():this.Jr=this.Jr.insert(t,e)}Yr(){const e=[];return this.Jr.inorderTraversal((t,n)=>{e.push(n)}),e}}class Ch{constructor(e,t,n,r,i,s,o,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new Ch(e,t,Eh.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&no(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Ah{constructor(){this.Xr=void 0,this.listeners=[]}}class kh{constructor(){this.queries=new _c(e=>ro(e),no),this.onlineState="Unknown",this.Zr=new Set}}function xh(e,t){return Nh.apply(this,arguments)}function Nh(){return(Nh=(0,te.Z)(function*(e,t){const n=Ei(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Ah),i)try{s.Xr=yield n.onListen(r)}catch(e){const n=Th(e,`Initialization of query '${io(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.eo(n.onlineState),s.Xr&&t.no(s.Xr)&&Lh(n)})).apply(this,arguments)}function Oh(e,t){return Dh.apply(this,arguments)}function Dh(){return(Dh=(0,te.Z)(function*(e,t){const n=Ei(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)})).apply(this,arguments)}function Rh(e,t){const n=Ei(e);let r=!1;for(const i of t){const e=n.queries.get(i.query);if(e){for(const t of e.listeners)t.no(i)&&(r=!0);e.Xr=i}}r&&Lh(n)}function Ph(e,t,n){const r=Ei(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function Lh(e){e.Zr.forEach(e=>{e.next()})}class Mh{constructor(e,t,n){this.query=e,this.so=t,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}no(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Ch(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.io?this.oo(e)&&(this.so.next(e),t=!0):this.ao(e,this.onlineState)&&(this.co(e),t=!0),this.ro=e,t}onError(e){this.so.error(e)}eo(e){this.onlineState=e;let t=!1;return this.ro&&!this.io&&this.ao(this.ro,e)&&(this.co(this.ro),t=!0),t}ao(e,t){return!e.fromCache||!(this.options.uo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}oo(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(e){e=Ch.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.io=!0,this.so.next(e)}}class Fh{constructor(e,t){this.payload=e,this.byteLength=t}ho(){return"metadata"in this.payload}}class Uh{constructor(e){this.N=e}zn(e){return Ca(this.N,e)}Hn(e){return e.metadata.exists?Da(this.N,e.document,!1):Es.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}Jn(e){return Ia(e)}}class Vh{constructor(e,t,n){this.lo=e,this.localStore=t,this.N=n,this.queries=[],this.documents=[],this.progress=jh(e)}fo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}wo(e){const t=new Map,n=new Uh(this.N);for(const r of e)if(r.metadata.queries){const e=n.zn(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||ia()).add(e);t.set(n,r)}}return t}complete(){var e=this;return(0,te.Z)(function*(){const t=yield function(e,t,n,r){return Xc.apply(this,arguments)}(e.localStore,new Uh(e.N),e.documents,e.lo.id),n=e.wo(e.documents);for(const r of e.queries)yield el(e.localStore,r,n.get(r.name));return e.progress.taskState="Success",new Rc(Object.assign({},e.progress),t)})()}}function jh(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class qh{constructor(e){this.key=e}}class Zh{constructor(e){this.key=e}}class zh{constructor(e,t){this.query=e,this._o=t,this.mo=null,this.current=!1,this.yo=ia(),this.mutatedKeys=ia(),this.po=oo(e),this.Eo=new Eh(this.po)}get To(){return this._o}Io(e,t){const n=t?t.Ao:new Sh,r=t?t.Eo:this.Eo;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a=Ks(this.query)&&r.size===this.query.limit?r.last():null,u=Ws(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),l=so(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!l&&(l.hasLocalMutations||this.mutatedKeys.has(l.key)&&l.hasCommittedMutations);let f=!1;c&&l?c.data.isEqual(l.data)?h!==d&&(n.track({type:3,doc:l}),f=!0):this.Ro(c,l)||(n.track({type:2,doc:l}),f=!0,(a&&this.po(l,a)>0||u&&this.po(l,u)<0)&&(o=!0)):!c&&l?(n.track({type:0,doc:l}),f=!0):c&&!l&&(n.track({type:1,doc:c}),f=!0,(a||u)&&(o=!0)),f&&(l?(s=s.add(l),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),Ks(this.query)||Ws(this.query))for(;s.size>this.query.limit;){const e=Ks(this.query)?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Eo:s,Ao:n,Ln:o,mutatedKeys:i}}Ro(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.Eo;this.Eo=e.Eo,this.mutatedKeys=e.mutatedKeys;const i=e.Ao.Yr();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ii()}};return n(e)-n(t)}(e.type,t.type)||this.po(e.doc,t.doc)),this.Po(n);const s=t?this.bo():[],o=0===this.yo.size&&this.current?1:0,a=o!==this.mo;return this.mo=o,0!==i.length||a?{snapshot:new Ch(this.query,e.Eo,r,i,e.mutatedKeys,0===o,a,!1),vo:s}:{vo:s}}eo(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new Sh,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(e){return!this._o.has(e)&&!!this.Eo.has(e)&&!this.Eo.get(e).hasLocalMutations}Po(e){e&&(e.addedDocuments.forEach(e=>this._o=this._o.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this._o=this._o.delete(e)),this.current=e.current)}bo(){if(!this.current)return[];const e=this.yo;this.yo=ia(),this.Eo.forEach(e=>{this.Vo(e.key)&&(this.yo=this.yo.add(e.key))});const t=[];return e.forEach(e=>{this.yo.has(e)||t.push(new Zh(e))}),this.yo.forEach(n=>{e.has(n)||t.push(new qh(n))}),t}So(e){this._o=e.Gn,this.yo=ia();const t=this.Io(e.documents);return this.applyChanges(t,!0)}Do(){return Ch.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class Bh{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class $h{constructor(e){this.key=e,this.Co=!1}}class Hh{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.No={},this.xo=new _c(e=>ro(e),no),this.ko=new Map,this.$o=new Set,this.Oo=new Ho(as.comparator),this.Fo=new Map,this.Mo=new rl,this.Lo={},this.Bo=new Map,this.Uo=oc.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function Gh(e,t){return Kh.apply(this,arguments)}function Kh(){return(Kh=(0,te.Z)(function*(e,t){const n=Fd(e);let r,i;const s=n.xo.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Do();else{const e=yield Hc(n.localStore,eo(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=yield Wh(n,t,r,"current"===s),n.isPrimaryClient&&ql(n.remoteStore,e)}return i})).apply(this,arguments)}function Wh(e,t,n,r){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,te.Z)(function*(e,t,n,r){e.Ko=(t,n,r)=>{return(i=(0,te.Z)(function*(e,t,n,r){let i=t.view.Io(n);i.Ln&&(i=yield Wc(e.localStore,t.query,!1).then(({documents:e})=>t.view.Io(e,i)));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return pd(e,t.targetId,o.vo),o.snapshot}),function(e,t,n,r){return i.apply(this,arguments)})(e,t,n,r);var i};const i=yield Wc(e.localStore,t,!0),s=new zh(t,i.Gn),o=s.Io(i.documents),a=ua.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=s.applyChanges(o,e.isPrimaryClient,a);pd(e,n,u.vo);const c=new Bh(t,n,s);return e.xo.set(t,c),e.ko.has(n)?e.ko.get(n).push(t):e.ko.set(n,[t]),u.snapshot})).apply(this,arguments)}function Qh(e,t){return Jh.apply(this,arguments)}function Jh(){return(Jh=(0,te.Z)(function*(e,t){const n=Ei(e),r=n.xo.get(t),i=n.ko.get(r.targetId);if(i.length>1)return n.ko.set(r.targetId,i.filter(e=>!no(e,t))),void n.xo.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Gc(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Zl(n.remoteStore,r.targetId),dd(n,r.targetId)}).catch(hc))):(dd(n,r.targetId),yield Gc(n.localStore,r.targetId,!0))})).apply(this,arguments)}function Xh(){return(Xh=(0,te.Z)(function*(e,t,n){const r=Ud(e);try{const e=yield function(e,t){const n=Ei(e),r=ji.now(),i=t.reduce((e,t)=>e.add(t.key),ia());let s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>n.Qn.bn(e,i).next(i=>{s=i;const o=[];for(const e of t){const t=Oo(e,s.get(e.key));null!=t&&o.push(new Lo(e.key,t,Ts(t.value.mapValue),Co.exists(!0)))}return n.In.addMutationBatch(e,r,o,t)})).then(e=>(e.applyToLocalDocumentSet(s),{batchId:e.batchId,changes:s}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Lo[e.currentUser.toKey()];r||(r=new Ho(Fi)),r=r.insert(t,n),e.Lo[e.currentUser.toKey()]=r}(r,e.batchId,n),yield yd(r,e.changes),yield ih(r.remoteStore)}catch(e){const t=Th(e,"Failed to persist write");n.reject(t)}})).apply(this,arguments)}function ed(e,t){return td.apply(this,arguments)}function td(){return(td=(0,te.Z)(function*(e,t){const n=Ei(e);try{const e=yield zc(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Fo.get(t);r&&(Ti(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Co=!0:e.modifiedDocuments.size>0?Ti(r.Co):e.removedDocuments.size>0&&(Ti(r.Co),r.Co=!1))}),yield yd(n,e,t)}catch(e){yield hc(e)}})).apply(this,arguments)}function nd(e,t,n){const r=Ei(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.xo.forEach((n,r)=>{const i=r.view.eo(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Ei(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.listeners)i.eo(t)&&(r=!0)}),r&&Lh(n)}(r.eventManager,t),e.length&&r.No.Tr(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function rd(e,t,n){return id.apply(this,arguments)}function id(){return(id=(0,te.Z)(function*(e,t,n){const r=Ei(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Fo.get(t),s=i&&i.key;if(s){let e=new Ho(as.comparator);e=e.insert(s,Es.newNoDocument(s,qi.min()));const n=ia().add(s),i=new aa(qi.min(),new Map,new Wo(Fi),e,n);yield ed(r,i),r.Oo=r.Oo.remove(s),r.Fo.delete(t),md(r)}else yield Gc(r.localStore,t,!1).then(()=>dd(r,t,n)).catch(hc)})).apply(this,arguments)}function sd(e,t){return od.apply(this,arguments)}function od(){return(od=(0,te.Z)(function*(e,t){const n=Ei(e),r=t.batch.batchId;try{const e=yield qc(n.localStore,t);hd(n,r,null),ld(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield yd(n,e)}catch(e){yield hc(e)}})).apply(this,arguments)}function ad(e,t,n){return ud.apply(this,arguments)}function ud(){return(ud=(0,te.Z)(function*(e,t,n){const r=Ei(e);try{const e=yield function(e,t){const n=Ei(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.In.lookupMutationBatch(e,t).next(t=>(Ti(null!==t),r=t.keys(),n.In.removeMutationBatch(e,t))).next(()=>n.In.performConsistencyCheck(e)).next(()=>n.Qn.bn(e,r))})}(r.localStore,t);hd(r,t,n),ld(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),yield yd(r,e)}catch(n){yield hc(n)}})).apply(this,arguments)}function cd(){return(cd=(0,te.Z)(function*(e,t){const n=Ei(e);Gl(n.remoteStore)||vi("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=yield function(e){const t=Ei(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",e=>t.In.getHighestUnacknowledgedBatchId(e))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Bo.get(e)||[];r.push(t),n.Bo.set(e,r)}catch(e){const n=Th(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}})).apply(this,arguments)}function ld(e,t){(e.Bo.get(t)||[]).forEach(e=>{e.resolve()}),e.Bo.delete(t)}function hd(e,t,n){const r=Ei(e);let i=r.Lo[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Lo[r.currentUser.toKey()]=i}}function dd(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.ko.get(t))e.xo.delete(r),n&&e.No.jo(r,n);e.ko.delete(t),e.isPrimaryClient&&e.Mo.cs(t).forEach(t=>{e.Mo.containsKey(t)||fd(e,t)})}function fd(e,t){e.$o.delete(t.path.canonicalString());const n=e.Oo.get(t);null!==n&&(Zl(e.remoteStore,n),e.Oo=e.Oo.remove(t),e.Fo.delete(n),md(e))}function pd(e,t,n){for(const r of n)r instanceof qh?(e.Mo.addReference(r.key,t),gd(e,r)):r instanceof Zh?(vi("SyncEngine","Document no longer in limbo: "+r.key),e.Mo.removeReference(r.key,t),e.Mo.containsKey(r.key)||fd(e,r.key)):Ii()}function gd(e,t){const n=t.key,r=n.path.canonicalString();e.Oo.get(n)||e.$o.has(r)||(vi("SyncEngine","New document in limbo: "+n),e.$o.add(r),md(e))}function md(e){for(;e.$o.size>0&&e.Oo.size<e.maxConcurrentLimboResolutions;){const t=e.$o.values().next().value;e.$o.delete(t);const n=new as(Hi.fromString(t)),r=e.Uo.next();e.Fo.set(r,new $h(n)),e.Oo=e.Oo.insert(n,r),ql(e.remoteStore,new Du(eo(Gs(n.path)),r,2,Pi.T))}}function yd(e,t,n){return vd.apply(this,arguments)}function vd(){return(vd=(0,te.Z)(function*(e,t,n){const r=Ei(e),i=[],s=[],o=[];var a;r.xo.isEmpty()||(r.xo.forEach((e,a)=>{o.push(r.Ko(a,t,n).then(e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=Lc.kn(a.targetId,e);s.push(t)}}))}),yield Promise.all(o),r.No.Tr(i),yield(a=(0,te.Z)(function*(e,t){const n=Ei(e);try{yield n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>vu.forEach(t,t=>vu.forEach(t.Nn,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>vu.forEach(t.xn,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Tu(e))throw e;vi("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Un.get(e),r=t.withLastLimboFreeSnapshotVersion(t.snapshotVersion);n.Un=n.Un.insert(e,r)}}}),function(e,t){return a.apply(this,arguments)})(r.localStore,s))})).apply(this,arguments)}function _d(e,t){return wd.apply(this,arguments)}function wd(){return(wd=(0,te.Z)(function*(e,t){const n=Ei(e);if(!n.currentUser.isEqual(t)){vi("SyncEngine","User change. New user:",t.toKey());const e=yield Vc(n.localStore,t);n.currentUser=t,function(e,t){e.Bo.forEach(e=>{e.forEach(e=>{e.reject(new Ci(Si.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.Bo.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),yield yd(n,e.Wn)}})).apply(this,arguments)}function bd(e,t){const n=Ei(e),r=n.Fo.get(t);if(r&&r.Co)return ia().add(r.key);{let e=ia();const r=n.ko.get(t);if(!r)return e;for(const t of r){const r=n.xo.get(t);e=e.unionWith(r.view.To)}return e}}function Id(e,t){return Td.apply(this,arguments)}function Td(){return(Td=(0,te.Z)(function*(e,t){const n=Ei(e),r=yield Wc(n.localStore,t.query,!0),i=t.view.So(r);return n.isPrimaryClient&&pd(n,t.targetId,i.vo),i})).apply(this,arguments)}function Ed(e){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,te.Z)(function*(e){const t=Ei(e);return Qc(t.localStore).then(e=>yd(t,e))})).apply(this,arguments)}function Cd(e,t,n,r){return Ad.apply(this,arguments)}function Ad(){return(Ad=(0,te.Z)(function*(e,t,n,r){const i=Ei(e),s=yield function(e,t){const n=Ei(e),r=Ei(n.In);return n.persistence.runTransaction("Lookup mutation documents","readonly",e=>r.Xt(e,t).next(t=>t?n.Qn.bn(e,t):vu.resolve(null)))}(i.localStore,t);null!==s?("pending"===n?yield ih(i.remoteStore):"acknowledged"===n||"rejected"===n?(hd(i,t,r||null),ld(i,t),function(e,t){Ei(Ei(e).In).te(t)}(i.localStore,t)):Ii(),yield yd(i,s)):vi("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function kd(){return(kd=(0,te.Z)(function*(e,t){const n=Ei(e);if(Fd(n),Ud(n),!0===t&&!0!==n.qo){const e=n.sharedClientState.getAllActiveQueryTargets(),t=yield xd(n,e.toArray());n.qo=!0,yield vh(n.remoteStore,!0);for(const r of t)ql(n.remoteStore,r)}else if(!1===t&&!1!==n.qo){const e=[];let t=Promise.resolve();n.ko.forEach((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then(()=>(dd(n,i),Gc(n.localStore,i,!0))),Zl(n.remoteStore,i)}),yield t,yield xd(n,e),function(e){const t=Ei(e);t.Fo.forEach((e,n)=>{Zl(t.remoteStore,n)}),t.Mo.us(),t.Fo=new Map,t.Oo=new Ho(as.comparator)}(n),n.qo=!1,yield vh(n.remoteStore,!1)}})).apply(this,arguments)}function xd(e,t,n){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,te.Z)(function*(e,t,n){const r=Ei(e),i=[],s=[];for(const o of t){let e;const t=r.ko.get(o);if(t&&0!==t.length){e=yield Hc(r.localStore,eo(t[0]));for(const e of t){const t=r.xo.get(e),n=yield Id(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=yield Yc(r.localStore,o);e=yield Hc(r.localStore,t),yield Wh(r,Od(t),o,!1)}i.push(e)}return r.No.Tr(s),i})).apply(this,arguments)}function Od(e){return Hs(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Dd(e){const t=Ei(e);return Ei(Ei(t.localStore).persistence).pn()}function Rd(e,t,n,r){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,te.Z)(function*(e,t,n,r){const i=Ei(e);if(i.qo)vi("SyncEngine","Ignoring unexpected query state notification.");else if(i.ko.has(t))switch(n){case"current":case"not-current":{const e=yield Qc(i.localStore),r=aa.createSynthesizedRemoteEventForCurrentChange(t,"current"===n);yield yd(i,e,r);break}case"rejected":yield Gc(i.localStore,t,!0),dd(i,t,r);break;default:Ii()}})).apply(this,arguments)}function Ld(e,t,n){return Md.apply(this,arguments)}function Md(){return(Md=(0,te.Z)(function*(e,t,n){const r=Fd(e);if(r.qo){for(const e of t){if(r.ko.has(e)){vi("SyncEngine","Adding an already active target "+e);continue}const t=yield Yc(r.localStore,e),n=yield Hc(r.localStore,t);yield Wh(r,Od(t),n.targetId,!1),ql(r.remoteStore,n)}for(const e of n)r.ko.has(e)&&(yield Gc(r.localStore,e,!1).then(()=>{Zl(r.remoteStore,e),dd(r,e)}).catch(hc))}})).apply(this,arguments)}function Fd(e){const t=Ei(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ed.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=bd.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=rd.bind(null,t),t.No.Tr=Rh.bind(null,t.eventManager),t.No.jo=Ph.bind(null,t.eventManager),t}function Ud(e){const t=Ei(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=sd.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ad.bind(null,t),t}class Vd{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,te.Z)(function*(){t.N=xl(e.databaseInfo.databaseId),t.sharedClientState=t.Wo(e),t.persistence=t.Go(e),yield t.persistence.start(),t.gcScheduler=t.zo(e),t.localStore=t.Ho(e)})()}zo(e){return null}Ho(e){return Uc(this.persistence,new Mc,e.initialUser,this.N)}Go(e){return new cl(hl.Ns,this.N)}Wo(e){return new bl}terminate(){var e=this;return(0,te.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class jd extends Vd{constructor(e,t,n){super(),this.Jo=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,n=this;return(0,te.Z)(function*(){yield t().call(n,e),yield function(e){return Jc.apply(this,arguments)}(n.localStore),yield n.Jo.initialize(n,e),yield Ud(n.Jo.syncEngine),yield ih(n.Jo.remoteStore),yield n.persistence.nn(()=>(n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()))})()}Ho(e){return Uc(this.persistence,new Mc,e.initialUser,this.N)}zo(e){return new gc(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Go(e){const t=Dc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ju.withCacheSize(this.cacheSizeBytes):Ju.DEFAULT;return new xc(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Al(),kl(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(e){return new bl}}class qd extends jd{constructor(e,t){super(e,t,!1),this.Jo=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,n=this;return(0,te.Z)(function*(){yield t().call(n,e);const r=n.Jo.syncEngine;n.sharedClientState instanceof wl&&(n.sharedClientState.syncEngine={_i:Cd.bind(null,r),mi:Rd.bind(null,r),gi:Ld.bind(null,r),pn:Dd.bind(null,r),wi:Ed.bind(null,r)},yield n.sharedClientState.start()),yield n.persistence.nn(function(){var e=(0,te.Z)(function*(e){yield function(e,t){return kd.apply(this,arguments)}(n.Jo.syncEngine,e),n.gcScheduler&&(e&&!n.gcScheduler.started?n.gcScheduler.start(n.localStore):e||n.gcScheduler.stop())});return function(t){return e.apply(this,arguments)}}())})()}Wo(e){const t=Al();if(!wl.Pt(t))throw new Ci(Si.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Dc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new wl(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class Zd{initialize(e,t){var n=this;return(0,te.Z)(function*(){n.localStore||(n.localStore=e.localStore,n.sharedClientState=e.sharedClientState,n.datastore=n.createDatastore(t),n.remoteStore=n.createRemoteStore(t),n.eventManager=n.createEventManager(t),n.syncEngine=n.createSyncEngine(t,!e.synchronizeTabs),n.sharedClientState.onlineStateHandler=e=>nd(n.syncEngine,e,1),n.remoteStore.remoteSyncer.handleCredentialChange=_d.bind(null,n.syncEngine),yield vh(n.remoteStore,n.syncEngine.isPrimaryClient))})()}createEventManager(e){return new kh}createDatastore(e){const t=xl(e.databaseInfo.databaseId),n=new Cl(e.databaseInfo);return function(e,t,n){return new Pl(e,t,n)}(e.credentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>nd(this.syncEngine,e,0),s=Tl.Pt()?new Tl:new Il,new Ml(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new Hh(e,t,n,r,i,s);return o&&(a.qo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,te.Z)(function*(e){const t=Ei(e);vi("RemoteStore","RemoteStore shutting down."),t.Kr.add(5),yield Vl(t),t.Qr.shutdown(),t.Wr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function zd(e,t=10240){let n=0;return{read:()=>(0,te.Z)(function*(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}})(),cancel:()=>(0,te.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Bd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Yo(this.observer.next,e)}error(e){this.observer.error?this.Yo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Xo(){this.muted=!0}Yo(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class $d{constructor(e,t){this.Zo=e,this.N=t,this.metadata=new Ai,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(e=>{e&&e.ho()?this.metadata.resolve(e.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.payload)}`))},e=>this.metadata.reject(e))}close(){return this.Zo.cancel()}getMetadata(){var e=this;return(0,te.Z)(function*(){return e.metadata.promise})()}Qo(){var e=this;return(0,te.Z)(function*(){return yield e.getMetadata(),e.ea()})()}ea(){var e=this;return(0,te.Z)(function*(){const t=yield e.na();if(null===t)return null;const n=e.ta.decode(t),r=Number(n);isNaN(r)&&e.sa(`length string (${n}) is not valid number`);const i=yield e.ia(r);return new Fh(JSON.parse(i),t.length+r)})()}ra(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}na(){var e=this;return(0,te.Z)(function*(){for(;e.ra()<0&&!(yield e.oa()););if(0===e.buffer.length)return null;const t=e.ra();t<0&&e.sa("Reached the end of bundle when a length string is expected.");const n=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),n})()}ia(e){var t=this;return(0,te.Z)(function*(){for(;t.buffer.length<e;)(yield t.oa())&&t.sa("Reached the end of bundle when more is expected.");const n=t.ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),n})()}sa(e){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${e}`)}oa(){var e=this;return(0,te.Z)(function*(){const t=yield e.Zo.read();if(!t.done){const n=new Uint8Array(e.buffer.length+t.value.length);n.set(e.buffer),n.set(t.value,e.buffer.length),e.buffer=n}return t.done})()}}class Hd{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,te.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ci(Si.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=yield(r=(0,te.Z)(function*(e,t){const n=Ei(e),r=xa(n.N)+"/documents",i={documents:t.map(e=>Sa(n.N,e))},s=yield n.Ki("BatchGetDocuments",r,i),o=new Map;s.forEach(e=>{const t=function(e,t){return"found"in t?function(e,t){Ti(!!t.found);const n=Ca(e,t.found.name),r=Ia(t.found.updateTime),i=new Is({mapValue:{fields:t.found.fields}});return Es.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Ti(!!t.missing),Ti(!!t.readTime);const n=Ca(e,t.missing),r=Ia(t.readTime);return Es.newNoDocument(n,r)}(e,t):Ii()}(n.N,e);o.set(t.key.toString(),t)});const a=[];return t.forEach(e=>{const t=o.get(e.toString());Ti(!!t),a.push(t)}),a}),function(e,t){return r.apply(this,arguments)})(t.datastore,e);var r;return n.forEach(e=>t.recordVersion(e)),n})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Vo(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,te.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var n;e.mutations.forEach(e=>{t.delete(e.key.toString())}),t.forEach((t,n)=>{const r=as.fromPath(n);e.mutations.push(new jo(r,e.precondition(r)))}),yield(n=(0,te.Z)(function*(e,t){const n=Ei(e),r=xa(n.N)+"/documents",i={writes:t.map(e=>Ra(n.N,e))};yield n.Li("Commit",r,i)}),function(e,t){return n.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ii();t=qi.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Ci(Si.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Co.updateTime(t):Co.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(qi.min()))throw new Ci(Si.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Co.updateTime(t)}return Co.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Gd{constructor(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.aa=5,this.rr=new Nl(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var e=this;this.rr.Xi((0,te.Z)(function*(){const t=new Hd(e.datastore),n=e.ua(t);n&&n.then(n=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(n)}).catch(t=>{e.ha(t)}))}).catch(t=>{e.ha(t)})}))}ua(e){try{const t=this.updateFunction(e);return!is(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ha(e){this.aa>0&&this.la(e)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(e)}la(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Bo(t)}return!1}}class Kd{constructor(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=pi.UNAUTHENTICATED,this.clientId=Mi.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,function(){var e=(0,te.Z)(function*(e){vi("FirestoreClient","Received user=",e.uid),yield r.credentialListener(e),r.user=e});return function(t){return e.apply(this,arguments)}}())}getConfiguration(){var e=this;return(0,te.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,credentials:e.credentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ci(Si.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,te.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.credentials.shutdown(),t.resolve()}catch(n){const e=Th(n,"Failed to shutdown persistence");t.reject(e)}})),t.promise}}function Wd(e,t){return Yd.apply(this,arguments)}function Yd(){return(Yd=(0,te.Z)(function*(e,t){e.asyncQueue.verifyOperationInProgress(),vi("FirestoreClient","Initializing OfflineComponentProvider");const n=yield e.getConfiguration();yield t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(function(){var e=(0,te.Z)(function*(e){r.isEqual(e)||(yield Vc(t.localStore,e),r=e)});return function(t){return e.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t})).apply(this,arguments)}function Qd(e,t){return Jd.apply(this,arguments)}function Jd(){return(Jd=(0,te.Z)(function*(e,t){e.asyncQueue.verifyOperationInProgress();const n=yield Xd(e);vi("FirestoreClient","Initializing OnlineComponentProvider");const r=yield e.getConfiguration();yield t.initialize(n,r),e.setCredentialChangeListener(e=>{return(n=(0,te.Z)(function*(e,t){const n=Ei(e);n.asyncQueue.verifyOperationInProgress(),vi("RemoteStore","RemoteStore received new credentials");const r=Gl(n);n.Kr.add(3),yield Vl(n),r&&n.Wr.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(t),n.Kr.delete(3),yield Fl(n)}),function(e,t){return n.apply(this,arguments)})(t.remoteStore,e);var n}),e.onlineComponents=t})).apply(this,arguments)}function Xd(e){return ef.apply(this,arguments)}function ef(){return(ef=(0,te.Z)(function*(e){return e.offlineComponents||(vi("FirestoreClient","Using default OfflineComponentProvider"),yield Wd(e,new Vd)),e.offlineComponents})).apply(this,arguments)}function tf(e){return nf.apply(this,arguments)}function nf(){return(nf=(0,te.Z)(function*(e){return e.onlineComponents||(vi("FirestoreClient","Using default OnlineComponentProvider"),yield Qd(e,new Zd)),e.onlineComponents})).apply(this,arguments)}function rf(e){return Xd(e).then(e=>e.persistence)}function sf(e){return Xd(e).then(e=>e.localStore)}function of(e){return tf(e).then(e=>e.remoteStore)}function af(e){return tf(e).then(e=>e.syncEngine)}function uf(e){return cf.apply(this,arguments)}function cf(){return(cf=(0,te.Z)(function*(e){const t=yield tf(e),n=t.eventManager;return n.onListen=Gh.bind(null,t.syncEngine),n.onUnlisten=Qh.bind(null,t.syncEngine),n})).apply(this,arguments)}function lf(e,t,n={}){const r=new Ai;return e.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function(e,t,n,r,i){const s=new Bd({next:s=>{t.enqueueAndForget(()=>Oh(e,o));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new Ci(Si.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Ci(Si.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new Mh(Gs(n.path),s,{includeMetadataChanges:!0,uo:!0});return xh(e,o)}(yield uf(e),e.asyncQueue,t,n,r)})),r.promise}function hf(e,t,n={}){const r=new Ai;return e.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function(e,t,n,r,i){const s=new Bd({next:n=>{t.enqueueAndForget(()=>Oh(e,o)),n.fromCache&&"server"===r.source?i.reject(new Ci(Si.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new Mh(n,s,{includeMetadataChanges:!0,uo:!0});return xh(e,o)}(yield uf(e),e.asyncQueue,t,n,r)})),r.promise}class df{constructor(e,t,n,r,i,s,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class ff{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ff&&e.projectId===this.projectId&&e.database===this.database}}const pf=new Map;function gf(e,t,n){if(!n)throw new Ci(Si.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function mf(e,t,n,r){if(!0===t&&!0===r)throw new Ci(Si.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function yf(e){if(!as.isDocumentKey(e))throw new Ci(Si.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function vf(e){if(as.isDocumentKey(e))throw new Ci(Si.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function _f(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){if(e.constructor){const t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Ii()}function wf(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ci(Si.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_f(e);throw new Ci(Si.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function bf(e,t){if(t<=0)throw new Ci(Si.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class If{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ci(Si.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ci(Si.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,mf("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tf{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new If({}),this._settingsFrozen=!1,e instanceof ff?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ci(Si.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ff(e.options.projectId)}(e))}get app(){if(!this._app)throw new Ci(Si.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ci(Si.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new If(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new xi;switch(e.type){case"gapi":const t=e.client;return Ti(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Ri(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Ci(Si.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=pf.get(e);t&&(vi("ComponentProvider","Removing Datastore"),pf.delete(e),t.terminate())}(this),Promise.resolve()}}class Ef{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ef(this.firestore,e,this._key)}}class Sf{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Sf(this.firestore,e,this._query)}}class Cf extends Sf{constructor(e,t,n){super(e,t,Gs(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ef(this.firestore,null,new as(e))}withConverter(e){return new Cf(this.firestore,e,this._path)}}function Af(e,t,...n){if(e=(0,se.m9)(e),gf("collection","path",t),e instanceof Tf){const r=Hi.fromString(t,...n);return vf(r),new Cf(e,null,r)}{if(!(e instanceof Ef||e instanceof Cf))throw new Ci(Si.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=Hi.fromString(e.path,...n).child(Hi.fromString(t));return vf(r),new Cf(e.firestore,null,r)}}function kf(e,t,...n){if(e=(0,se.m9)(e),1===arguments.length&&(t=Mi.I()),gf("doc","path",t),e instanceof Tf){const r=Hi.fromString(t,...n);return yf(r),new Ef(e,null,new as(r))}{if(!(e instanceof Ef||e instanceof Cf))throw new Ci(Si.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Hi.fromString(t,...n));return yf(r),new Ef(e.firestore,e instanceof Cf?e.converter:null,new as(r))}}function xf(e,t){return e=(0,se.m9)(e),t=(0,se.m9)(t),(e instanceof Ef||e instanceof Cf)&&(t instanceof Ef||t instanceof Cf)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Nf(e,t){return e=(0,se.m9)(e),t=(0,se.m9)(t),e instanceof Sf&&t instanceof Sf&&e.firestore===t.firestore&&no(e._query,t._query)&&e.converter===t.converter}class Of{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new Nl(this,"async_queue_retry"),this.Ea=()=>{const e=kl();e&&vi("AsyncQueue","Visibility state changed to "+e.visibilityState),this.rr.tr()};const e=kl();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ta(),this.Ia(e)}enterRestrictedMode(e){if(!this.wa){this.wa=!0,this.ya=e||!1;const t=kl();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ea)}}enqueue(e){if(this.Ta(),this.wa)return new Promise(()=>{});const t=new Ai;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.da.push(e),this.Aa()))}Aa(){var e=this;return(0,te.Z)(function*(){if(0!==e.da.length){try{yield e.da[0](),e.da.shift(),e.rr.reset()}catch(t){if(!Tu(t))throw t;vi("AsyncQueue","Operation failed with retryable error: "+t)}e.da.length>0&&e.rr.Xi(()=>e.Aa())}})()}Ia(e){const t=this.fa.then(()=>(this.ga=!0,e().catch(e=>{throw this.ma=e,this.ga=!1,_i("INTERNAL UNHANDLED ERROR: ",function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e}).then(e=>(this.ga=!1,e))));return this.fa=t,t}enqueueAfterDelay(e,t,n){this.Ta(),this.pa.indexOf(e)>-1&&(t=0);const r=Ih.createAndSchedule(this,e,t,n,e=>this.Ra(e));return this._a.push(r),r}Ta(){this.ma&&Ii()}verifyOperationInProgress(){}Pa(){var e=this;return(0,te.Z)(function*(){let t;do{t=e.fa,yield t}while(t!==e.fa)})()}ba(e){for(const t of this._a)if(t.timerId===e)return!0;return!1}va(e){return this.Pa().then(()=>{this._a.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this._a)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Pa()})}Va(e){this.pa.push(e)}Ra(e){const t=this._a.indexOf(e);this._a.splice(t,1)}}function Df(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class Rf{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ai,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Pf extends Tf{constructor(e,t){super(e,t),this.type="firestore",this._queue=new Of,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Mf(this),this._firestoreClient.terminate()}}function Lf(e){return e._firestoreClient||Mf(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Mf(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new df(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Kd(e._credentials,e._queue,r)}function Ff(e,t,n){const r=new Ai;return e.asyncQueue.enqueue((0,te.Z)(function*(){try{yield Wd(e,n),yield Qd(e,t),r.resolve()}catch(e){if(!function(e){return"FirebaseError"===e.name?e.code===Si.FAILED_PRECONDITION||e.code===Si.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(e))throw e;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),r.reject(e)}})).then(()=>r.promise)}function Uf(e){if(e._initialized||e._terminated)throw new Ci(Si.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Vf{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ci(Si.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ki(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class jf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jf(Yi.fromBase64String(e))}catch(e){throw new Ci(Si.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new jf(Yi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class qf{constructor(e){this._methodName=e}}class Zf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ci(Si.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ci(Si.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fi(this._lat,e._lat)||Fi(this._long,e._long)}}const zf=/^__.*__$/;class Bf{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Lo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Po(e,this.data,t,this.fieldTransforms)}}class $f{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Lo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Hf(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ii()}}class Gf{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.N=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sa(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(e){return new Gf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ca({path:n,xa:!1});return r.ka(e),r}$a(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ca({path:n,xa:!1});return r.Sa(),r}Oa(e){return this.Ca({path:void 0,xa:!0})}Fa(e){return fp(e,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Sa(){if(this.path)for(let e=0;e<this.path.length;e++)this.ka(this.path.get(e))}ka(e){if(0===e.length)throw this.Fa("Document fields must not be empty");if(Hf(this.Da)&&zf.test(e))throw this.Fa('Document fields cannot begin and end with "__"')}}class Kf{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.N=n||xl(e)}Ba(e,t,n,r=!1){return new Gf({Da:e,methodName:t,La:n,path:Ki.emptyPath(),xa:!1,Ma:r},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Wf(e){const t=e._freezeSettings(),n=xl(e._databaseId);return new Kf(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Yf(e,t,n,r,i,s={}){const o=e.Ba(s.merge||s.mergeFields?2:0,t,n,i);cp("Data must be an object, but it was:",o,r);const a=ap(r,o);let u,c;if(s.merge)u=new Wi(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=lp(t,r,n);if(!o.contains(i))throw new Ci(Si.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);pp(e,i)||e.push(i)}u=new Wi(e),c=o.fieldTransforms.filter(e=>u.covers(e.field))}else u=null,c=o.fieldTransforms;return new Bf(new Is(a),u,c)}class Qf extends qf{_toFieldTransform(e){if(2!==e.Da)throw e.Fa(1===e.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qf}}function Jf(e,t,n){return new Gf({Da:3,La:t.settings.La,methodName:e._methodName,xa:n},t.databaseId,t.N,t.ignoreUndefinedProperties)}class Xf extends qf{_toFieldTransform(e){return new Eo(e.path,new mo)}isEqual(e){return e instanceof Xf}}class ep extends qf{constructor(e,t){super(e),this.Ua=t}_toFieldTransform(e){const t=Jf(this,e,!0),n=this.Ua.map(e=>op(e,t)),r=new yo(n);return new Eo(e.path,r)}isEqual(e){return this===e}}class tp extends qf{constructor(e,t){super(e),this.Ua=t}_toFieldTransform(e){const t=Jf(this,e,!0),n=this.Ua.map(e=>op(e,t)),r=new _o(n);return new Eo(e.path,r)}isEqual(e){return this===e}}class np extends qf{constructor(e,t){super(e),this.qa=t}_toFieldTransform(e){const t=new bo(e.N,lo(e.N,this.qa));return new Eo(e.path,t)}isEqual(e){return this===e}}function rp(e,t,n,r){const i=e.Ba(1,t,n);cp("Data must be an object, but it was:",i,r);const s=[],o=Is.empty();zi(r,(e,r)=>{const a=dp(t,e,n);r=(0,se.m9)(r);const u=i.$a(a);if(r instanceof Qf)s.push(a);else{const e=op(r,u);null!=e&&(s.push(a),o.set(a,e))}});const a=new Wi(s);return new $f(o,a,i.fieldTransforms)}function ip(e,t,n,r,i,s){const o=e.Ba(1,t,n),a=[lp(t,r,n)],u=[i];if(s.length%2!=0)throw new Ci(Si.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(lp(t,s[d])),u.push(s[d+1]);const c=[],l=Is.empty();for(let d=a.length-1;d>=0;--d)if(!pp(c,a[d])){const e=a[d];let t=u[d];t=(0,se.m9)(t);const n=o.$a(e);if(t instanceof Qf)c.push(e);else{const r=op(t,n);null!=r&&(c.push(e),l.set(e,r))}}const h=new Wi(c);return new $f(l,h,o.fieldTransforms)}function sp(e,t,n,r=!1){return op(n,e.Ba(r?4:3,t))}function op(e,t){if(up(e=(0,se.m9)(e)))return cp("Unsupported field value:",t,e),ap(e,t);if(e instanceof qf)return function(e,t){if(!Hf(t.Da))throw t.Fa(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Fa(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xa&&4!==t.Da)throw t.Fa("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=op(i,t.Oa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,se.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return lo(t.N,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ji.fromDate(e);return{timestampValue:_a(t.N,n)}}if(e instanceof ji){const n=new ji(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:_a(t.N,n)}}if(e instanceof Zf)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof jf)return{bytesValue:wa(t.N,e._byteString)};if(e instanceof Ef){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Fa(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Ta(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Fa(`Unsupported field value: ${_f(e)}`)}(e,t)}function ap(e,t){const n={};return Bi(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zi(e,(e,r)=>{const i=op(r,t.Na(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function up(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ji||e instanceof Zf||e instanceof jf||e instanceof Ef||e instanceof qf)}function cp(e,t,n){if(!up(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=_f(n);throw t.Fa("an object"===r?e+" a custom object":e+" "+r)}}function lp(e,t,n){if((t=(0,se.m9)(t))instanceof Vf)return t._internalPath;if("string"==typeof t)return dp(e,t);throw fp("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}const hp=new RegExp("[~\\*/\\[\\]]");function dp(e,t,n){if(t.search(hp)>=0)throw fp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Vf(...t.split("."))._internalPath}catch(r){throw fp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function fp(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new Ci(Si.INVALID_ARGUMENT,a+e+u)}function pp(e,t){return e.some(e=>e.isEqual(t))}class gp{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ef(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new mp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(yp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class mp extends gp{data(){return super.data()}}function yp(e,t){return"string"==typeof t?dp(e,t):t instanceof Vf?t._internalPath:t._delegate._internalPath}class vp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _p extends gp{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new wp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(yp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class wp extends _p{data(e={}){return super.data(e)}}class bp{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new vp(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new wp(this._firestore,this._userDataWriter,n.key,n,new vp(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ci(Si.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>({type:"added",doc:new wp(e._firestore,e._userDataWriter,n.doc.key,n.doc,new vp(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new wp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new vp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Ip(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Ip(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ii()}}function Tp(e,t){return e instanceof _p&&t instanceof _p?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof bp&&t instanceof bp&&e._firestore===t._firestore&&Nf(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Ep(e){if(Ws(e)&&0===e.explicitOrderBy.length)throw new Ci(Si.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sp{}function Cp(e,...t){for(const n of t)e=n._apply(e);return e}class Ap extends Sp{constructor(e,t,n){super(),this.Ka=e,this.ja=t,this.Qa=n,this.type="where"}_apply(e){const t=Wf(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Ci(Si.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on FieldPath.documentId().`);if("in"===s||"not-in"===s){Pp(o,s);const t=[];for(const n of o)t.push(Rp(r,e,n));a={arrayValue:{values:t}}}else a=Rp(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Pp(o,s),a=sp(n,"where",o,"in"===s||"not-in"===s);const u=Ns.create(i,s,a);return function(e,t){if(t.v()){const n=Qs(e);if(null!==n&&!n.isEqual(t.field))throw new Ci(Si.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${t.field.toString()}'`);const r=Ys(e);null!==r&&Lp(0,t.field,r)}const n=function(e,t){for(const n of e.filters)if(t.indexOf(n.op)>=0)return n.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw new Ci(Si.INVALID_ARGUMENT,n===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}(e,u),u}(e._query,0,t,e.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Sf(e.firestore,e.converter,function(e,t){const n=e.filters.concat([t]);return new $s(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}class kp extends Sp{constructor(e,t){super(),this.Ka=e,this.Wa=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Ci(Si.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Ci(Si.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new qs(t,n);return function(e,t){if(null===Ys(e)){const n=Qs(e);null!==n&&Lp(0,n,t.field)}}(e,r),r}(e._query,this.Ka,this.Wa);return new Sf(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new $s(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class xp extends Sp{constructor(e,t,n){super(),this.type=e,this.Ga=t,this.za=n}_apply(e){return new Sf(e.firestore,e.converter,to(e._query,this.Ga,this.za))}}class Np extends Sp{constructor(e,t,n){super(),this.type=e,this.Ha=t,this.Ja=n}_apply(e){const t=Dp(e,this.type,this.Ha,this.Ja);return new Sf(e.firestore,e.converter,function(e,t){return new $s(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class Op extends Sp{constructor(e,t,n){super(),this.type=e,this.Ha=t,this.Ja=n}_apply(e){const t=Dp(e,this.type,this.Ha,this.Ja);return new Sf(e.firestore,e.converter,function(e,t){return new $s(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function Dp(e,t,n,r){if(n[0]=(0,se.m9)(n[0]),n[0]instanceof gp)return function(e,t,n,r,i){if(!r)throw new Ci(Si.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const o of Xs(e))if(o.field.isKeyField())s.push(gs(t,r.key));else{const e=r.data.field(o.field);if(ts(e))throw new Ci(Si.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new Ci(Si.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}s.push(e)}return new Vs(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=Wf(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new Ci(Si.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let u=0;u<i.length;u++){const s=i[u];if(o[u].field.isKeyField()){if("string"!=typeof s)throw new Ci(Si.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof s}`);if(!Js(e)&&-1!==s.indexOf("/"))throw new Ci(Si.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${r}() must be a plain document ID, but '${s}' contains a slash.`);const n=e.path.child(Hi.fromString(s));if(!as.isDocumentKey(n))throw new Ci(Si.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new as(n);a.push(gs(t,i))}else{const e=sp(n,r,s);a.push(e)}}return new Vs(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function Rp(e,t,n){if("string"==typeof(n=(0,se.m9)(n))){if(""===n)throw new Ci(Si.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Js(t)&&-1!==n.indexOf("/"))throw new Ci(Si.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Hi.fromString(n));if(!as.isDocumentKey(r))throw new Ci(Si.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gs(e,new as(r))}if(n instanceof Ef)return gs(e,n._key);throw new Ci(Si.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${_f(n)}.`)}function Pp(e,t){if(!Array.isArray(e)||0===e.length)throw new Ci(Si.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new Ci(Si.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function Lp(e,t,n){if(!n.isEqual(t))throw new Ci(Si.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Mp{convertValue(e,t="none"){switch(us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ii()}}convertObject(e,t){const n={};return zi(e.fields,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new Zf(Xi(e.latitude),Xi(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=ns(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(rs(e));default:return null}}convertTimestamp(e){const t=Ji(e);return new ji(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Hi.fromString(e);Ti(Ka(n));const r=new ff(n.get(1),n.get(3)),i=new as(n.popFirst(5));return r.isEqual(t)||_i(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function Fp(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Up extends Mp{constructor(e){super(),this.firestore=e}convertBytes(e){return new jf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ef(this.firestore,null,t)}}class Vp{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Wf(e)}set(e,t,n){this._verifyNotCommitted();const r=jp(e,this._firestore),i=Fp(r.converter,t,n),s=Yf(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,Co.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const i=jp(e,this._firestore);let s;return s="string"==typeof(t=(0,se.m9)(t))||t instanceof Vf?ip(this._dataReader,"WriteBatch.update",i._key,t,n,r):rp(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(s.toMutation(i._key,Co.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=jp(e,this._firestore);return this._mutations=this._mutations.concat(new Vo(t._key,Co.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ci(Si.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function jp(e,t){if((e=(0,se.m9)(e)).firestore!==t)throw new Ci(Si.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class qp extends Mp{constructor(e){super(),this.firestore=e}convertBytes(e){return new jf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ef(this.firestore,null,t)}}function Zp(e,t,n){e=wf(e,Ef);const r=wf(e.firestore,Pf),i=Fp(e.converter,t,n);return $p(r,[Yf(Wf(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Co.none())])}function zp(e,t,n,...r){e=wf(e,Ef);const i=wf(e.firestore,Pf),s=Wf(i);let o;return o="string"==typeof(t=(0,se.m9)(t))||t instanceof Vf?ip(s,"updateDoc",e._key,t,n,r):rp(s,"updateDoc",e._key,t),$p(i,[o.toMutation(e._key,Co.exists(!0))])}function Bp(e,...t){var n,r,i;e=(0,se.m9)(e);let s={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||Df(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Df(t[o])){const e=t[o];t[o]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[o+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[o+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let u,c,l;if(e instanceof Ef)c=wf(e.firestore,Pf),l=Gs(e._key.path),u={next:n=>{t[o]&&t[o](Hp(c,e,n))},error:t[o+1],complete:t[o+2]};else{const n=wf(e,Sf);c=wf(n.firestore,Pf),l=n._query;const r=new qp(c);u={next:e=>{t[o]&&t[o](new bp(c,r,n,e))},error:t[o+1],complete:t[o+2]},Ep(e._query)}return function(e,t,n,r){const i=new Bd(r),s=new Mh(t,i,n);return e.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return xh(yield uf(e),s)})),()=>{i.Xo(),e.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return Oh(yield uf(e),s)}))}}(Lf(c),l,a,u)}function $p(e,t){return function(e,t){const n=new Ai;return e.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function(e,t,n){return Xh.apply(this,arguments)}(yield af(e),t,n)})),n.promise}(Lf(e),t)}function Hp(e,t,n){const r=n.docs.get(t._key),i=new qp(e);return new _p(e,i,t._key,r,new vp(n.hasPendingWrites,n.fromCache),t.converter)}class Gp extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Wf(e)}get(e){const t=jp(e,this._firestore),n=new Up(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||1!==e.length)return Ii();const r=e[0];if(r.isFoundDocument())return new gp(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new gp(this._firestore,n,t._key,null,t.converter);throw Ii()})}set(e,t,n){const r=jp(e,this._firestore),i=Fp(r.converter,t,n),s=Yf(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n,...r){const i=jp(e,this._firestore);let s;return s="string"==typeof(t=(0,se.m9)(t))||t instanceof Vf?ip(this._dataReader,"Transaction.update",i._key,t,n,r):rp(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,s),this}delete(e){const t=jp(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=jp(e,this._firestore),n=new qp(this._firestore);return super.get(e).then(e=>new _p(this._firestore,n,t._key,e._document,new vp(!1,!1),t.converter))}}function Kp(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ci("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function Wp(){if("undefined"==typeof Uint8Array)throw new Ci("unimplemented","Uint8Arrays are not available in this environment.")}function Yp(){if("undefined"==typeof atob)throw new Ci("unimplemented","Blobs are unavailable in Firestore in this environment.")}gi=ne.SDK_VERSION,(0,ne._registerComponent)(new re.wA("firestore",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=new Pf(n,new Oi(e.getProvider("auth-internal")));return t=Object.assign({useFetchStreams:!0},t),r._setSettings(t),r},"PUBLIC")),(0,ne.registerVersion)("@firebase/firestore","3.0.1",void 0);class Qp{constructor(e){this._delegate=e}static fromBase64String(e){return Yp(),new Qp(jf.fromBase64String(e))}static fromUint8Array(e){return Wp(),new Qp(jf.fromUint8Array(e))}toBase64(){return Yp(),this._delegate.toBase64()}toUint8Array(){return Wp(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Jp(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class Xp{enableIndexedDbPersistence(e,t){return function(e,t){Uf(e=wf(e,Pf));const n=Lf(e),r=e._freezeSettings(),i=new Zd;return Ff(n,i,new jd(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){Uf(e=wf(e,Pf));const t=Lf(e),n=e._freezeSettings(),r=new Zd;return Ff(t,r,new qd(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Ci(Si.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Ai;return e._queue.enqueueAndForgetEvenWhileRestricted((0,te.Z)(function*(){try{yield(n=(0,te.Z)(function*(e){if(!wu.Pt())return Promise.resolve();const t=e+"main";yield wu.delete(t)}),function(e){return n.apply(this,arguments)})(Dc(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var n})),t.promise}(e._delegate)}}class eg{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof ff||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||wi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,n={}){!function(e,t,n,r={}){var i;const s=(e=wf(e,Tf))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&wi("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=pi.MOCK_USER;else{t=(0,se.Sg)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Ci(Si.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new pi(s)}e._credentials=new Ni(new ki(t,n))}}(this._delegate,e,t,n)}enableNetwork(){return function(e){return e.asyncQueue.enqueue((0,te.Z)(function*(){const t=yield rf(e),n=yield of(e);return t.setNetworkEnabled(!0),function(e){const t=Ei(e);return t.Kr.delete(0),Fl(t)}(n)}))}(Lf(wf(this._delegate,Pf)))}disableNetwork(){return function(e){return e.asyncQueue.enqueue((0,te.Z)(function*(){const t=yield rf(e),n=yield of(e);return t.setNetworkEnabled(!1),(r=(0,te.Z)(function*(e){const t=Ei(e);t.Kr.add(0),yield Vl(t),t.Wr.set("Offline")}),function(e){return r.apply(this,arguments)})(n);var r}))}(Lf(wf(this._delegate,Pf)))}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,mf("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(e){const t=new Ai;return e.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function(e,t){return cd.apply(this,arguments)}(yield af(e),t)})),t.promise}(Lf(wf(this._delegate,Pf)))}onSnapshotsInSync(e){return t=e,function(e,t){const n=new Bd(t);return e.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function(e,t){Ei(e).Zr.add(t),t.next()}(yield uf(e),n)})),()=>{n.Xo(),e.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function(e,t){Ei(e).Zr.delete(t)}(yield uf(e),n)}))}}(Lf(wf(this._delegate,Pf)),Df(t)?t:{next:t});var t}get app(){if(!this._appCompat)throw new Ci("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new pg(this,Af(this._delegate,e))}catch(t){throw og(t,"collection()","Firestore.collection()")}}doc(e){try{return new sg(this,kf(this._delegate,e))}catch(t){throw og(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new hg(this,function(e,t){if(e=wf(e,Tf),gf("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ci(Si.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Sf(e,null,function(e){return new $s(Hi.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw og(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return n=t=>e(new ng(this,t)),function(e,t){const n=new Ai;return e.asyncQueue.enqueueAndForget((0,te.Z)(function*(){const r=yield function(e){return tf(e).then(e=>e.datastore)}(e);new Gd(e.asyncQueue,r,t,n).run()})),n.promise}(Lf(t=this._delegate),e=>n(new Gp(t,e)));var t,n}batch(){return Lf(this._delegate),new rg(new Vp(this._delegate,e=>$p(this._delegate,e)))}loadBundle(e){return function(e,t){const n=Lf(e=wf(e,Pf)),r=new Rf;return function(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(e):e,function(e,t){return new $d(e,t)}(function(e,t){if(e instanceof Uint8Array)return zd(e,t);if(e instanceof ArrayBuffer)return zd(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,xl(t));e.asyncQueue.enqueueAndForget((0,te.Z)(function*(){!function(e,t,n){const r=Ei(e);var i;(i=(0,te.Z)(function*(e,t,n){try{const r=yield t.getMetadata();if(yield function(e,t){const n=Ei(e),r=Ia(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",e=>n.Je.getBundleMetadata(e,t.id)).then(e=>!!e&&e.createTime.compareTo(r)>=0)}(e.localStore,r))return yield t.close(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r));n._updateProgress(jh(r));const i=new Vh(r,e.localStore,t.N);let s=yield t.Qo();for(;s;){const e=yield i.fo(s);e&&n._updateProgress(e),s=yield t.Qo()}const o=yield i.complete();yield yd(e,o.Tn,void 0),yield function(e,t){const n=Ei(e);return n.persistence.runTransaction("Save bundle","readwrite",e=>n.Je.saveBundleMetadata(e,t))}(e.localStore,r),n._completeWith(o.progress)}catch(e){wi("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e)}}),function(e,t,n){return i.apply(this,arguments)})(r,t,n).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield af(e),i,r)}))}(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return(t=this._delegate,n=e,function(e,t){return e.asyncQueue.enqueue((0,te.Z)(function*(){return function(e,t){const n=Ei(e);return n.persistence.runTransaction("Get named query","readonly",e=>n.Je.getNamedQuery(e,t))}(yield sf(e),t)}))}(Lf(t=wf(t,Pf)),n).then(e=>e?new Sf(t,null,e.query):null)).then(e=>e?new hg(this,e):null);var t,n}}class tg extends Mp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qp(new jf(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return sg.forKey(t,this.firestore,null)}}class ng{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new tg(e)}get(e){const t=gg(e);return this._delegate.get(t).then(e=>new cg(this._firestore,new _p(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter)))}set(e,t,n){const r=gg(e);return n?(Kp("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=gg(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=gg(e);return this._delegate.delete(t),this}}class rg{constructor(e){this._delegate=e}set(e,t,n){const r=gg(e);return n?(Kp("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=gg(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=gg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}let ig=(()=>{class e{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new wp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new lg(this._firestore,n),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(t,n){const r=e.INSTANCES;let i=r.get(t);i||(i=new WeakMap,r.set(t,i));let s=i.get(n);return s||(s=new e(t,new tg(t),n),i.set(n,s)),s}}return e.INSTANCES=new WeakMap,e})();class sg{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new tg(e)}static forPath(e,t,n){if(e.length%2!=0)throw new Ci("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new sg(t,new Ef(t._delegate,n,new as(e)))}static forKey(e,t,n){return new sg(t,new Ef(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new pg(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new pg(this.firestore,Af(this._delegate,e))}catch(t){throw og(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,se.m9)(e))instanceof Ef&&xf(this._delegate,e)}set(e,t){t=Kp("DocumentReference.set",t);try{return t?Zp(this._delegate,e,t):Zp(this._delegate,e)}catch(n){throw og(n,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?zp(this._delegate,e):zp(this._delegate,e,t,...n)}catch(r){throw og(r,"updateDoc()","DocumentReference.update()")}}delete(){return $p(wf((e=this._delegate).firestore,Pf),[new Vo(e._key,Co.none())]);var e}onSnapshot(...e){const t=ag(e),n=ug(e,e=>new cg(this.firestore,new _p(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)));return Bp(this._delegate,t,n)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=wf(e,Ef);const t=wf(e.firestore,Pf),n=Lf(t),r=new qp(t);return function(e,t){const n=new Ai;return e.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return(r=(0,te.Z)(function*(e,t,n){try{const r=yield function(e,t){const n=Ei(e);return n.persistence.runTransaction("read document","readonly",e=>n.Qn.An(e,t))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Ci(Si.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=Th(e,`Failed to get document '${t} from cache`);n.reject(r)}}),function(e,t,n){return r.apply(this,arguments)})(yield sf(e),t,n);var r})),n.promise}(n,e._key).then(n=>new _p(t,r,e._key,n,new vp(null!==n&&n.hasLocalMutations,!0),e.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=wf(e,Ef);const t=wf(e.firestore,Pf);return lf(Lf(t),e._key,{source:"server"}).then(n=>Hp(t,e,n))}(this._delegate):function(e){e=wf(e,Ef);const t=wf(e.firestore,Pf);return lf(Lf(t),e._key).then(n=>Hp(t,e,n))}(this._delegate),t.then(e=>new cg(this.firestore,new _p(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)))}withConverter(e){return new sg(this.firestore,this._delegate.withConverter(e?ig.getInstance(this.firestore,e):null))}}function og(e,t,n){return e.message=e.message.replace(t,n),e}function ag(e){for(const t of e)if("object"==typeof t&&!Jp(t))return t;return{}}function ug(e,t){var n,r;let i;return i=Jp(e[0])?e[0]:Jp(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class cg{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new sg(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Tp(this._delegate,e._delegate)}}class lg extends cg{data(e){const t=this._delegate.data(e);return void 0!==t||Ii(),t}}class hg{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new tg(e)}where(e,t,n){try{return new hg(this.firestore,Cp(this._delegate,function(e,t,n){const r=t,i=yp("where",e);return new Ap(i,r,n)}(e,t,n)))}catch(r){throw og(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new hg(this.firestore,Cp(this._delegate,function(e,t="asc"){const n=t,r=yp("orderBy",e);return new kp(r,n)}(e,t)))}catch(n){throw og(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new hg(this.firestore,Cp(this._delegate,(bf("limit",t=e),new xp("limit",t,"F"))))}catch(n){throw og(n,"limit()","Query.limit()")}var t}limitToLast(e){try{return new hg(this.firestore,Cp(this._delegate,(bf("limitToLast",t=e),new xp("limitToLast",t,"L"))))}catch(n){throw og(n,"limitToLast()","Query.limitToLast()")}var t}startAt(...e){try{return new hg(this.firestore,Cp(this._delegate,function(...e){return new Np("startAt",e,!0)}(...e)))}catch(t){throw og(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new hg(this.firestore,Cp(this._delegate,function(...e){return new Np("startAfter",e,!1)}(...e)))}catch(t){throw og(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new hg(this.firestore,Cp(this._delegate,function(...e){return new Op("endBefore",e,!0)}(...e)))}catch(t){throw og(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new hg(this.firestore,Cp(this._delegate,function(...e){return new Op("endAt",e,!1)}(...e)))}catch(t){throw og(t,"endAt()","Query.endAt()")}}isEqual(e){return Nf(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=wf(e,Sf);const t=wf(e.firestore,Pf),n=Lf(t),r=new qp(t);return function(e,t){const n=new Ai;return e.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return(r=(0,te.Z)(function*(e,t,n){try{const r=yield Wc(e,t,!0),i=new zh(t,r.Gn),s=i.Io(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=Th(e,`Failed to execute query '${t} against cache`);n.reject(r)}}),function(e,t,n){return r.apply(this,arguments)})(yield sf(e),t,n);var r})),n.promise}(n,e._query).then(n=>new bp(t,r,e,n))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=wf(e,Sf);const t=wf(e.firestore,Pf),n=Lf(t),r=new qp(t);return hf(n,e._query,{source:"server"}).then(n=>new bp(t,r,e,n))}(this._delegate):function(e){e=wf(e,Sf);const t=wf(e.firestore,Pf),n=Lf(t),r=new qp(t);return Ep(e._query),hf(n,e._query).then(n=>new bp(t,r,e,n))}(this._delegate),t.then(e=>new fg(this.firestore,new bp(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)))}onSnapshot(...e){const t=ag(e),n=ug(e,e=>new fg(this.firestore,new bp(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)));return Bp(this._delegate,t,n)}withConverter(e){return new hg(this.firestore,this._delegate.withConverter(e?ig.getInstance(this.firestore,e):null))}}class dg{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new lg(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class fg{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new hg(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new lg(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(e=>new dg(this._firestore,e))}forEach(e,t){this._delegate.forEach(n=>{e.call(t,new lg(this._firestore,n))})}isEqual(e){return Tp(this._delegate,e._delegate)}}class pg extends hg{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new sg(this.firestore,e):null}doc(e){try{return new sg(this.firestore,void 0===e?kf(this._delegate):kf(this._delegate,e))}catch(t){throw og(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=wf(e.firestore,Pf),r=kf(e),i=Fp(e.converter,t);return $p(n,[Yf(Wf(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Co.exists(!1))]).then(()=>r)}(this._delegate,e).then(e=>new sg(this.firestore,e))}isEqual(e){return xf(this._delegate,e._delegate)}withConverter(e){return new pg(this.firestore,this._delegate.withConverter(e?ig.getInstance(this.firestore,e):null))}}function gg(e){return wf(e,Ef)}class mg{constructor(...e){this._delegate=new Vf(...e)}static documentId(){return new mg(Ki.keyField().canonicalString())}isEqual(e){return(e=(0,se.m9)(e))instanceof Vf&&this._delegate._internalPath.isEqual(e._internalPath)}}class yg{constructor(e){this._delegate=e}static serverTimestamp(){const e=new Xf("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new yg(e)}static delete(){const e=new Qf("deleteField");return e._methodName="FieldValue.delete",new yg(e)}static arrayUnion(...e){const t=function(...e){return new ep("arrayUnion",e)}(...e);return t._methodName="FieldValue.arrayUnion",new yg(t)}static arrayRemove(...e){const t=function(...e){return new tp("arrayRemove",e)}(...e);return t._methodName="FieldValue.arrayRemove",new yg(t)}static increment(e){const t=new np("increment",e);return t._methodName="FieldValue.increment",new yg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const vg={Firestore:eg,GeoPoint:Zf,Timestamp:ji,Blob:Qp,Transaction:ng,WriteBatch:rg,DocumentReference:sg,DocumentSnapshot:cg,Query:hg,QueryDocumentSnapshot:lg,QuerySnapshot:fg,CollectionReference:pg,FieldPath:mg,FieldValue:yg,setLogLevel:function(e){mi.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};var _g,wg;wg=(e,t)=>new eg(e,t,new Xp),(_g=ee.Z).INTERNAL.registerComponent(new re.wA("firestore-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("firestore").getImmediate();return wg(t,n)},"PUBLIC").setServiceProps(Object.assign({},vg))),_g.registerVersion("@firebase/firestore-compat","0.1.1");var bg=n(5959),Ig=n(1906),Tg=n(4689),Eg=n(8489),Sg=n(7570),Cg=n(3895),Ag=n(9291);class kg extends bg.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new xg(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,n=t?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new Cg.N;if(this.isStopped||this.hasError?s=Sg.w.EMPTY:(this.observers.push(e),s=new Ag.W(this,e)),r&&e.add(e=new J.ht(e,r)),t)for(let o=0;o<i&&!e.closed;o++)e.next(n[o]);else for(let o=0;o<i&&!e.closed;o++)e.next(n[o].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),s}_getNow(){return(this.scheduler||Eg.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(e-r[s].time<n);)s++;return i>t&&(s=Math.max(s,i-t)),s>0&&r.splice(0,s),r}}class xg{constructor(e,t){this.time=e,this.value=t}}function Ng(e,t,n){let r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},e=>e.lift(function({bufferSize:e=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,u=!1;return function(c){let l;o++,!i||a?(a=!1,i=new kg(e,t,r),l=i.subscribe(this),s=c.subscribe({next(e){i.next(e)},error(e){a=!0,i.error(e)},complete(){u=!0,s=void 0,i.complete()}}),u&&(s=void 0)):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),l=void 0,s&&!u&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}var Og=n(3530);function Dg(e,t){return t?(0,Tg.w)(()=>e,t):(0,Tg.w)(()=>e)}var Rg=n(4187),Pg=n(9001);const Lg=new i.OlP("angularfire2.auth.use-emulator"),Mg=new i.OlP("angularfire2.auth.settings"),Fg=new i.OlP("angularfire2.auth.tenant-id"),Ug=new i.OlP("angularfire2.auth.langugage-code"),Vg=new i.OlP("angularfire2.auth.use-device-language"),jg=new i.OlP("angularfire.auth.persistence"),qg=(e,t,n,r,i,s,o,a)=>(0,q.cc)(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{const u=t.runOutsideAngular(()=>e.auth());if(n&&u.useEmulator(...n),r&&(u.tenantId=r),u.languageCode=i,s&&u.useDeviceLanguage(),o)for(const[e,t]of Object.entries(o))u.settings[e]=t;return a&&u.setPersistence(a),u},[n,r,i,s,o,a]);let Zg=(()=>{class e{constructor(e,t,i,s,o,a,u,c,l,h,d){const f=new bg.xQ,p=(0,j.of)(void 0).pipe((0,J.QV)(o.outsideAngular),(0,Tg.w)(()=>s.runOutsideAngular(()=>Promise.resolve().then(n.bind(n,1119)))),(0,G.U)(()=>(0,X.on)(e,s,t)),(0,G.U)(e=>qg(e,s,a,c,l,h,u,d)),Ng({bufferSize:1,refCount:!1}));if((0,r.PM)(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,j.of)(null);else{p.pipe((0,Og.P)()).subscribe();const e=p.pipe((0,Tg.w)(e=>e.getRedirectResult().then(e=>e,()=>null)),q.iC,Ng({bufferSize:1,refCount:!1})),t=p.pipe((0,Tg.w)(e=>new U.y(t=>({unsubscribe:s.runOutsideAngular(()=>e.onAuthStateChanged(e=>t.next(e),e=>t.error(e),()=>t.complete()))})))),n=p.pipe((0,Tg.w)(e=>new U.y(t=>({unsubscribe:s.runOutsideAngular(()=>e.onIdTokenChanged(e=>t.next(e),e=>t.error(e),()=>t.complete()))}))));this.authState=e.pipe(Dg(t),(0,Rg.R)(o.outsideAngular),(0,J.QV)(o.insideAngular)),this.user=e.pipe(Dg(n),(0,Rg.R)(o.outsideAngular),(0,J.QV)(o.insideAngular)),this.idToken=this.user.pipe((0,Tg.w)(e=>e?(0,V.D)(e.getIdToken()):(0,j.of)(null))),this.idTokenResult=this.user.pipe((0,Tg.w)(e=>e?(0,V.D)(e.getIdTokenResult()):(0,j.of)(null))),this.credential=(0,Ig.T)(e,f,this.authState.pipe((0,Q.h)(e=>!e))).pipe((0,G.U)(e=>(null==e?void 0:e.user)?e:null),(0,Rg.R)(o.outsideAngular),(0,J.QV)(o.insideAngular))}return(0,X.pX)(this,p,s,{spy:{apply:(e,t,n)=>{(e.startsWith("signIn")||e.startsWith("createUser"))&&n.then(e=>f.next(e))}}})}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(X.Dh),i.LFG(X.xv,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(q.HU),i.LFG(Lg,8),i.LFG(Mg,8),i.LFG(Fg,8),i.LFG(Ug,8),i.LFG(Vg,8),i.LFG(jg,8))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})();function zg(e,t){return function(e,t=F.z){return new U.y(n=>{let r;return null!=t?t.schedule(()=>{r=e.onSnapshot({includeMetadataChanges:!0},n)}):r=e.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(e,t)}function Bg(e,t){return zg(e,t).pipe((0,G.U)(e=>({payload:e,type:"query"})))}function $g(e,t){return Bg(e,t).pipe((0,Z.O)(void 0),B(),(0,G.U)(([e,t])=>{const n=t.payload.docChanges(),r=n.map(e=>({type:e.type,payload:e}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(t.payload.metadata)&&t.payload.docs.forEach((t,i)=>{const s=n.find(e=>e.doc.ref.isEqual(t.ref)),o=null==e?void 0:e.payload.docs.find(e=>e.ref.isEqual(t.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(t.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(t.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:t}})}),r}))}function Hg(e,t,n){return $g(e,n).pipe((0,K.R)((e,n)=>function(e,t,n){return t.forEach(t=>{n.indexOf(t.type)>-1&&(e=function(e,t){switch(t.type){case"added":if(!e[t.newIndex]||!e[t.newIndex].doc.ref.isEqual(t.doc.ref))return Gg(e,t.newIndex,0,t);break;case"modified":if(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const n=e.slice();return n.splice(t.oldIndex,1),n.splice(t.newIndex,0,t),n}return Gg(e,t.newIndex,1,t)}break;case"removed":if(e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref))return Gg(e,t.oldIndex,1)}return e}(e,t))}),e}(e,n.map(e=>e.payload),t),[]),e=>e.lift(new W(void 0,void 0)),(0,G.U)(e=>e.map(e=>({type:e.type,payload:e}))))}function Gg(e,t,n,...r){const i=e.slice();return i.splice(t,n,...r),i}function Kg(e){return e&&0!==e.length||(e=["added","removed","modified"]),e}(0,X.GT)(Zg,[{name:null,config:null,emulatorConfig:null,app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class Wg{constructor(e,t,n){this.ref=e,this.query=t,this.afs=n}stateChanges(e){let t=$g(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,G.U)(t=>t.filter(t=>e.indexOf(t.type)>-1)))),t.pipe((0,Z.O)(void 0),B(),(0,Q.h)(([e,t])=>t.length>0||!e),(0,G.U)(([e,t])=>t),q.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,K.R)((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=Kg(e);return Hg(this.query,t,this.afs.schedulers.outsideAngular).pipe(q.iC)}valueChanges(e={}){return Bg(this.query,this.afs.schedulers.outsideAngular).pipe((0,G.U)(t=>t.payload.docs.map(t=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data())),q.iC)}get(e){return(0,V.D)(this.query.get(e)).pipe(q.f6)}add(e){return this.ref.add(e)}doc(e){return new Yg(this.ref.doc(e),this.afs)}}class Yg{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const n=this.ref.collection(e),{ref:r,query:i}=nm(n,t);return new Wg(r,i,this.afs)}snapshotChanges(){return zg(this.ref,this.afs.schedulers.outsideAngular).pipe((0,Z.O)(void 0),B(),(0,G.U)(([e,t])=>t.exists?(null==e?void 0:e.exists)?{payload:t,type:"modified"}:{payload:t,type:"added"}:{payload:t,type:"removed"})).pipe(q.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,G.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,V.D)(this.ref.get(e)).pipe((0,J.QV)(this.afs.schedulers.insideAngular))}}class Qg{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?$g(this.query,this.afs.schedulers.outsideAngular).pipe((0,G.U)(t=>t.filter(t=>e.indexOf(t.type)>-1)),(0,Q.h)(e=>e.length>0),q.iC):$g(this.query,this.afs.schedulers.outsideAngular).pipe(q.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,K.R)((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=Kg(e);return Hg(this.query,t,this.afs.schedulers.outsideAngular).pipe(q.iC)}valueChanges(e={}){return Bg(this.query,this.afs.schedulers.outsideAngular).pipe((0,G.U)(t=>t.payload.docs.map(t=>e.idField?Object.assign({[e.idField]:t.id},t.data()):t.data())),q.iC)}get(e){return(0,V.D)(this.query.get(e)).pipe(q.f6)}}const Jg=new i.OlP("angularfire2.enableFirestorePersistence"),Xg=new i.OlP("angularfire2.firestore.persistenceSettings"),em=new i.OlP("angularfire2.firestore.settings"),tm=new i.OlP("angularfire2.firestore.use-emulator");function nm(e,t=(e=>e)){return{query:t(e),ref:e}}let rm=(()=>{class e{constructor(e,t,n,i,s,o,a,u,c,l,h,d,f,p,g,m){this.schedulers=a;const y=(0,X.on)(e,o,t),v=c;l&&qg(y,o,h,f,p,g,d,m),[this.firestore,this.persistenceEnabled$]=(0,q.cc)(`${y.name}.firestore`,"AngularFirestore",y.name,()=>{const e=o.runOutsideAngular(()=>y.firestore());if(i&&e.settings(i),v&&e.useEmulator(...v),n&&!(0,r.PM)(s)){const t=()=>{try{return(0,V.D)(e.enablePersistence(u||void 0).then(()=>!0,()=>!1))}catch(t){return"undefined"!=typeof console&&console.warn(t),(0,j.of)(!1)}};return[e,o.runOutsideAngular(t)]}return[e,(0,j.of)(!1)]},[i,v,n])}collection(e,t){let n;n="string"==typeof e?this.firestore.collection(e):e;const{ref:r,query:i}=nm(n,t),s=this.schedulers.ngZone.run(()=>r);return new Wg(s,i,this)}collectionGroup(e,t){const n=t||(e=>e),r=this.firestore.collectionGroup(e);return new Qg(n(r),this)}doc(e){let t;t="string"==typeof e?this.firestore.doc(e):e;const n=this.schedulers.ngZone.run(()=>t);return new Yg(n,this)}createId(){return this.firestore.collection("_").doc().id}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(X.Dh),i.LFG(X.xv,8),i.LFG(Jg,8),i.LFG(em,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(q.HU),i.LFG(Xg,8),i.LFG(tm,8),i.LFG(Zg,8),i.LFG(Lg,8),i.LFG(Mg,8),i.LFG(Fg,8),i.LFG(Ug,8),i.LFG(Vg,8),i.LFG(jg,8))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})(),im=(()=>{class e{constructor(){Pg.Z.registerVersion("angularfire",q.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:e,providers:[{provide:Jg,useValue:!0},{provide:Xg,useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[rm]}),e})(),sm=(()=>{class e{constructor(e){this.firestore=e}agregarEmpleado(e){return this.firestore.collection("empleados").add(e)}getEmpleado(){return this.firestore.collection("empleados",e=>e.orderBy("fechaCreacion","asc")).snapshotChanges()}eliminarEmpleado(e){return this.firestore.collection("empleados").doc(e).delete()}editarEmpleado(e){return this.firestore.collection("empleados").doc(e).snapshotChanges()}actualizarEmpleado(e,t){return this.firestore.collection("empleados").doc(e).update(t)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(rm))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function om(e,t){1&e&&(i.TgZ(0,"span",7),i.TgZ(1,"b",8),i._uU(2,"No hay datos para mostrar"),i.qZA(),i.qZA())}const am=function(e){return["/editEmpleado/",e]};function um(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"tr"),i.TgZ(1,"th"),i._uU(2),i.qZA(),i.TgZ(3,"td"),i._uU(4),i.qZA(),i.TgZ(5,"td"),i._uU(6),i.qZA(),i.TgZ(7,"td"),i._uU(8),i.ALo(9,"currency"),i.qZA(),i.TgZ(10,"td"),i.TgZ(11,"span",11),i._UZ(12,"i",12),i.TgZ(13,"i",13),i._uU(14," Editar "),i.qZA(),i.qZA(),i._uU(15,", "),i.TgZ(16,"span",14),i.NdJ("click",function(){const t=i.CHM(e).$implicit;return i.oxw(2).eliminarEmpleado(t.id)}),i._UZ(17,"i",15),i.TgZ(18,"i"),i._uU(19," Eliminar "),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&e){const e=t.$implicit;i.xp6(2),i.Oqu(e.nombre),i.xp6(2),i.Oqu(e.apellido),i.xp6(2),i.Oqu(e.documento),i.xp6(2),i.Oqu(i.lcZ(9,5,e.salario)),i.xp6(3),i.Q6J("routerLink",i.VKq(7,am,e.id))}}function cm(e,t){if(1&e&&(i.TgZ(0,"table",9),i.TgZ(1,"thead"),i.TgZ(2,"tr"),i.TgZ(3,"th"),i._uU(4,"Nombre"),i.qZA(),i.TgZ(5,"th"),i._uU(6,"Apellido"),i.qZA(),i.TgZ(7,"th"),i._uU(8,"Documento"),i.qZA(),i.TgZ(9,"th"),i._uU(10,"Salario"),i.qZA(),i.TgZ(11,"th"),i._uU(12,"Acciones"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(13,"tbody"),i.YNc(14,um,20,9,"tr",10),i.qZA(),i.qZA()),2&e){const e=i.oxw();i.xp6(14),i.Q6J("ngForOf",e.empleados)}}let lm=(()=>{class e{constructor(e){this._empleadoService=e,this.empleados=[]}ngOnInit(){this.getEmpleado()}getEmpleado(){this._empleadoService.getEmpleado().subscribe(e=>{this.empleados=[],e.forEach(e=>{this.empleados.push(Object.assign({id:e.payload.doc.id},e.payload.doc.data()))}),console.log(this.empleados)})}eliminarEmpleado(e){this._empleadoService.eliminarEmpleado(e).then(()=>{console.log("empleado eliminado con exito")}).catch(e=>{console.log(e)})}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(sm))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-list-empleado"]],decls:9,vars:2,consts:[[1,"container"],[1,"card"],[1,"card-header","mt-2","h3"],["type","button","routerLink","/create-empleado",1,"btn","btn-success",2,"float","right"],[1,"card-body"],["class","card-header mt-2 h5",4,"ngIf"],["class","table table-striped",4,"ngIf"],[1,"card-header","mt-2","h5"],[2,"color","red"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"fas","fa-lg","text-info","fa-edit","mr-2"],[1,"mr-4"],[3,"click"],[1,"fas","fa-lg","text-danger","fa-trash-alt","mr-2"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"span",2),i._uU(3," Lista de empleados "),i.TgZ(4,"button",3),i._uU(5," Agregar "),i.qZA(),i.qZA(),i.TgZ(6,"div",4),i.YNc(7,om,3,0,"span",5),i.YNc(8,cm,15,1,"table",6),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.xp6(7),i.Q6J("ngIf",0==t.empleados.length),i.xp6(1),i.Q6J("ngIf",t.empleados.length>0))},directives:[M.rH,r.O5,r.sg],pipes:[r.H9],styles:["i[_ngcontent-%COMP%]{cursor:pointer}"]}),e})();var hm=n(1462);function dm(e,t){1&e&&(i.TgZ(0,"small",18),i._uU(1,"Todos los campos son obligatorios"),i.qZA())}function fm(e,t){1&e&&(i.TgZ(0,"div",19),i.TgZ(1,"span",20),i._uU(2,"Loading..."),i.qZA(),i.qZA())}let pm=(()=>{class e{constructor(e,t,n,r){this.fb=e,this._empleadoService=t,this.router=n,this.aRouter=r,this.submitted=!1,this.Loading=!1,this.tituloEncabezado="Agregar Empleado",this.createEmpleado=this.fb.group({nombre:["",hm.kI.required],apellido:["",hm.kI.required],documento:["",hm.kI.required],salario:["",hm.kI.required]}),this.id=this.aRouter.snapshot.paramMap.get("id"),console.log(this.id)}ngOnInit(){this.editarEmpleado()}agregarEditarEmpleado(){this.submitted=!0,this.createEmpleado.invalid||null===this.id||this.actualizarEmpleado(this.id)}agregarEmpleado(){this.tituloEncabezado="Agregar Empleado";const e={nombre:this.createEmpleado.value.nombre,apellido:this.createEmpleado.value.apellido,documento:this.createEmpleado.value.documento,salario:this.createEmpleado.value.salario,fechaCreacion:new Date,fechaActualizacion:new Date};this.Loading=!0,this._empleadoService.agregarEmpleado(e).then(()=>{this.Loading=!1,this.router.navigate(["/list-empleado"])}).catch(e=>{console.log(e),this.Loading=!1})}editarEmpleado(){null!==this.id&&this._empleadoService.editarEmpleado(this.id).subscribe(e=>{this.tituloEncabezado="Editar datos del empleado",console.log("Editando datos"),this.createEmpleado.setValue({nombre:e.payload.data().nombre,apellido:e.payload.data().apellido,documento:e.payload.data().documento,salario:e.payload.data().salario})})}actualizarEmpleado(e){const t={nombre:this.createEmpleado.value.nombre,apellido:this.createEmpleado.value.apellido,documento:this.createEmpleado.value.documento,salario:this.createEmpleado.value.salario,fechaActualizacion:new Date};this._empleadoService.actualizarEmpleado(e,t).then(()=>{this.Loading=!1,this.router.navigate(["/list-empleado"])}).catch(e=>{console.log(e),this.Loading=!1})}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(hm.qu),i.Y36(sm),i.Y36(M.F0),i.Y36(M.gz))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-create-empleado"]],decls:25,vars:4,consts:[[1,"container"],[1,"card","text-center"],[1,"card-header","text-center","h3"],[1,"h3"],["type","submit","routerLink","/list-empleado",1,"btn","btn-primary","mr-3","ml-2","lg",2,"float","right"],["style","color: red; font-size: 15px;",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"card-body"],[1,"row","g-3"],[1,"col"],["type","text","formControlName","nombre","placeholder","Nombre","aria-label","Nombre",1,"form-control"],["type","text","formControlName","apellido","placeholder","Apellido","aria-label","Apellido",1,"form-control"],["class","spinner-border text-success float-right","role","status",4,"ngIf"],[1,"row","g-3","mt-3"],["type","text","formControlName","documento","placeholder","Documento","aria-label","Documento",1,"form-control"],["type","number","formControlName","salario","placeholder","Salario","aria-label","Salario",1,"form-control"],[1,"card-footer","text-muted","mt-3"],["type","text",1,"btn","btn-success","mr-3","ml-2","lg"],[2,"color","red","font-size","15px"],["role","status",1,"spinner-border","text-success","float-right"],[1,"visually-hidden"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i.TgZ(3,"span",3),i._uU(4),i.qZA(),i.TgZ(5,"button",4),i._uU(6,"Volver"),i.qZA(),i._UZ(7,"br"),i.YNc(8,dm,2,0,"small",5),i.qZA(),i.TgZ(9,"form",6),i.NdJ("ngSubmit",function(){return t.agregarEditarEmpleado()}),i.TgZ(10,"div",7),i.TgZ(11,"div",8),i.TgZ(12,"div",9),i._UZ(13,"input",10),i.qZA(),i.TgZ(14,"div",9),i._UZ(15,"input",11),i.qZA(),i.qZA(),i.YNc(16,fm,3,0,"div",12),i.TgZ(17,"div",13),i.TgZ(18,"div",9),i._UZ(19,"input",14),i.qZA(),i.TgZ(20,"div",9),i._UZ(21,"input",15),i.qZA(),i.qZA(),i.qZA(),i.TgZ(22,"div",16),i.TgZ(23,"button",17),i._uU(24,"Agregar"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.xp6(4),i.hij(" ",t.tituloEncabezado," "),i.xp6(4),i.Q6J("ngIf",t.submitted&&t.createEmpleado.invalid),i.xp6(1),i.Q6J("formGroup",t.createEmpleado),i.xp6(7),i.Q6J("ngIf",t.Loading))},directives:[M.rH,r.O5,hm._Y,hm.JL,hm.sg,hm.Fj,hm.JJ,hm.u,hm.wV],styles:[""]}),e})();const gm=[{path:"list-empleado",component:lm},{path:"create-empleado",component:pm},{path:"editEmpleado/:id",component:pm},{path:"menu",loadChildren:()=>n.e(401).then(n.bind(n,5401)).then(e=>e.MenuModule)},{path:"",redirectTo:"/list-empleado",pathMatch:"full"},{path:"**",redirectTo:"/list-empleado",pathMatch:"full"}];let mm=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[M.Bz.forRoot(gm)],M.Bz]}),e})();const ym={apiKey:"AIzaSyBghlc5MFF-2ZaeSijqw4vF8SBl5dTbj-I",authDomain:"angular-firestore-89c97.firebaseapp.com",projectId:"angular-firestore-89c97",storageBucket:"angular-firestore-89c97.appspot.com",messagingSenderId:"313041395452",appId:"1:313041395452:web:20ef80fa5e479229e28179",measurementId:"G-3WJVGF8YN9"};let vm=(()=>{class e{constructor(){this.title="U3-Tarea2, Autor: ",this.name=" Milton Antonio Rodriguez Lopez"}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-navbar"]],decls:81,vars:2,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container-fluid"],["routerLink","/list-empleado",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["routerLink","/list-empleado",1,"nav-link"],[1,"nav-item","dropdown"],["href","#","id","navbarDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdown",1,"dropdown-menu"],["routerLink","/create-empleado",1,"dropdown-item"],["routerLink","/editEmpleado",1,"dropdown-item"],["href","#",1,"dropdown-item"],[1,"dropdown-divider"],["routerLink","/menu/Inicio.html","id","navbarDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["routerLink","/menu/Inicio.html",1,"dropdown-item"],["routerLink","/menu/divisas",1,"dropdown-item"],["routerLink","/menu/mayusculas",1,"dropdown-item"],["routerLink","/menu/numeros",1,"dropdown-item"],["routerLink","/menu/fecha",1,"dropdown-item"],["routerLink","/menu/ordenar",1,"dropdown-item"],["routerLink","/menu/personalizado",1,"dropdown-item"],["href","https://console.firebase.google.com/",1,"nav-link"],["aria-current","page","href","https://angular.io/",1,"nav-link","active"],[1,"d-flex"],["type","search","placeholder","search","aria-label","Search",1,"form-control","me-2"],["type","submit",1,"btn","btn-outline-success"],[1,"container","mt-2"],[1,"p-3","mb-1","bg-light","text-dark"],[1,"bg-light"],[2,"color","navy"]],template:function(e,t){1&e&&(i.TgZ(0,"nav",0),i.TgZ(1,"div",1),i.TgZ(2,"a",2),i._uU(3,"Proyecto Final"),i.qZA(),i.TgZ(4,"button",3),i._UZ(5,"span",4),i.qZA(),i.TgZ(6,"div",5),i.TgZ(7,"ul",6),i.TgZ(8,"li",7),i.TgZ(9,"a",8),i._uU(10,"Trabajadores"),i.qZA(),i.qZA(),i.TgZ(11,"li",9),i.TgZ(12,"a",10),i._uU(13," Formularios "),i.qZA(),i.TgZ(14,"ul",11),i.TgZ(15,"li"),i.TgZ(16,"a",12),i._uU(17,"Agregar Empleado"),i.qZA(),i.qZA(),i.TgZ(18,"li"),i.TgZ(19,"a",13),i._uU(20,"Editar Empleado "),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(21,"li",9),i.TgZ(22,"a",10),i._uU(23," Rutas y Directivas "),i.qZA(),i.TgZ(24,"ul",11),i.TgZ(25,"li"),i.TgZ(26,"a",14),i._uU(27,"ngIF"),i.qZA(),i.qZA(),i.TgZ(28,"li"),i.TgZ(29,"a",14),i._uU(30,"ngFor"),i.qZA(),i.qZA(),i.TgZ(31,"li"),i._UZ(32,"hr",15),i.qZA(),i.TgZ(33,"li"),i.TgZ(34,"a",14),i._uU(35,"routerLink"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(36,"li",9),i.TgZ(37,"a",16),i._uU(38," Filtros "),i.qZA(),i.TgZ(39,"ul",11),i.TgZ(40,"li"),i.TgZ(41,"a",17),i._uU(42,"Inicio"),i.qZA(),i.qZA(),i.TgZ(43,"li"),i.TgZ(44,"a",18),i._uU(45," Representando divisas (Currency). "),i.qZA(),i.qZA(),i.TgZ(46,"li"),i.TgZ(47,"a",19),i._uU(48," Representando Mayuscula (Uppercase y Lowercase). "),i.qZA(),i.qZA(),i.TgZ(49,"li"),i.TgZ(50,"a",20),i._uU(51," Representando n\xfameros (Number)."),i.qZA(),i.qZA(),i.TgZ(52,"li"),i.TgZ(53,"a",21),i._uU(54," Formato de fecha(Date)."),i.qZA(),i.qZA(),i.TgZ(55,"li"),i._UZ(56,"hr",15),i.qZA(),i.TgZ(57,"li"),i.TgZ(58,"a",22),i._uU(59," Ordenando Elementos."),i.qZA(),i.qZA(),i.TgZ(60,"li"),i.TgZ(61,"a",23),i._uU(62," Filtro personalizado."),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(63,"li",7),i.TgZ(64,"a",24),i._uU(65,"Firebase"),i.qZA(),i.qZA(),i.TgZ(66,"li",7),i.TgZ(67,"a",25),i._uU(68,"Angular.io"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(69,"form",26),i._UZ(70,"input",27),i.TgZ(71,"button",28),i._uU(72,"Buscar"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(73,"div",29),i.TgZ(74,"div",30),i._uU(75,"Realice un proyecto donde implemente todos los conocimientos adquiridos a lo largo del mismo. El proyecto debe contener varias p\xe1ginas web, men\xfa, formularios, hacer uso de rutas y directivas. Adem\xe1s que permita realizar las funciones b\xe1sicas en firebase(Guardar, editar, eliminar y consulta)."),i.qZA(),i.TgZ(76,"p",31),i.TgZ(77,"b"),i._uU(78),i.qZA(),i.TgZ(79,"strong",32),i._uU(80),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.xp6(78),i.Oqu(t.title),i.xp6(2),i.hij(" ",t.name,""))},directives:[M.yS,hm._Y,hm.JL],styles:[""]}),e})(),_m=(()=>{class e{constructor(){this.title="U3-Tarea2, Autor: ",this.name=" Milton Antonio Rodriguez Lopez"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(e,t){1&e&&(i._UZ(0,"app-navbar"),i._UZ(1,"router-outlet"))},directives:[vm,M.lC],styles:[""]}),e})(),wm=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e,bootstrap:[_m]}),e.\u0275inj=i.cJS({providers:[],imports:[[L,mm,X.hO.initializeApp(ym),im,hm.UX]]}),e})();(0,i.G48)(),R().bootstrapModule(wm).catch(e=>console.error(e))},6304:(e,t,n)=>{"use strict";function r(e,t,n,r,i,s,o){try{var a=e[s](o),u=a.value}catch(c){return void n(c)}a.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,s){var o=e.apply(t,n);function a(e){r(o,i,s,a,u,"next",e)}function u(e){r(o,i,s,a,u,"throw",e)}a(void 0)})}}n.d(t,{Z:()=>i})},4762:(e,t,n)=>{"use strict";n.d(t,{ZT:()=>i,pi:()=>s,_T:()=>o,mG:()=>a,Jh:()=>u,XA:()=>c,CR:()=>l,ev:()=>h});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(e){try{u(r.next(e))}catch(t){s(t)}}function a(e){try{u(r.throw(e))}catch(t){s(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,a)}u((r=r.apply(e,t||[])).next())})}function u(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function c(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function h(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}}},e=>{"use strict";e(e.s=2471)}]);